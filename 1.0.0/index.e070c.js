window.__require=function e(t,n,o){function a(r,s){if(!n[r]){if(!t[r]){var c=r.split("/");if(c=c[c.length-1],!t[c]){var l="function"==typeof __require&&__require;if(!s&&l)return l(c,!0);if(i)return i(c,!0);throw new Error("Cannot find module '"+r+"'")}r=c}var p=n[r]={exports:{}};t[r][0].call(p.exports,function(e){return a(t[r][1][e]||e)},p,p.exports,e,t,n,o)}return n[r].exports}for(var i="function"==typeof __require&&__require,r=0;r<o.length;r++)a(o[r]);return a}({Adaptive111004401:[function(e,t,n){"use strict";cc._RF.push(t,"6290bzMDGBJ9Y5twKF04vq7","Adaptive111004401");var o,a=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__decorate||function(e,t,n,o){var a,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(i<3?a(r):i>3?a(t,n,r):a(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=e("../GameEventName111004401"),s=cc._decorator,c=s.ccclass,l=s.property,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.sc1=null,t.cs2=null,t.cz=null,t.logo=null,t.bg_di=null,t}return a(t,e),t.prototype.onLoad=function(){game.EventManager.getInstance().raiseEvent(core.GameCoreConst.mess_openBanner,{parent:this.node.getChildByName("banner")}),game.EventManager.getInstance().addEventListener(r.EventName.EVENT_WIN_GAME,this.showChuanzhangAni,this),game.EventManager.getInstance().addEventListener(slot.GameEventNames.EVENT_WIN_MORE_THAN_BET,this.playAni,this),e.prototype.resize.call(this)},t.prototype.layoutLandscape=function(){this.sc1.active=!1,this.cs2.active=!1,this.cz.active=!1,this.bg_di.active=!1,this.logo.scale=1,this.logo.setPosition(0,445,0)},t.prototype.layoutPortrait=function(){this.sc1.active=!0,this.cs2.active=!0,this.cz.active=!0,this.bg_di.active=!0,this.cz.scale=2.2,this.logo.scale=1.2,this.logo.setPosition(0,460,0)},t.prototype.showChuanzhangAni=function(e,t){var n=this;t==r.WinType.fiveEven&&(this.playAni(),this.playSound());var o="idle01";switch(t){case r.WinType.SuperWin:case r.WinType.MargeWin:case r.WinType.BigWin:case r.WinType.win:o="idle02"}"idle01"!=o&&(this.cz.getComponent(sp.Skeleton).setAnimation(0,o,!1),this.cz.getComponent(sp.Skeleton).setCompleteListener(function(){n.cz.getComponent(sp.Skeleton).setAnimation(0,"idle01",!0)}))},t.prototype.playAni=function(){slot.SoundMger.instance.playEffect("winPrize")},t.prototype.playSound=function(){slot.SoundMger.instance.playEffect("Five_Prize"),console.log("\u64ad\u653e\u4e86\u4e94\u8fde\u97f3\u6548")},t.prototype.onDestroy=function(){game.EventManager.getInstance().removeEventListener(r.EventName.EVENT_WIN_GAME,this.showChuanzhangAni,this),game.EventManager.getInstance().removeEventListener(slot.GameEventNames.EVENT_WIN_MORE_THAN_BET,this.playAni,this)},i([l(cc.Node)],t.prototype,"sc1",void 0),i([l(cc.Node)],t.prototype,"cs2",void 0),i([l(cc.Node)],t.prototype,"cz",void 0),i([l(cc.Node)],t.prototype,"logo",void 0),i([l(cc.Node)],t.prototype,"bg_di",void 0),i([c],t)}(slot.BaseView);n.default=p,cc._RF.pop()},{"../GameEventName111004401":"GameEventName111004401"}],Banner111004401:[function(e,t,n){"use strict";cc._RF.push(t,"1a837zDyN9NBqgDZ5NzIzU9","Banner111004401");var o,a=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__decorate||function(e,t,n,o){var a,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(i<3?a(r):i>3?a(t,n,r):a(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=e("./GameEventName111004401"),s=cc._decorator,c=s.ccclass,l=s.property,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.p_nodeBanner=null,t}return a(t,e),t.prototype.setcurrscore=function(e,t){this.p_nodeBanner.active=1==t},t.prototype.onLoad=function(){e.prototype.onLoad.call(this),game.EventManager.getInstance().addEventListener(r.EventCallbackName.EVENT_BANNER_CTRAL,this.setcurrscore,this),this.startPos=60},t.prototype.onDestroy=function(){e.prototype.onDestroy.call(this),game.EventManager.getInstance().removeEventListener(r.EventCallbackName.EVENT_BANNER_CTRAL,this.setcurrscore,this)},i([l(cc.Node)],t.prototype,"p_nodeBanner",void 0),i([c],t)}(slot.SlotBanner);n.default=p,cc._RF.pop()},{"./GameEventName111004401":"GameEventName111004401"}],BearCtrl:[function(e,t,n){"use strict";cc._RF.push(t,"633cc/uSyhCdp4xv6uyWyIR","BearCtrl");var o,a=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__decorate||function(e,t,n,o){var a,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(i<3?a(r):i>3?a(t,n,r):a(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,c=r.property,l=e("../GameEventName111004401"),p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.SkeletonData=[],t}return a(t,e),t.prototype.onLoad=function(){},t.prototype.start=function(){game.EventManager.getInstance().addEventListener(l.CabdyEvent.CLEAR_BEAR_END,this.clearbear,this)},t.prototype.clearbear=function(){this.node.opacity=0},t.prototype.ChangeBearLanguage=function(e,t){0===t?e&&("zh"==slot.GData.curLanguage?e.getComponent(sp.Skeleton).setAnimation(0,"duobao_loop",!0):e.getComponent(sp.Skeleton).setAnimation(0,"duobao_loop2",!0)):e&&("zh"==slot.GData.curLanguage?(e.getComponent(sp.Skeleton).setAnimation(0,"duobao_fadein",!1),e.getComponent(sp.Skeleton).setCompleteListener(function(){"duobao_loop"!=e.getComponent(sp.Skeleton).animation&&e.getComponent(sp.Skeleton).setAnimation(0,"duobao_loop",!0)})):(e.getComponent(sp.Skeleton).setAnimation(0,"duobao_fadein2",!1),e.getComponent(sp.Skeleton).setCompleteListener(function(){"duobao_loop2"!=e.getComponent(sp.Skeleton).animation&&e.getComponent(sp.Skeleton).setAnimation(0,"duobao_loop2",!0)})))},t.prototype.onDestroy=function(){game.EventManager.getInstance().removeEventListener(l.CabdyEvent.CLEAR_BEAR_END,this.clearbear,this)},i([c([sp.SkeletonData])],t.prototype,"SkeletonData",void 0),i([s],t)}(cc.Component);n.default=p,cc._RF.pop()},{"../GameEventName111004401":"GameEventName111004401"}],BonusGame111004401:[function(e,t,n){"use strict";cc._RF.push(t,"b43dfAaZ+dLpaKBQ+Afd607","BonusGame111004401");var o,a=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__decorate||function(e,t,n,o){var a,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(i<3?a(r):i>3?a(t,n,r):a(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=e("../GameEventName111004401"),s=e("../NumAtlasLabel111004401"),c=cc._decorator,l=c.ccclass,p=c.property,h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.p_btn=null,t.p_circular=null,t.p_bg_effect=null,t.callBack=null,t.p_btn_effect=null,t.p_click_effect=null,t.p_enter_effect=null,t.m_time=0,t.m_isPlay=!0,t.FreeGameTimes=null,t.m_isClose=!1,t.nodeid=0,t.numTime=0,t}return a(t,e),t.prototype.onLoad=function(){var e=this;game.EventManager.getInstance().addEventListener(slot.NetSlotConst.LGACTIONRESP,this.LGACTIONRESP,this),this.p_btn.on(cc.Node.EventType.TOUCH_END,function(){e.startbtn()}),this.p_btn.on(cc.Node.EventType.MOUSE_ENTER,function(){e.onOpenBtnEffect()},this),this.p_btn.on(cc.Node.EventType.MOUSE_LEAVE,function(){e.onCloseBtnEffect()},this)},t.prototype.start=function(){this.p_btn.active=!1,this.p_btn_effect.opacity=0,this.p_click_effect.opacity=0,this.setCircularAnimation()},t.prototype.initBonugameView=function(){this.p_btn.active=!1,this.p_btn_effect.opacity=0,this.p_click_effect.opacity=0,this.setCircularAnimation()},t.prototype.setCircularAnimation=function(){var e=this;cc.tween(this.p_circular).to(1,{angle:90}).call(function(){e.p_circular.active=!1,e.node.getChildByName("progress_num").active=!1,e.setBtnScale()}).start()},t.prototype.onOpenBtnEffect=function(){this.p_btn_effect.opacity=255},t.prototype.onCloseBtnEffect=function(){this.p_btn_effect.opacity=0},t.prototype.setBtnScale=function(){this.p_btn.scale=0,this.p_btn.active=!0,cc.tween(this.p_btn).to(.2,{scale:.85}).start()},t.prototype.startbtn=function(){var e=this;this.p_click_effect.opacity=255,this.p_click_effect.getComponent(sp.Skeleton).setAnimation(0,"partliceC",!1),slot.SoundMger.instance.playEffect("Add_Free_Sound",!1),this.scheduleOnce(function(){game.EventManager.getInstance().raiseEvent(r.EventCallbackName.FREE_GAME_START,e.FreeGameTimes),e.callBack.run(),game.UIManager.getInstance().close(e)},.5)},t.prototype.timeClose=function(){var e=this;this.scheduleOnce(function(){},.3),this.scheduleOnce(function(){game.EventManager.getInstance().raiseEvent(r.EventCallbackName.FREE_GAME_START,e.FreeGameTimes),e.callBack.run(),game.UIManager.getInstance().close(e)},.5)},t.prototype.LGACTIONRESP=function(){var e=this;cc.tween(this).delay(.5).call(function(){e.next()}).start()},t.prototype.init=function(){this.m_time=5,this.node.opacity=255,this.m_isPlay=!0,this.m_isClose=!1,slot.SoundMger.instance.playEffect("Loading_Music",!1)},t.prototype.onOpen=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];this.callBack=t[0][0],this.FreeGameTimes=t[0][1].times,this.lasttimes=t[0][1].sumTimes,this.init(),this.initBonugameView(),this.node.getChildByName("times").getComponent(s.default).string=""+this.FreeGameTimes,this.p_enter_effect.getComponent(sp.Skeleton).setAnimation(0,"light_inort",!1),this.p_bg_effect.getComponent(sp.Skeleton).setAnimation(0,"bg_loop",!0),game.EventManager.getInstance().raiseEvent(r.EventCallbackName.EVENT_SET_FREEGAME_STAR_INIT_MULTIP)},t.prototype.onClickBrideNode=function(){slot.SoundMger.instance.playEffect(r.SOUND_NAME.Fs_Start,!1),game.EventManager.getInstance().raiseEvent(r.mouseEvent.FREE_GAME_CLOSE);var e=cc.scaleTo(.2,1.1),t=cc.scaleTo(.2,1),n=cc.callFunc(function(){this.cb.run(),this.node.destroy()}.bind(this)),o=cc.sequence(e,t,n);this.bl_button.runAction(o)},t.prototype.onActionResult=function(){console.log("\u8fd4\u56de ------------------- ")},t.prototype.onDestroy=function(){e.prototype.onDestroy.call(this),game.EventManager.getInstance().removeEventListener(slot.NetSlotConst.LGACTIONRESP,this.LGACTIONRESP,this)},t.prototype.getLastActionResult=function(){return null},t.prototype.onClose=function(){},t.prototype.update=function(e){0==this.m_isClose&&(this.numTime<=1&&(this.numTime+=e),this.numTime>=1&&this.m_time>=0&&(this.numTime=0,this.m_time>=0&&0==this.m_time&&(this.timeClose(),console.log("\u7ed3\u675f\u4e86\uff0c\u7ed3\u675f\u4e86\uff0c\u9700\u8981\u4f60\u5173\u95ed\u754c\u9762")),this.m_time-=1))},t.prototype._updateTime=function(){},i([p(cc.Node)],t.prototype,"p_btn",void 0),i([p(cc.Node)],t.prototype,"p_circular",void 0),i([p(cc.Node)],t.prototype,"p_bg_effect",void 0),i([p(cc.Node)],t.prototype,"p_btn_effect",void 0),i([p(cc.Node)],t.prototype,"p_click_effect",void 0),i([p(cc.Node)],t.prototype,"p_enter_effect",void 0),i([l],t)}(slot.AbstractBonusGameView);n.default=h,cc._RF.pop()},{"../GameEventName111004401":"GameEventName111004401","../NumAtlasLabel111004401":"NumAtlasLabel111004401"}],Btn111004401:[function(e,t,n){"use strict";cc._RF.push(t,"72105PNaIlCxJlvRKVoL/VG","Btn111004401");var o,a=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__decorate||function(e,t,n,o){var a,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(i<3?a(r):i>3?a(t,n,r):a(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=e("../GameEventName111004401"),s=e("../roller/GameLayer111004401"),c=cc._decorator,l=c.ccclass,p=(c.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype.onEnable=function(){console.log("onEnable"),s.default.instance.sprite_btn_sb.opacity=255,game.EventManager.getInstance().raiseEvent(r.EventCallbackName.EVENT_OPEN_BTN_BAR_BG)},t.prototype.onDisable=function(){s.default.instance.sprite_btn_sb.opacity=0,game.EventManager.getInstance().raiseEvent(r.EventCallbackName.EVENT_CLOSE_BTN_BAR_BG),console.log("onDisable")},i([l],t)}(cc.Component));n.default=p,cc._RF.pop()},{"../GameEventName111004401":"GameEventName111004401","../roller/GameLayer111004401":"GameLayer111004401"}],Cannon:[function(e,t,n){"use strict";cc._RF.push(t,"b8e22cy9mZJGLnGTzwLNW/t","Cannon");var o,a=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__decorate||function(e,t,n,o){var a,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(i<3?a(r):i>3?a(t,n,r):a(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,c=r.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.p_nodeNumAn=null,t.p_nodeNumLiang=null,t.p_nodeLiang=null,t.p_nodeSprShanGuang=null,t.p_nodeFxAni=null,t.p_nodeUpShow=[],t.p_strFxAniName="",t.m_anCommonNumAtlas=null,t.m_liangCommonNumAtlas=null,t.m_isLiang=!1,t}return a(t,e),t.prototype.onLoad=function(){this.m_anCommonNumAtlas=this.p_nodeNumAn.getComponent("CommonNumAtlas111004401"),this.m_liangCommonNumAtlas=this.p_nodeNumLiang.getComponent("CommonNumAtlas111004401")},t.prototype.init=function(){this.p_nodeNumAn.active=!0,this.p_nodeNumLiang.active=!1,this.p_nodeSprShanGuang.active=!1,this.m_anCommonNumAtlas.string="",this.m_liangCommonNumAtlas.string="",this.node.scale=1},t.prototype.setOnline=function(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!1),t?(this.p_nodeLiang.active=e,this.node.scale=e?1.1:1):this.playAction(e,n)},t.prototype.setArrCannonUp=function(e){for(var t=function(t){var o=n.p_nodeUpShow[t];o.active=e,e?(o.active=!0,o.opacity=0,cc.tween(o).to(.3,{opacity:255}).start()):(o.opacity=255,cc.tween(o).to(.3,{opacity:0}).call(function(){o.opacity=255,o.active=!1}).start())},n=this,o=0;o<this.p_nodeUpShow.length;o++)t(o)},t.prototype.playCannonUp=function(e){var t=this;this.setCommonNum(e),1==this.p_nodeLiang.active?cc.tween(this.node).to(.2,{scale:1.2}).call(function(){cc.tween(t.node).to(.2,{scale:1.1}).call(function(){t.setArrCannonUp(!1)}).start()}).start():(this.p_nodeLiang.active=!0,cc.tween(this.node).to(.3,{scale:1.2}).call(function(){cc.tween(t.node).to(.3,{scale:1}).call(function(){t.setArrCannonUp(!1)}).start()}).start(),cc.tween(this.p_nodeLiang).delay(.3).to(1,{opacity:0}).call(function(){t.p_nodeLiang.opacity=255,t.p_nodeLiang.active=!1}).start())},t.prototype.playAction=function(e,t){var n=this;void 0===t&&(t=!1),1==e?(1==this.m_isLiang&&1==t?this._playUpAni():0==this.m_isLiang&&1==t?cc.tween(this).delay(.5).call(function(){n.p_nodeLiang.active=!0,n.playLight()}).start():(this.p_nodeLiang.active=!0,this.playLight()),this.m_isLiang=!0):this.playDark(t)},t.prototype.playLight=function(){var e=this;this.p_nodeSprShanGuang.active=!0,this.p_nodeSprShanGuang.scale=.5,cc.tween(this.p_nodeSprShanGuang).to(.3,{scale:.8}).call(function(){e.p_nodeSprShanGuang.active=!1}).start();var t=cc.sequence(cc.scaleTo(.5,1.2,1.2),cc.callFunc(function(){e.p_nodeNumAn.active=!1,e.p_nodeLiang.active=!0}),cc.scaleTo(.1,1.1,1.1));this.node.runAction(t)},t.prototype._playUpAni=function(e){var t=this;this.p_nodeFxAni.active=!0,this.p_nodeFxAni.getComponent(sp.Skeleton).setAnimation(0,this.p_strFxAniName,!1),this.p_nodeFxAni.getComponent(sp.Skeleton).setCompleteListener(function(){t.p_nodeFxAni.active=!1,e&&e(),cc.tween(t.node).to(.2,{scale:1}).start()})},t.prototype.playDark=function(e){var t=this;e&&this.p_strFxAniName.length>0&&1==this.m_isLiang?this._playUpAni(function(){t.p_nodeNumAn.active=!0,t.p_nodeLiang.active=!1}):(this.p_nodeNumAn.active=!0,this.p_nodeLiang.active=!1,cc.tween(this.node).to(.2,{scale:1}).start()),this.m_isLiang=!1},t.prototype.setCommonNum=function(){},t.prototype.start=function(){},i([c(cc.Node)],t.prototype,"p_nodeNumAn",void 0),i([c(cc.Node)],t.prototype,"p_nodeNumLiang",void 0),i([c(cc.Node)],t.prototype,"p_nodeLiang",void 0),i([c(cc.Node)],t.prototype,"p_nodeSprShanGuang",void 0),i([c(cc.Node)],t.prototype,"p_nodeFxAni",void 0),i([c({type:[cc.Node]})],t.prototype,"p_nodeUpShow",void 0),i([c(cc.String)],t.prototype,"p_strFxAniName",void 0),i([s],t)}(cc.Component);n.default=l,cc._RF.pop()},{}],CommonNumAtlas111004401:[function(e,t,n){"use strict";cc._RF.push(t,"4b4eeau0QVJ0qVL2hHp+KpY","CommonNumAtlas111004401");var o,a=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__decorate||function(e,t,n,o){var a,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(i<3?a(r):i>3?a(t,n,r):a(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,c=(r.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype.onLoad=function(){},t.prototype.start=function(){},i([s],t)}(slot.CommonNumAtlasBase));n.default=c,cc._RF.pop()},{}],FreeGameResult:[function(e,t,n){"use strict";cc._RF.push(t,"d6e6cadh2pDRrrh49UHplWd","FreeGameResult");var o,a=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__decorate||function(e,t,n,o){var a,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(i<3?a(r):i>3?a(t,n,r):a(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=e("../GameEventName111004401"),s=e("../main/CommonNumAtlas111004401"),c=cc._decorator,l=c.ccclass,p=c.property,h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.p_nodeMoney=null,t.p_btnDraw=null,t.wordsNode=null,t.p_btn_effect=null,t.p_bg_effect=null,t.p_light_effect=null,t.p_Game_times_Lable=null,t.p_click_effect=null,t.p_btn_start_world=null,t.m_isUpdate=!1,t.callBack=null,t.m_sumSpinCoin=0,t.m_sumTimes=0,t.m_money=1e3,t.m_speed=3,t.m_time=0,t}return a(t,e),t.prototype.onLoad=function(){var e=this;this.p_btnDraw.node.on("click",this.onClickBtnDraw,this),this.node.getChildByName("cclay").on(cc.Node.EventType.TOUCH_START,function(){e.onClickEndMoney()},this),"zh"!=slot.GData.curLanguage&&(this.p_btn_start_world.scale=.6)},t.prototype.initFreegameView=function(){this.p_btn_effect.opacity=0,this.p_light_effect.opacity=0,this.p_click_effect.opacity=0,this.p_btnDraw.node.active=!1},t.prototype.start=function(){var e=this;this.p_btnDraw.node.on(cc.Node.EventType.MOUSE_LEAVE,function(){e.onCloseBtnEffect()},this),this.p_btnDraw.node.on(cc.Node.EventType.MOUSE_ENTER,function(){e.onOpenBtnEffect()},this)},t.prototype.onClickEndMoney=function(){this.m_isUpdate=!1,this._setLabMoney(this.m_sumSpinCoin),this.p_btnDraw.node.active=!0,slot.SoundMger.instance.stopEffect("Bgm_Totalwin_Main"),slot.SoundMger.instance.playEffect("Bgm_Totalwin_End",!1)},t.prototype.onOpen=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];this.init(),this.callBack=t[0][0],this.m_sumSpinCoin=t[0][1].sumSpinCoin,this.m_sumTimes=t[0][1].sumTimes,this._playLabMoney(),this.node.stopAllActions(),this.p_Game_times_Lable.getComponent(s.default).string=""+this.m_sumTimes,slot.SoundMger.instance.stopMusic("FreeGame_Back_Music",!1),slot.SoundMger.instance.playEffect("Bgm_Totalwin_Main",!1),this.initFreegameView()},t.prototype.init=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.m_isUpdate=!1,this.m_time=0},t.prototype.onOpenBtnEffect=function(){this.p_btn_effect.opacity=255,this.p_btn_effect.getComponent(sp.Skeleton).setAnimation(0,"button_lide",!0)},t.prototype.onCloseBtnEffect=function(){this.p_btn_effect.opacity=0},t.prototype.onClickBtnDraw=function(){var e=this;this.p_click_effect.opacity=255,this.p_click_effect.getComponent(sp.Skeleton).setAnimation(0,"partliceC",!1),slot.SoundMger.instance.playEffect("Free_Button_Sound",!1),this.scheduleOnce(function(){},.25),this.scheduleOnce(function(){slot.SoundMger.instance.playMusic("Game_Back_Music",!0),game.EventManager.getInstance().raiseEvent(r.EventCallbackName.FREE_GAME_OVER,e.m_sumSpinCoin),game.UIManager.getInstance().close(e),e.callBack&&e.callBack.run()},.5)},t.prototype.timeendClose=function(){this.scheduleOnce(function(){},.25);var e=cc.delayTime(.5),t=cc.callFunc(function(){game.EventManager.getInstance().raiseEvent(r.EventCallbackName.FREE_GAME_OVER,this.m_sumSpinCoin),game.UIManager.getInstance().close(this),slot.SoundMger.instance.playMusic("Game_Back_Music",!0),this.callBack&&this.callBack.run()}.bind(this));this.node.runAction(cc.sequence(e,t))},t.prototype._playLabMoney=function(){this._setLabMoney(0),this.m_isUpdate=!0,this.scheduleOnce(function(){},.02),this.m_money=0,this.m_speed=Math.ceil(this.m_sumSpinCoin/150)},t.prototype._setLabSecond=function(){},t.prototype._setLabMoney=function(e){this.p_nodeMoney.getComponent(s.default).string=slot.SlotUtils.formatNumber(e,2)},t.prototype._playBtnDraw=function(){this.scheduleOnce(function(){slot.SoundMger.instance.playEffect("Free_Game_Settlement_Sound",!1)},.04),this.p_btnDraw.node.active=!0,cc.tween(this.p_btnDraw.node).to(.3,{scale:1.2}).to(.2,{scale:1}).start()},t.prototype.update=function(e){var t=this;if(this.m_isUpdate)if(this.m_money<this.m_sumSpinCoin)this.m_money+=this.m_speed,this._setLabMoney(this.m_money);else if(this.m_money>=this.m_sumSpinCoin){this.m_isUpdate=!1,this.m_money+=this.m_speed,this._setLabMoney(this.m_sumSpinCoin),slot.SoundMger.instance.stopEffect("Bgm_Totalwin_Main"),slot.SoundMger.instance.playEffect("Bgm_Totalwin_End",!1),this.p_light_effect.opacity=255,this.p_light_effect.getComponent(sp.Skeleton).setAnimation(0,"light_inort",!1),this._playBtnDraw();var n=this.p_nodeMoney.getSiblingIndex();cc.tween(this.p_nodeMoney).call(function(){return t.p_nodeMoney.setSiblingIndex(20)}).delay(.3).to(.4,{scale:1.5}).to(.3,{scale:1}).call(function(){return t.p_nodeMoney.setSiblingIndex(n)}).start()}1==this.p_btnDraw.node.active&&(this.m_time+=e,this.m_time>=6&&this.timeendClose())},i([p(cc.Node)],t.prototype,"p_nodeMoney",void 0),i([p(cc.Button)],t.prototype,"p_btnDraw",void 0),i([p(cc.Node)],t.prototype,"wordsNode",void 0),i([p(cc.Node)],t.prototype,"p_btn_effect",void 0),i([p(cc.Node)],t.prototype,"p_bg_effect",void 0),i([p(cc.Node)],t.prototype,"p_light_effect",void 0),i([p(cc.Node)],t.prototype,"p_Game_times_Lable",void 0),i([p(cc.Node)],t.prototype,"p_click_effect",void 0),i([p(cc.Node)],t.prototype,"p_btn_start_world",void 0),i([l],t)}(game.UIView);n.default=h,cc._RF.pop()},{"../GameEventName111004401":"GameEventName111004401","../main/CommonNumAtlas111004401":"CommonNumAtlas111004401"}],GameBg111004401:[function(e,t,n){"use strict";cc._RF.push(t,"597fcE2jUVAnZlW9rkQGMfA","GameBg111004401");var o,a=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__decorate||function(e,t,n,o){var a,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(i<3?a(r):i>3?a(t,n,r):a(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=e("../GameEventName111004401"),s=cc._decorator,c=s.ccclass,l=s.property,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.p_nodeBg1=null,t.p_nodeBg2=null,t.p_title_bg1=null,t.p_title_bg2=null,t.p_btn_bg1=null,t.p_btn_bg2=null,t.p_biaoti_effect1=null,t.p_biaoti_effect2=null,t}return a(t,e),t.prototype.onLoad=function(){game.EventManager.getInstance().addEventListener(r.EventCallbackName.FREE_GAME_START,this._onFreeGameStart,this),game.EventManager.getInstance().addEventListener(r.EventCallbackName.FREE_GAME_OVER,this._onFreeGameOver,this),game.EventManager.getInstance().addEventListener(r.CabdyEvent.OPEN_WIN_TITLE_WORLD_TWO_MULT,this.openWintitleSprite,this),game.EventManager.getInstance().addEventListener(r.CabdyEvent.CLOSE_WIN_TITLE_WORLD_TWO_MULT,this.closeWintitleSprite,this),game.EventManager.getInstance().addEventListener(r.EventCallbackName.EVENT_OPEN_BTN_BAR_BG,this.oPenBtnBarbg,this),game.EventManager.getInstance().addEventListener(r.EventCallbackName.EVENT_CLOSE_BTN_BAR_BG,this.cLoseBtnBarbg,this),game.EventManager.getInstance().addEventListener(r.EventCallbackName.EVENT_SET_OPEN_BIAOTI_EFFECT,this.setOpenBiaotiEffect,this),game.EventManager.getInstance().addEventListener(r.EventCallbackName.EVENT_SET_CLOSE_BIAOTI_EFFECT,this.CloseBiaotiEffect,this),this.initview(),"th"==slot.GData.curLanguage&&(this.World_Times.scale=1)},t.prototype.initview=function(){this.p_nodeBg2.opacity=0,this.p_nodeBg1.opacity=255,this.p_title_bg1.opacity=255,this.p_title_bg2.opacity=0},t.prototype.setOpenBiaotiEffect=function(){this.p_biaoti_effect1.opacity=255,this.p_biaoti_effect2.opacity=255},t.prototype.CloseBiaotiEffect=function(){this.p_biaoti_effect1.opacity=0,this.p_biaoti_effect2.opacity=0},t.prototype._onFreeGameStart=function(){this.p_nodeBg1.opacity=0,this.p_nodeBg2.opacity=255;var e=slot.MainView.instance.node.getChildByName("gameControPrefab");slot.MainView.instance.node.getChildByName("menu").active=!1,e.opacity=0,slot.MainView.instance.node.getChildByName("scorePrefab").y=-640},t.prototype._onFreeGameOver=function(){this.p_nodeBg1.opacity=255,this.p_nodeBg2.opacity=0;var e=slot.MainView.instance.node.getChildByName("gameControPrefab");slot.MainView.instance.node.getChildByName("menu").active=!0,e.opacity=255,slot.MainView.instance.node.getChildByName("scorePrefab").y=-420},t.prototype.oPenBtnBarbg=function(){this.p_btn_bg1.active=!0},t.prototype.cLoseBtnBarbg=function(){this.p_btn_bg1.active=!1,slot.GameControlBase.instance.ctlBtn.zIndex=-1},t.prototype.openwinemultffect=function(){this.p_bgligthnode.active=!1},t.prototype.openwineffect=function(){this.p_bgligthnode.active=!1},t.prototype.showbanner=function(){this.p_bgligthnode.active=!0},t.prototype.hidebannr=function(){},t.prototype.openWintitleSprite=function(){},t.prototype.closeWintitleSprite=function(){},t.prototype.NormalBgChange=function(e,t){1==t?(this.p_title_bg1.active=!0,this.p_title_bg2.active=!1):(this.p_title_bg1.active=!1,this.p_title_bg2.active=!0)},t.prototype.onDestroy=function(){game.EventManager.getInstance().removeEventListener(r.EventCallbackName.FREE_GAME_START,this._onFreeGameStart,this),game.EventManager.getInstance().removeEventListener(r.EventCallbackName.FREE_GAME_OVER,this._onFreeGameOver,this),game.EventManager.getInstance().removeEventListener(r.CabdyEvent.OPEN_WIN_TITLE_WORLD_TWO_MULT,this.openWintitleSprite,this),game.EventManager.getInstance().removeEventListener(r.CabdyEvent.CLOSE_WIN_TITLE_WORLD_TWO_MULT,this.closeWintitleSprite,this),game.EventManager.getInstance().removeEventListener(r.EventCallbackName.EVENT_OPEN_BTN_BAR_BG,this.closeWintitleSprite,this),game.EventManager.getInstance().removeEventListener(r.EventCallbackName.EVENT_CLOSE_BTN_BAR_BG,this.closeWintitleSprite,this),game.EventManager.getInstance().removeEventListener(r.EventCallbackName.EVENT_SET_OPEN_BIAOTI_EFFECT,this.setOpenBiaotiEffect,this),game.EventManager.getInstance().removeEventListener(r.EventCallbackName.EVENT_SET_CLOSE_BIAOTI_EFFECT,this.CloseBiaotiEffect,this)},i([l(cc.Node)],t.prototype,"p_nodeBg1",void 0),i([l(cc.Node)],t.prototype,"p_nodeBg2",void 0),i([l(cc.Node)],t.prototype,"p_title_bg1",void 0),i([l(cc.Node)],t.prototype,"p_title_bg2",void 0),i([l(cc.Node)],t.prototype,"p_btn_bg1",void 0),i([l(cc.Node)],t.prototype,"p_btn_bg2",void 0),i([l(cc.Node)],t.prototype,"p_biaoti_effect1",void 0),i([l(cc.Node)],t.prototype,"p_biaoti_effect2",void 0),i([c],t)}(slot.BaseView);n.default=p,cc._RF.pop()},{"../GameEventName111004401":"GameEventName111004401"}],GameEventName111004401:[function(e,t,n){"use strict";cc._RF.push(t,"ca65fGvksNAQrdlFI+FdLPW","GameEventName111004401"),Object.defineProperty(n,"__esModule",{value:!0}),n.CabdyEvent=n.EventCallbackName=n.BannerCtral=n.mouseEvent=n.SOUND_NAME=n.SetScatterType=n.RoleAniType=n.WinType=n.EventName=void 0,function(e){e.EVENT_WIN_GAME="EVENT_WIN_GAME",e.EVENT_UPDATE_MULTIPLE="EVENT_UPDATE_MULTIPLE",e.EVENT_UPDATE_MULTIPLE_NUM="EVENT_UPDATE_MULTIPLE_NUM",e.EVENT_CONTINUE_REWARD="EVENT_CONTINUE_REWARD",e.EVENT_CONTINUE_REWARD_END="EVENT_CONTINUE_REWARD_END",e.FREE_GAME_START="FREE_GAME_START",e.FREE_GAME_OVER="FREE_GAME_OVER",e.EVENT_FREE_GAME_NUM="EVENT_FREE_GAME_NUM",e.EVENT_ADD_FREE_GAME_NUM="EVENT_ADD_FREE_GAME_NUM",e.EVENT_PLAY_WIN_NUM_BEGIN="EVENT_PLAY_WIN_NUM_BEGIN",e.EVENT_STOP_WIN_NUM="EVENT_STOP_WIN_NUM",e.EVENT_PLAY_ROLE_ANI="EVENT_PLAY_ROLE_ANI",e.EVENT_PLAY_SCORE_ANI="EVENT_PLAY_SCORE_ANI",e.EVENT_FLUSH_CURR_SORCE="EVENT_FLUSH_CURR_SORCE",e.EVENT_SET_CLEAR_NODE_SCORE="EVENT_SET_CLEAR_NODE_SCORE"}(n.EventName||(n.EventName={})),function(e){e.SuperWin="SuperWin",e.MargeWin="MargeWin",e.BigWin="BigWin",e.Lose="Lose",e.win="win",e.fiveEven="fiveEven",e.wild="wild"}(n.WinType||(n.WinType={})),function(e){e[e.Random=1]="Random",e[e.Multiplier=2]="Multiplier",e[e.WinMedium=3]="WinMedium",e[e.WinSmall=4]="WinSmall",e[e.FastSpinIdle=5]="FastSpinIdle"}(n.RoleAniType||(n.RoleAniType={})),function(e){e[e.Rocket=9]="Rocket",e[e.Chocolates=10]="Chocolates",e[e.Cabdy=11]="Cabdy"}(n.SetScatterType||(n.SetScatterType={})),function(e){e.FreeGame_Back_Music="FreeGame_Back_Music",e.Free_Game_Settlement="Free_Game_Settlement",e.Free_Game_Settlement_End="Free_Game_Settlement_End",e.Wild_Expectation_Drop="Wild_Expectation_Drop",e.Wild_Expectation_Beat="Wild_Expectation_Beat",e.Wild_Expectation="Wild_Expectation",e.Free_Start_Sound="Free_Start_Sound",e.Free_Start_Appear="Free_Start_Appear",e.Free_Add_Sym="Free_Add_Sym",e.Free_Add="Free_Add",e.Role_Move="Role_Move",e.Role_Win_Move="Role_Win_Move",e.Mtp_Effect="Mtp_Effect",e.Mtp_Appear="Mtp_Appear",e.Symbol_Prize="Symbol_Prize",e.Textbox_01="Textbox_01",e.Textbox_Coin="Textbox_Coin",e.Textbox_02="Textbox_02",e.Fs_Mg_Prize="Fs_Mg_Prize",e.Reel_Stop="Reel_Stop",e.Reel_Stop_Quick="Reel_Stop_Quick",e.Fs_Start="Fs_Start",e.Prize_Big="Prize_Big",e.Prize_Big_End="Prize_Big_End",e.Symbol_Explode="Symbol_Explode",e.Reel_Click="Reel_Click"}(n.SOUND_NAME||(n.SOUND_NAME={})),function(e){e.GET_REWARD_AND_POP_TIME="GET_REWARD_AND_POP_TIME",e.GET_REWARD_BOARD_CALL="GET_REWARD_BOARD_CALL",e.GET_REWARD_BEFOR="GET_REWARD_BEFOR",e.INIT_TO_FREE_GAME="INIT_TO_FREE_GAME",e.FREE_GAME_CLOSE="FREE_GAME_CLOSE",e.INIT_MOUSE_MOVE_POS="INIT_MOUSE_MOVE_POS",e.INIT_MOUSE_MOVE_POS_REWARD="INIT_MOUSE_MOVE_POS_REWARD",e.MOUSE_MOVE_POS="MOUSE_MOVE_POS",e.CLEAR_MOUSE_MOVE="CLEAR_MOUSE_MOVE",e.SEVER_DATA_INIT="SEVER_DATA_INIT",e.ANIMATION_STOP_CALL_BACK="ANIMATION_STOP_CALL_BACK",e.NORMAL_RECONNECTION_DATA="NORMAL_RECONNECTION_DATA",e.FREE_RECONNECTION_DATA="FREE_RECONNECTION_DATA",e.ROLL_ANI_START="ROLL_ANI_START",e.ROLL_ANI_START_WHO="ROLL_ANI_START_WHO",e.ROLL_ANI_END="ROLL_ANI_END",e.FREE_GAME_ADD_TIME="FREE_GAME_ADD_TIME",e.ROLL_END_CALL_BACK="ROLL_END_CALL_BACK",e.MOUSE_MOVE_END="MOUSE_MOVE_END",e.MOUSE_BIG_MOVE_END="MOUSE_BIG_MOVE_END",e.OPACITY_END="OPACITY_END",e.GET_RAWARD_FOOD="GET_RAWARD_FOOD",e.GET_REWARD_BEGAN="GET_REWARD_BEGAN",e.GET_FREE_REWARD_BEGAN_MOUSE_BG="GET_FREE_REWARD_BEGAN_MOUSE_BG",e.PLAY_BURST_ANI_BEGAN="PLAY_BURST_ANI_BEGAN",e.PLAY_ROLL_ANI_BEGAN="PLAY_ROLL_ANI_BEGAN",e.PLAY_ROLL_ANI_END="PLAY_ROLL_ANI_END",e.ROLL_END_STEP_TASK="ROLL_END_STEP_TASK",e.NOT_HAVE_MONY_OPEN_ROLL="NOT_HAVE_MONY_OPEN_ROLL"}(n.mouseEvent||(n.mouseEvent={})),function(e){e[e.OPEN=1]="OPEN",e[e.CLOSE=2]="CLOSE"}(n.BannerCtral||(n.BannerCtral={})),function(e){e.EVENT_BANNER_CTRAL="EVENT_BANNER_CTRAL",e.EVENT_SET_TOTLE_SCORE_LABLE="EVENT_SET_TOTLE_SCORE_LABLE",e.EVENT_SET_ALL_TOTLE_SCORE_LABLE="EVENT_SET_ALL_TOTLE_SCORE_LABLE",e.EVENT_ACCEPT_NETWORK_DATA="EVENT_ACCEPT_NETWORK_DATA",e.EVENT_SET_ELIMINATE_MULTIP="EVENT_SET_ELIMINATE_MULTIP",e.EVENT_SET_LARGE_IMGAGE="EVENT_SET_LARGE_IMGAGE",e.EVENT_ACCEPT_ALL_LARGE_NODE="EVENT_ACCEPT_ALL_LARGE_NODE",e.EVENT_ElEPlAYANI_CALLBACK="EVENT_ElEPlAYANI_CALLBACK",e.FREE_GAME_START="FREE_GAME_START",e.FREE_GAME_OVER="FREE_GAME_OVER",e.EVENT_FREE_GAME_NUM="EVENT_FREE_GAME_NUM",e.EVENT_ADD_FREE_GAME_NUM="EVENT_ADD_FREE_GAME_NUM",e.EVENT_CLOSE_BTN_BAR_BG="EVENT_CLOSE_BTN_BAR_BG",e.EVENT_OPEN_BTN_BAR_BG="EVENT_OPEN_BTN_BAR_BG",e.EVENT_ACCEPT_WiN_SCORE_NODE="EVENT_ACCEPT_WiN_SCORE_NODE",e.EVENT_SET_WIN_SCORE_LABLE_SHOW="EVENT_SET_WIN_SCORE_LABLE_SHOW",e.EVENT_SET_WIN_SCORE_LABLE_HID="EVENT_SET_WIN_SCORE_LABLE_HID",e.EVENT_SET_LOG_LARGE_IMAGE_NODE="EVENT_SET_LOG_LARGE_IMAGE_NODE",e.EVENT_SET_OPEN_BIAOTI_EFFECT="EVENT_SET_OPEN_BIAOTI_EFFECT",e.EVENT_SET_CLOSE_BIAOTI_EFFECT="EVENT_SET_CLOSE_BIAOTI_EFFECT",e.EVENT_SET_LOGIN_AGREEMENT_DATA="EVENT_SET_LOGIN_AGREEMENT_DATA",e.EVENT_SET_NET_CONNECT_MULTIP="EVENT_SET_NET_CONNECT_MULTIP",e.EVENT_SET_FREEGAME_STAR_INIT_MULTIP="EVENT_SET_FREEGAME_STAR_INIT_MULTIP",e.EVENT_SET_IMAGE_SPRITEDATA="EVENT_SET_IMAGE_SPRITEDATA"}(n.EventCallbackName||(n.EventCallbackName={})),function(e){e.EVENT_SET_CLEAR_NODE_SCORE="EVENT_SET_CLEAR_NODE_SCORE",e.EVENT_ACCEPT_NETWORK_DATA="EVENT_ACCEPT_NETWORK_DATA",e.EVENT_CLEAR_SCORE_NODE="EVENT_CLEAR_SCORE_NODE",e.EVENT_BANNER_CTOR="EVENT_BANNER_CTOR",e.EVENT_SET_TOTLE_SCORE_LABLE="EVENT_SET_TOTLE_SCORE_LABLE",e.EVENT_CREAT_SCATTER_BAR="EVENT_CREAT_SCATTER_BAR",e.EVENT_GUNZHOU_SPINCOMPLETE="EVENT_GUNZHOU_SPINCOMPLETE",e.EVENT_GUNZHOU_SPINSTART="EVENT_GUNZHOU_SPINSTART",e.EVENT_JUDGE_COMBINATION="EVENT_JUDGE_COMBINATION",e.EVENT_CHANGE_IMAGE="EVENT_CHANGE_IMAGE",e.EVENT_CHANGE_IMAGE_ID="EVENT_CHANGE_IMAGE_ID",e.FREE_GAME_START="FREE_GAME_START",e.FREE_GAME_OVER="FREE_GAME_OVER",e.EVENT_FREE_GAME_NUM="EVENT_FREE_GAME_NUM",e.EVENT_ADD_FREE_GAME_NUM="EVENT_ADD_FREE_GAME_NUM",e.ROLL_END_STEP_TASK="ROLL_END_STEP_TASK",e.OPEN_WIN_MULTIP_EFFECT="OPEN_WIN_MULTIP_EFFECT",e.CLOSE_WIN_MULTIP_EFFECT="CLOSE_WIN_MULTIP_EFFECT",e.OPEN_FREE_GAME_BANNER="OPEN_FREE_GAME_BANNER",e.CLOSE_FREE_GAME_BANNER="CLOSE_FREE_GAME_BANNER",e.CLOSE_SCORE_LABLE="CLOSE_SCORE_LABLE",e.FREEGAME_NETWORK_STATE="FREEGAME_NETWORK_STATE",e.OPEN_WIN_TITLE_WORLD_TWO_MULT="OPEN_WIN_TITLE_WORLD_TWO_MULT",e.CLOSE_WIN_TITLE_WORLD_TWO_MULT="OPEN_WIN_TITLE_WORLD_TWO_MULT",e.CLOSE_FREEGAME_END_TOTLE_SCORE="CLOSE_FREEGAME_END_TOTLE_SCORE",e.INIT_BEAR_POS="INIT_BEAR_POS",e.SET_BANNER_SCORE="SET_BANNER_SCORE",e.SET_NORAMAL_TITLEBAG="SET_NORAMAL_TITLEBAG",e.CLEAR_BEAR_END="CLEAR_BEAR_END",e.EVENT_CHANGE_CANDY_SHOW_IMAGE="EVENT_CHANGE_CANDY_SHOW_IMAGE",e.EVENT_LACK_GOLD_CLEAR_BEAR="EVENT_LACK_GOLD_CLEAR_BEAR",e.EVENT_CLEAR_BEAR_CALLBACK="EVENT_CLEAR_BEAR_CALLBACK",e.JT_MIX_ELEM="JT_MIX_ELEM"}(n.CabdyEvent||(n.CabdyEvent={})),cc._RF.pop()},{}],GameLayer111004401:[function(e,t,n){"use strict";cc._RF.push(t,"03dfd0k2WFPcJVsFSNgFaM+","GameLayer111004401");var o,a=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__decorate||function(e,t,n,o){var a,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(i<3?a(r):i>3?a(t,n,r):a(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=e("../GameEventName111004401"),s=e("../main/Btn111004401"),c=e("../main/Main111004401"),l=e("../tool/Tool"),p=e("./femaleMouseCtrl"),h=e("./scrollerSkins/JTChildManager111004401"),_=e("./scrollerSkins/JTLayerManager111004401"),d=e("./scrollerSkins/JTLogicFactroy111004401"),u=e("./WinIamageNodeCtral"),g=cc._decorator,m=g.ccclass,f=g.property,E=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.aaaNode=null,t.roller=null,t.mouse=null,t.rollMarsk=null,t.rollPushMarsk=null,t.falameMouse=null,t.rollMarskRed=null,t.winTimesView=null,t.freeLabelNode=null,t.falameMouseTime=0,t.scatterDopGapTime=.1,t.scatterDopWaitTime=.1,t.sprite_btn_sb=null,t.p_winLayout=null,t.p_SpriteData=[],t.scatterWaitLight=null,t.scatterWaitNode=null,t.ImgEffectPrefab=null,t.largeImageCarPrefab=null,t.winScorePrefab=null,t.frameAniViewPrefab=null,t.wildPrefab=null,t.freePrefab=null,t.freeGameTimes=null,t.freeGameTimesState=!1,t.isFirstInGame=!0,t.haveRoll=!1,t.stepTaskCallBcak=null,t.scatterTask=null,t.wildTask=null,t.scroller=null,t.m_isRunning=!1,t.removeIndex=-1,t.protectedLastFreeAdd=null,t.first_enter_eilmint=!0,t.specialElemGridPieceList=[],t.curMoney=0,t.count=-1,t.isAddBigWinCoin=!0,t.curr_gold=null,t.login_data=null,t.recoverBigSym=!1,t.addMarskTime=!0,t.all_Large_image_effect=[],t.all_Win_Score=[],t.freeNotElemWilds=[],t.curr_proto_data=null,t._spinAniViews=[],t.dailyTime=0,t.cb=null,t.freeGameInfo=null,t.FreeGameNetWordState=!1,t}var n;return a(t,e),n=t,Object.defineProperty(t,"instance",{get:function(){return n._instance},enumerable:!1,configurable:!0}),t.prototype.onLoad=function(){slot.SlotConfigManager.instance.registerJPTypes(3),n._instance=this,e.prototype.onLoad.call(this),console.log("game111004401 onload",this.node),game.EventManager.getInstance().addEventListener(slot.NetSlotConst.SPINRESP,this._onRollingResp,this),game.EventManager.getInstance().addEventListener(slot.GameEventNames.EVENT_GOLDNOTENOUGH_OKBTN,this.glodNotEnoughClickOkBtn,this),game.EventManager.getInstance().addEventListener(slot.NetSlotConst.RESTORERESP,this.setMousePos,this),game.EventManager.getInstance().addEventListener(slot.GameEventNames.EVENT_UPDATE_WIN_ANI_END,this.winAniEnd,this),game.EventManager.getInstance().addEventListener(slot.GameEventNames.EVENT_BIGWIN_TEXT_SHOW,this.winAniStart,this),game.EventManager.getInstance().addEventListener(slot.GameEventNames.EVENT_ELEMENT_PAY_ID_SHOW,this.reelClick,this),game.EventManager.getInstance().addEventListener(r.CabdyEvent.ROLL_END_STEP_TASK,this.stepTask,this),game.EventManager.getInstance().addEventListener(r.mouseEvent.MOUSE_BIG_MOVE_END,this.onScrollerStartComplete,this),game.EventManager.getInstance().addEventListener(slot.GameEventNames.EVENT_UPDATE_COIN_SCROLLER_END,this.callBackSuperOver,this),game.EventManager.getInstance().addEventListener(slot.GameEventNames.EVENT_STOP_SLOT_MACHINE_IMMEDIATELY,this.event_stop_slot_machine_immediately,this),game.EventManager.getInstance().addEventListener(slot.GameEventNames.EVENT_START_ROLLING,this.onStartRolling,this)},t.prototype.onDestroy=function(){this.dispose(),game.EventManager.getInstance().removeEventListener(slot.NetSlotConst.SPINRESP,this._onRollingResp,this),game.EventManager.getInstance().removeEventListener(slot.GameEventNames.EVENT_GOLDNOTENOUGH_OKBTN,this.glodNotEnoughClickOkBtn,this),game.EventManager.getInstance().removeEventListener(slot.NetSlotConst.RESTORERESP,this.setMousePos,this),game.EventManager.getInstance().removeEventListener(slot.GameEventNames.EVENT_BIGWIN_TEXT_SHOW,this.winAniStart,this),game.EventManager.getInstance().removeEventListener(slot.GameEventNames.EVENT_UPDATE_WIN_ANI_END,this.winAniEnd,this),game.EventManager.getInstance().removeEventListener(slot.GameEventNames.EVENT_ELEMENT_PAY_ID_SHOW,this.reelClick,this),game.EventManager.getInstance().removeEventListener(r.mouseEvent.MOUSE_BIG_MOVE_END,this.onScrollerStartComplete,this),game.EventManager.getInstance().removeEventListener(r.CabdyEvent.ROLL_END_STEP_TASK,this.stepTask,this),game.EventManager.getInstance().removeEventListener(slot.GameEventNames.EVENT_UPDATE_COIN_SCROLLER_END,this.callBackSuperOver,this),game.EventManager.getInstance().removeEventListener(slot.GameEventNames.EVENT_STOP_SLOT_MACHINE_IMMEDIATELY,this.event_stop_slot_machine_immediately,this),game.EventManager.getInstance().removeEventListener(slot.GameEventNames.EVENT_AUTO_TIMES_CHANGED,this.autotimes,this),game.EventManager.getInstance().removeEventListener(slot.GameEventNames.EVENT_START_ROLLING,this.onStartRolling,this)},t.prototype.start=function(){if(this.rollPushMarsk.active=!1,this.p_winLayout.active=!1,slot.EntranceView.instance.node.getChildByName("spr_bg2")){this.freeLabelNode=slot.EntranceView.instance.node.getChildByName("spr_bg2").getChildByName("spr_remaining").getChildByName("lab_num");var e=l.default.getPosByOtherNode(this.freeLabelNode,this.roller.parent.parent);this.freeLabelNodePos=cc.v2(e.x,e.y+100)}this.winTimesView.active=!1},t.prototype.initSpBtn=function(){slot.MainView.instance.node.getChildByName("gameControPrefab").zIndex=1;var e=slot.MainView.instance.node.getChildByName("gameControPrefab").children[0].children[2];slot.GameControlBase.instance.rotate.addComponent(s.default),this.sprite_btn_sb.parent=e,this.sprite_btn_sb.zIndex=11},t.prototype.stepTask=function(e,t){1==slot.GameControlBase.instance.fastBtnState?this.freeGameTimesState?(this.scheduleOnce(function(){t.run()},4),this.freeGameTimesState=!1):this.scheduleOnce(function(){t.run()},.4):this.freeGameTimesState?(this.scheduleOnce(function(){t.run()},4),this.freeGameTimesState=!1):t.run()},t.prototype.reelClick=function(e,t,n,o,a,i){9!=t&&8!=t||(n>28?i.getChildByName("bg").x+=20:i.getChildByName("bg").x-=20)},t.prototype.onInit=function(){slot.SpinManager.instance.isFullLineAvailable=!1,this._initSlotMachineView(),console.log("oninit"),slot.SpinManager.customResultCallBack=function(){return console.log("\u7cd6\u679c\u6d88\u9664\u7c7b\u578b\uff08\u9002\u7528\u4e8e\u6d88\u9664\u7c7b)----------------:",slot.SpinManager.instance.customUpdateData),slot.SpinManager.instance.customUpdateData.game_10017.data.resultList}},t.prototype.onInitScroller=function(e){var t=this,n=this.scroller=e.scroller,o=slot.SlotConfigManager.instance.DataGame.getData(slot.SlotConfigManager.instance.gameID);n.setupFactory(new _.default,new h.default,new d.default),slot.JTDefaultItemRender.setPlayCoinIndex(2,7);var a=n.options(slot.JTEliminatePipeline,slot.JTScrollerGroup.USE_CONVERT_MROE_LIST,o.column,e.scrollingComplete);a.childOption(slot.JTCreateScrolling,slot.JTOptionType.OPTION_CREATE),a.childOption(slot.JTBeginScrolling,slot.JTOptionType.OPTION_BEGIN_RUNNING,e.beginScrolling),a.childOption(slot.JTRunScrolling,slot.JTOptionType.OPTION_RUNNING,e.onSpinPreStop),a.childOption(slot.JTOverScrollEliminate,slot.JTOptionType.OPTION_OVER_RUNNING,e.scrollingProgress),n.setupDefaultItemList(this.getSourceList,slot.SlotConfigManager.instance.DataElement.getKeys(),!1),slot.JTDefaultItemRender.setPlayCoinIndex(1,7),slot.EliminateEffectUtils.elePlayAni=slot.Handler.create(this,this.playPrizeAni,[],!1),this.scatterTask=new slot.JTScatterTask,this.scatterTask.onScatterComplte=function(e){5==e.index&&(t.rollPushMarsk.active=!1,slot.SoundMger.instance.stopEffect("Reel_Quick"))},this.scatterTask.config(10,2,"30-55-1",0,1e3,null,!0,null,function(e){t.rollPushMarsk.parent=slot.SlotMachineView.instance.scroller.getChildByName("jiasulayout"),t.rollPushMarsk.x=t.slotMachine.gridWidth*(e.index+.5),t.rollPushMarsk.y=-350,t.rollPushMarsk.active=!0,slot.SoundMger.instance.playEffect("Reel_Quick",!1),game.EventManager.getInstance().raiseEvent(slot.GameEventNames.EVENT_GAMECONTROL_ALL_BTN_CLICK,!1)},slot.JTScatterTask.ITEM_COUNT_MODE,null,!1,!0),n.registerTask(slot.JTRuleTaskManager.TYPE_SCATTER,this.scatterTask,new slot.JTTaskContainer)},t.prototype.playRollAllAniTopAni=function(){for(var e=l.default.getLineDataByResp(l.default.totalEliminateTime-1),t=0;t<e.length;t++){var n=e[t];this.rollAllAniTop.getChildByName("rollAniTop"+n)&&(this.rollAllAniTop.getChildByName("rollAniTop"+n).opacity=255)}},t.prototype.onStartRolling=function(){console.log("GameLayer onstartrolling"),(slot.FreeGameManager.instance.hasFreeGame||!slot.SpinManager.instance.isSlotMahcineCompleted&&Number(slot.SpinManager.instance.spinWin))&&slot.GameControlBase.instance.info.ctlBtn.isFreeStopRotate||(this._ctlBtnState!=slot.ctlBtn_status.AUTO||this._ctlBtnState==slot.ctlBtn_status.AUTO&&this.info.isAutoClickPlaying)&&cc.tween(this.sprite_btn_sb).to(.3,{angle:-50}).to(.3,{angle:0}).start()},t.prototype.event_stop_slot_machine_immediately=function(){this.m_isRunning=!1,this.rollPushMarsk.active=!1,slot.SoundMger.instance.stopEffect("Reel_Quick")},t.prototype.playPrizeAni=function(e,t,n,o){this.scatterWaitLight.active=!1;var a=slot.GameControlBase.instance.fastBtnState;this.first_enter_eilmint&&(this.first_enter_eilmint=!1,1==a?this.setAllFreeNode():(this.setgridebybear(5),this.setFreeNode(5)),this.freeNotElemWildOpt(!1));var i=l.default.getFreeNodeNum(this.curr_proto_data);i&&i>=2&&this.reverFreeNodeZindex(),this.playGoldAni(e,t,n,o)},t.prototype.playGoldAni=function(e,t,n,o){if(this.changeItemAni(e,t,n,o),this.curMoney=Number(o.curSpinCoin),slot.FreeGameManager.instance.isTreateFromFreeGame)slot.FreeGameManager.instance.isTreateFreeOver;else{var a=slot.PlayerManager.instance.showCoin+this.curMoney;slot.PlayerManager.instance.syncShowingCoin(Number(a))}},t.prototype.byInedxToyleElimintaedata=function(e){var t=this.curr_proto_data.updateList[0].value.handleState.game_10017.data.resultList;if(t&&t[e]&&t[e].spinResult){this.specialElemGridPieceList=[];var n=t[e].specialElemGridPieceList;return this.specialElemGridPieceList=n,n}},t.prototype.getElimintaedatapsolist=function(){for(var e=this.specialElemGridPieceList,t=[],n=0;n<e.length;n++)if(e[n]&&e[n].posList)for(var o=0;o<e[n].posList.length;o++)t.push(e[n].posList[o]-1);return t},t.prototype.getElimintGrideChange=function(e){var t=this.curr_proto_data.updateList[0].value.handleState.game_10017.data.resultList;if(t&&t[e]&&t[e].spinResult)return t[e].spinResult.gridChanged},t.prototype.getElimintRemoveGride=function(e){var t=this.curr_proto_data.updateList[0].value.handleState.game_10017.data.resultList;if(t&&t[e]&&t[e].spinResult)return t[e].spinResult.grid},t.prototype.getElimentlist2d=function(e){var t=this.curr_proto_data.updateList[0].value.handleState.game_10017.data.resultList;if(t&&t[e]&&t[e].list2d)return t[e].list2d},t.prototype.getSpecialElimintaedata=function(e){var t=this.curr_proto_data.updateList[0].value.handleState.game_10017.data.resultList;if(t&&t[e]&&t[e].spinResult)return t[e].triggerSpecialElemGrid},t.prototype.getElimintRemovedata=function(e){var t=this.curr_proto_data.updateList[0].value.handleState.game_10017.data.resultList;if((t=[].concat(t))&&t[e]&&t[e].spinResult){var n=t[e].removePos;n=[].concat(n);var o=t[e].changeBeforeCrushGrid;if(console.log("getElimintRemovedata changeBefoGride=",o),o&&o.length)for(var a=0;a<o.length;a++)o[a].pos,o[a]&&n.push(o[a].pos-1);return Array.from(new Set(n.sort(function(e,t){return e-t})))}},t.prototype.getCreateBaiDaData=function(e){var t=this.curr_proto_data.updateList[0].value.handleState.game_10017.data.resultList;if(t&&t[e]&&t[e].changeBeforeCrushGrid)return t[e].changeBeforeCrushGrid},t.prototype.getElimintRemoveChangeGirde=function(e){var t=this.curr_proto_data.updateList[0].value.handleState.game_10017.data.resultList;if(t&&t[e]&&t[e].spinResult)return t[e].spinResult.gridChanged},t.prototype.getElimintWinPos=function(e){var t=this.curr_proto_data.updateList[0].value.handleState.game_10017.data.resultList;if(t&&t[e]&&t[e].spinResult)return t[e].spinResult.lineResult},t.prototype.getStrsMovePot=function(e){var t=e+6;return t>=0&&t<=35?t:(t=e-6)>=0&&t<=35?t:void console.log("\u6ca1\u627e\u5230\u8fd9\u4e2a\u70b9")},t.prototype.getMoveEndPosData=function(e){var t=this.getCreateBaiDaData(e),n=[];t||(t=[]);for(var o=0;o<t.length;o++){var a=this.changeBefoGrideOrlineResultIndex(e,t[o].pos);null!=a&&(n[a]||(n[a]=[]),n[a].push(t[o].pos))}return n},t.prototype.changeBefoGrideOrlineResultIndex=function(e,t){for(var n=this.getElimintWinPos(e),o=0;o<n.length;o++)for(var a=n[o].winPos,i=0;i<a.length;i++)if(a[i]==t)return o;return null},t.prototype.changeItemAni=function(e,t,n,o){var a=this,i=this.byInedxToyleElimintaedata(l.default.totalEliminateTime),s=this.getSpecialElimintaedata(l.default.totalEliminateTime),c=this.getElimintRemovedata(l.default.totalEliminateTime);console.log("\u6d88\u9664\u7684\u6570\u636e",e);var p=this.getCreateBaiDaData(l.default.totalEliminateTime),h=1.5,_=1,d=0;game.EventManager.getInstance().raiseEvent(r.EventCallbackName.EVENT_SET_CLOSE_BIAOTI_EFFECT),game.EventManager.getInstance().raiseEvent(r.EventCallbackName.EVENT_SET_TOTLE_SCORE_LABLE,l.default.totalEliminateTime,o),console.log("\u6bcf\u6b21\u6d88\u9664\u961f\u5217\u7684\u6570\u636e elimit_data=",s),console.log("\u6bcf\u6b21\u6d88\u9664\u961f\u5217\u7684\u6570\u636e special_data=",i),console.log("\u6bcf\u6b21\u6d88\u9664\u961f\u5217\u7684\u6570\u636e remove_list=",c),console.log("\u6bcf\u6b21\u6d88\u9664\u961f\u5217\u7684\u6570\u636e totalEliminateTime=",l.default.totalEliminateTime),p&&p.length&&p.length>0&&(h=2),game.EventManager.getInstance().raiseEvent(r.EventCallbackName.EVENT_SET_WIN_SCORE_LABLE_SHOW,l.default.totalEliminateTime),slot.SoundMger.instance.playEffect("Winning_Sound_Effects",!1);var g=this.getElimentlist2d(l.default.totalEliminateTime);if(console.log("changeItemAni list2d",g),g&&g.length>0)game.EventManager.getInstance().raiseEvent(r.EventCallbackName.EVENT_SET_LARGE_IMGAGE,l.default.totalEliminateTime,c,this.p_SpriteData),this.node.getComponent(u.default).needCreateLargeImg(l.default.totalEliminateTime)&&(d=.5,_=(h=3)-1),this.p_winLayout.active=!0,this.scheduleOnce(function(){return a.p_winLayout.active=!1},_);else{this.p_winLayout.active=!0;var m=this.getElimintRemoveGride(l.default.totalEliminateTime),f=this.getStrsMovePot(c[0]),E=slot.SlotMachineView.instance.scroller.getRenderByIndex(f+1),y=[];if(this.getMoveEndPosData(l.default.totalEliminateTime),p&&p.length&&p.length>0)for(var v=0;v<p.length;v++){var N=slot.SlotMachineView.instance.scroller.getRenderByIndex(p[v].pos);y.push(N)}var C=function(e){var t=slot.SlotMachineView.instance.scroller.getRenderByIndex(Number(c[e])+1);if(t){var n=m[Number(c[e])],o=n,a=slot.GData.curLanguage;9==n&&(o="zh"==a?9:10);var i=S.p_SpriteData[o-1];t.setImageCarNode(255,i),t.setRendopactiy(t,0);var r=cc.delayTime(_),s=cc.callFunc(function(){this.p_winLayout.active=!1,p&&p.length>0?(slot.SoundMger.instance.playEffect("Candy_Explosion_Sound",!1),t.setEliminateAnimationCreatBaida(n,E,y)):(slot.SoundMger.instance.playEffect("Candy_Explosion_Sound",!1),t.setEliminateAnimation(n))}.bind(S));S.node.runAction(cc.sequence(r,s))}else console.log("\u51fa\u9519\u4e86\u6ca1\u627e\u5230\u8282\u70b9")},S=this;for(v=0;v<c.length;v++)C(v)}var A=this.getCreateBaiDaData(l.default.totalEliminateTime);A&&A.length>0&&cc.tween(this.node).delay(_+.6).call(function(){game.EventManager.getInstance().raiseEvent(r.EventCallbackName.EVENT_SET_WIN_SCORE_LABLE_HID);for(var e=0;e<A.length;e++){var t=slot.SlotMachineView.instance.scroller.getRenderByIndex(A[e].pos);t.opacity=255,t&&(console.log("\u8fd9\u91cc\u53d8\u6362\u4e86\u767e\u642d  1"),t.showCreatSwild())}}).start(),game.EventManager.getInstance().raiseEvent(r.mouseEvent.GET_REWARD_BEGAN);var T=l.default.drawLineDataHandle(l.default.totalEliminateTime);if(null!=T){cc.tween(this.node).delay(d).call(function(){slot.SoundMger.instance.playEffect("Synthetic_Wild_Sound",!1);for(var e=0;e<T.length;e++)for(var t=T[e],n=0;n<t.length;n++){var o=t[n];o[0]&&o[0].addLineToNode(o)}}).start(),this.curMoney=Number(o.curSpinCoin),slot.FreeGameManager.instance.isTreateFromFreeGame?slot.FreeGameManager.instance.isTreateFreeOver?game.EventManager.getInstance().raiseEvent(slot.GameEventNames.EVENT_UPDATE_WINSCORE,this.curMoney,!1,!0,null):game.EventManager.getInstance().raiseEvent(slot.GameEventNames.EVENT_UPDATE_WINSCORE,this.curMoney,!0,!0,null):game.EventManager.getInstance().raiseEvent(slot.GameEventNames.EVENT_UPDATE_WINSCORE,this.curMoney,!1,!0);var L=l.default.totalEliminateTime;cc.tween(this).delay(h).call(function(){for(var n=0;n<o.lineResult.length;n++)a.slotMachine.scroller.lineParser.showLine(o.lineResult[n].lineId,!1);if(game.EventManager.getInstance().raiseEvent(r.EventCallbackName.EVENT_SET_WIN_SCORE_LABLE_HID),p)for(n=0;n<p.length;n++){var h=slot.SlotMachineView.instance.scroller.getRenderByIndex(p[n].pos);h&&(console.log("\u8fd9\u91cc\u53d8\u6362\u4e86\u767e\u642d 2"),h.showCreatSwild())}console.log("\u67e5\u770b\u5f53\u524d\u961f\u5217\u6709\u51e0\u4e2a\u6d88\u9664\u7684\u8282\u70b9",e,c),a.elePlayAni(e,t,l.default.totalEliminateTime,i,s,c,L)}).start(),this.hasFreeGame,l.default.eliminateTime++,l.default.totalEliminateTime++}},t.prototype.elePlayAni=function(e,t,n,o,a,i,s){for(var c=this,p=0;p<e.length;p++){var h=e[p];h.OpenEliminate(),h.addNodeScaleEffect(),h.skinLoader.url=null,h.setRendopactiy(h,255)}this.initRenderVisable(),l.default.getAllDataInRoller().forEach(function(e){return cc.tween(e).by(.04,{x:-2}).by(.08,{x:2}).by(.08,{x:-1}).by(.08,{x:1}).by(.04,{x:0}).start()});var _=this.scroller.ruleTaskManager.getRuleTask(slot.JTRuleTaskType.SCATTER);_.isRunning=!1;var d=slot.SlotMachineView.instance.scroller.renders.filter(function(e){return 10==e.data});if(d.length>=2){_.isRunning=!0,slot.EliminateEffectUtils.scatterDopGapTime=.5,slot.EliminateEffectUtils.scatterWaitDropTime=3;var u=[];e.forEach(function(e){var t=Math.floor(e.index/6);-1==u.indexOf(t)&&u.push(t)}),slot.SlotMachineView.instance.scroller.updateChangedChildsLayer(d,!0),this.scheduleOnce(function(){var e=function(e){d.forEach(function(t){e?(t.parent=t.srcParent,t.setPosition(t.srcPosition),t.playScatterWaitAni(!0)):t.parent!=c.scatterWaitNode&&(t.srcPosition=t.position,t.srcParent=t.parent,t.playScatterWaitAni(!1),t.setPosition(c.scatterWaitNode.convertToNodeSpaceAR(t.convertToWorldSpaceAR(cc.v2()))),t.parent=c.scatterWaitNode)})};c.scatterWaitLight.children.forEach(function(e,t){return e.active=-1!=u.indexOf(t)}),c.scatterWaitLight.active=!0,c.scatterWaitNode.active=!0,e(!1),setTimeout(function(){e(!0),slot.SlotMachineView.instance.scroller.resetLayerSort(),c.scatterWaitNode.active=!1},1500)},2)}setTimeout(function(){return t.run()},.32),slot.SoundMger.instance.playEffect("New_Element_Sound_Effects",!1),game.EventManager.getInstance().raiseEvent(r.EventCallbackName.EVENT_ElEPlAYANI_CALLBACK,s),this.scheduleOnce(function(){game.EventManager.getInstance().raiseEvent(r.EventCallbackName.EVENT_SET_ELIMINATE_MULTIP,n)},.9);var g=cc.delayTime(.85),m=cc.callFunc(function(){return c.initElimintSwild(s)});if(this.node.runAction(cc.sequence(g,m)),console.log("special_data=",o,",elimit_data=",a),o&&o.length);else if(a&&a.length){for(var f=[],E=[],y=i,v=0;v<y.length;v++)f.push(y[v]+1);E.push(f);for(var N=l.default.getMoveDataByElimintaion(E),C=0;C<N.length;C++)N[C].render.addRendEffectNeighbor(N[C].type)}else cc.tween(this).delay(.02).call(function(){var e=l.default.respDataHandle();console.log("neighborData=",e);for(var t=0;t<e.length;t++)e[t].render.addRendEffectNeighbor(e[t].type)}).start()},t.prototype.initElimintSwild=function(e){var t=this.getElimintGrideChange(e);if(console.log("initElimintSwild PPPPPPPPPPPPPPPPPPPPPPP",t,e),t||t.length)for(var n=0;n<t.length;n++){var o=t[n],a=slot.SlotMachineView.instance.scroller.getRenderByIndex(n+1);a&&9==o&&(console.log("\u8fd9\u91cc\u53d8\u6362\u4e86\u767e\u642d  3"),a.showCreatSwild())}},t.prototype.initElimintFree=function(e){var t=this.getElimintGrideChange(e);if(console.log("initElimintFree PPPPPPPPPPPPPPPPPPPPPPP",t,e),t||t.length)for(var n=0;n<t.length;n++){var o=t[n],a=slot.SlotMachineView.instance.scroller.getRenderByIndex(n+1);a&&(10==o?a.playFreeNodeAnimation(255):a.clearFreeNode())}},t.prototype.judgWhetherFreeDrop=function(e){for(var t=this.getElimintGrideChange(e),n=this.getElimintRemoveGride(e),o=[],a=[],i=0;i<t.length;i++)10==t[i]&&o.push(i);for(var r=0;r<n.length;r++)10==n[r]&&a.push(r);return String(o)==String(a)},t.prototype.getFreegameTimes=function(){if(this.curr_proto_data&&this.curr_proto_data.updateList[15])return this.curr_proto_data.updateList[15].value.times},t.prototype._initSlotMachineView=function(){slot.EliminateEffectUtils.setup(1500,.12,.08,.1,.8,.1,slot.EliminateDisappearUtils.disappearTime,slot.EliminateDisappearUtils.disappreaDelayTime,.01,this.scatterDopGapTime,this.scatterDopWaitTime),this.slotMachine.spaceX=0,this.slotMachine.spaceY=0,this.slotMachine.gridWidth=121,this.slotMachine.gridHeight=117,this.slotMachine.afterRender(this,this._rederAfter),this.slotMachine.onItemRender(this,this._onSpinSlotRender),this._registerSlotMachineAnimation()},t.prototype.setMousePos=function(e,t){l.default.respData=t,this.curr_gold=t.userInfo.balance.low,console.log("\u767b\u5f55\u534f\u8bae",t),t.state.normalData.spinInfo.spinResult.grid,this.login_data=t,this.recoverBigSym&&(this.recoverBigSym=!1,game.EventManager.getInstance().raiseEvent(r.EventCallbackName.EVENT_SET_LOG_LARGE_IMAGE_NODE,this.login_data)),game.EventManager.getInstance().raiseEvent(r.EventCallbackName.EVENT_SET_LOGIN_AGREEMENT_DATA,t)},t.prototype.setFamaleMouseClearTimeSetPos=function(){var e=l.default.getFamaleMouseData(),t=this.roller.parent;if(e.length>this.falameMouseTime)for(var n=this.falameMouseTime;n<e.length;n++){var o=e[n],a=cc.instantiate(this.falameMouse);a.active=!0,a.getComponent(p.default).mouseNumber=o.index;var i=slot.SlotMachineView.instance.getPosByIndex(o.pos-1);t.addChild(a,n,"femaleMouseNodeClone"),a.setPosition(cc.v2(i.x,i.y)),this.falameMouseTime++}},t.prototype.mouseAddInScroll=function(){},t.prototype._rederAfter=function(){console.log("_rederAfter"),this.initSpBtn(),this.initRenderState(),slot.SpinManager.instance.spinTouchEnable=!0,this.curr_proto_data=slot.SpinManager.instance.rollingResult,this.p_winLayout.parent=this.aaaNode,this.p_winLayout.zIndex=1,this.addMarskTime&&(this.rollMarskRed.parent=slot.SlotMachineView.instance.scroller.elementBlackGround,this.rollMarskRed.active=!0,this.addMarskTime=!1);for(var e=l.default.getAllDataInRoller(),t=0;t<e.length;t++)e[t]._CreatImgEffectNode(slot.SlotMachineView.instance,t);for(var n=0;n<9;n++)(o=cc.instantiate(this.largeImageCarPrefab)).name="node_Large_image"+(n+1),o.opacity=0,this.aaaNode.addChild(o,4),this.all_Large_image_effect.push(o);for(game.EventManager.getInstance().raiseEvent(r.EventCallbackName.EVENT_ACCEPT_ALL_LARGE_NODE,this.all_Large_image_effect),this.haveRoll||(this.login_data?game.EventManager.getInstance().raiseEvent(r.EventCallbackName.EVENT_SET_LOG_LARGE_IMAGE_NODE,this.login_data):this.recoverBigSym=!0),n=0;n<36;n++){var o;(o=cc.instantiate(this.winScorePrefab)).name="winScore"+(n+1),o.opacity=0,this.aaaNode.addChild(o,7),this.all_Win_Score.push(o)}for(game.EventManager.getInstance().raiseEvent(r.EventCallbackName.EVENT_ACCEPT_WiN_SCORE_NODE,this.all_Win_Score),t=0;t<e.length;t++)e[t]._showFrameAniView(slot.SlotMachineView.instance,t);game.EventManager.getInstance().raiseEvent(r.EventCallbackName.EVENT_SET_IMAGE_SPRITEDATA,this.p_SpriteData)},t.prototype.initRenderState=function(){},t.prototype.callBackSuperOver=function(){},t.prototype._registerSlotMachineAnimation=function(){this.slotMachine.onContinuousNotWinAnimation(this,this._playContinuousNotWinAnimation),this.slotMachine.onNormalRewardsAnimation(this,this._playNormalRewardsAnimation),this.slotMachine.onFullLineAnimation(this,this._playFullLineAnimation),this.slotMachine.onGreatRewardsAnimation(this,this._playGreatRewardsAnimation),this.slotMachine.onMiddleRewardsAnimation(this,this._playMiddleRewardsAnimation),this.slotMachine.onSmallRewardsAnimation(this,this._playSmallRewardsAnimation),this.slotMachine.onSpinStart(this,this._onSpinStart),this.slotMachine.onSpinStop(this,this._onSpinStop),this.slotMachine.onSpinComplete(this,this._onSpinComplete),this.slotMachine.onSpinBegin(this,this._onSpinBegin)},t.prototype._onSpinComplete=function(){if(game.EventManager.getInstance().raiseEvent(slot.GameEventNames.EVENT_GAMECONTROL_ALL_BTN_CLICK,!0),this.scatterWaitLight.active=!1,null!=this.curr_proto_data){slot.SlotUtils.formatNumber(this.curr_gold);var e=slot.SpinManager.instance.betCost;if(this.curr_gold<e)game.EventManager.getInstance().raiseEvent(r.CabdyEvent.EVENT_LACK_GOLD_CLEAR_BEAR);else{if(2==this.curr_proto_data.state){var t=this.getFreegameTimes();this.freeGameTimes&&t>this.freeGameTimes&&(this.freeGameTimesState=!0,console.log("\u672c\u5267\u51fa\u53d1\u4e86\u514d\u8d39\u6e38\u620f\u6b21\u6570\u589e\u52a0 "),game.EventManager.getInstance().raiseEvent(r.CabdyEvent.EVENT_ADD_FREE_GAME_NUM,t)),this.freeGameTimes=t}l.default.totalEliminateTime=0,this.count=-1,this.removeIndex=-1,this.curMoney=0,this.dailyTime=0,this.first_enter_eilmint=!0,game.EventManager.getInstance().raiseEvent(r.EventCallbackName.EVENT_SET_ALL_TOTLE_SCORE_LABLE),1==slot.GameControlBase.instance.fastBtnState&&0==Number(this.curr_proto_data.spinResult.spinCoin)&&this.setAllFreeNode();var n=l.default.getFreeNodeNum(this.curr_proto_data);n&&n>=2&&this.reverFreeNodeZindex(),l.default.getAllDataInRoller().forEach(function(e){return 9==e.changedData&&9!=e.data&&(e.data=9)}),this.freeNotElemWildOpt(!1)}}else game.EventManager.getInstance().raiseEvent(r.CabdyEvent.EVENT_LACK_GOLD_CLEAR_BEAR)},t.prototype.setAllFreeNode=function(){var e=[];if(this.curr_proto_data&&this.curr_proto_data.spinResult)for(var t=this.curr_proto_data.spinResult.grid,n=0;n<t.length;n++)10==t[n]&&e.push(n);if(e.length&&e.length>0)for(n=0;n<e.length;n++){var o=slot.SlotMachineView.instance.scroller.getRenderByIndex(e[n]+1);o&&o.playFreeNodeAnimation(255)}},t.prototype.changeElementData=function(e){void 0===e&&(e=null),e||(e=l.default.getLastRespData());for(var t=0;t<e.length;t++){var n=e[t],o=slot.SlotMachineView.instance.scroller.getRenderByIndex(n.pos);o.changeData(n.elem,o)}},t.prototype._onSpinStop=function(e){if(cc.log("_onSpinStop spinIndex="+e),null!=this.curr_proto_data&&!(this.curr_gold<slot.SpinManager.instance.betCost)){var t,n=slot.GameControlBase.instance.fastBtnState;if(2==n&&(o=this.getCureListIsScatter(e))&&slot.SoundMger.instance.playEffect("Sctter",!1),1==n&&4==e)var o=this.getCureGrideScatter();if(this.rollLineTime++,0==e&&this.curr_proto_data&&this.curr_proto_data.state){o=this.curr_proto_data.state;var a=Number(this.curr_proto_data.spinResult.spinCoin);2==o?a>0?game.EventManager.getInstance().raiseEvent(r.CabdyEvent.EVENT_BANNER_CTOR,0):(game.EventManager.getInstance().raiseEvent(r.CabdyEvent.EVENT_BANNER_CTOR,0),game.EventManager.getInstance().raiseEvent(r.CabdyEvent.OPEN_FREE_GAME_BANNER),game.EventManager.getInstance().raiseEvent(r.CabdyEvent.CLOSE_SCORE_LABLE)):(game.EventManager.getInstance().raiseEvent(r.CabdyEvent.EVENT_BANNER_CTOR,1),game.EventManager.getInstance().raiseEvent(r.CabdyEvent.CLOSE_SCORE_LABLE))}2==n&&(t=l.default.getFreeNodeNum(this.curr_proto_data))&&t>=2&&this.setFreeNodeZindex(e),1==n&&(this.setFreeNode(e),(t=l.default.getFreeNodeNum(this.curr_proto_data))&&t>=2&&this.setFreeNodeZindex(e))}},t.prototype.setFreeNodeZindex=function(e){var t=null;if(this.curr_proto_data&&this.curr_proto_data.spinResult&&(t=this.curr_proto_data.spinResult.grid),null!=t)for(var n=[6*e,6*e+5],o=n[0];o<n[1];o++)10==t[o]&&slot.SlotMachineView.instance.scroller.getRenderByIndex(o+1).setFreeNodeParent()},t.prototype.reverFreeNodeZindex=function(){var e=null;if(this.curr_proto_data&&this.curr_proto_data.spinResult&&(e=this.curr_proto_data.spinResult.grid),null!=e)for(var t=0;t<e.length;t++)10==e[t]&&slot.SlotMachineView.instance.scroller.getRenderByIndex(t+1).resumeParent()},t.prototype.setFreeNode=function(e){var t=null;if(this.curr_proto_data&&this.curr_proto_data.spinResult&&(t=this.curr_proto_data.spinResult.grid),null!=t)for(var n=[6*e,6*e+5],o=n[0];o<n[1];o++)10==t[o]&&slot.SlotMachineView.instance.scroller.getRenderByIndex(o+1).playFreeNodeAnimation(255)},t.prototype.clearAllSwild=function(){for(var e=l.default.getAllDataInRoller(),t=0;t<e.length;t++){var n=e[t];n.clearSwildNode(),n.clearFreeNode(),n.setImageCarNode(0,[])}this.freeNotElemWildOpt(!0)},t.prototype.freeNotElemWildOpt=function(e){if(e&&slot.FreeGameManager.instance.hasFreeGame&&slot.FreeGameManager.instance.freeGameInfo.times<slot.FreeGameManager.instance.freeGameInfo.sumTimes-1)for(var t=l.default.getAllDataInRoller().filter(function(e){return 9==e.data}),n=0;n<t.length;n++){var o=t[n].index%6,a=Math.floor(t[n].index/6),i=cc.instantiate(this.wildPrefab);i.parent=this.aaaNode,i.setPosition(cc.v2(60.5+this.slotMachine.gridWidth*a,-58.5-this.slotMachine.gridHeight*o)),i.getChildByName("swild_zh").opacity="zh"==slot.GData.curLanguage?255:0,i.getChildByName("swild_en").opacity="zh"==slot.GData.curLanguage?0:255,this.freeNotElemWilds.push(i)}else{for(n=this.freeNotElemWilds.length-1;0<=n;n--)this.freeNotElemWilds[n].removeFromParent();this.freeNotElemWilds=[]}},t.prototype.goldDeficitCreatBear=function(){},t.prototype.setgridebybear=function(e){var t=null;if(this.curr_proto_data&&this.curr_proto_data.spinResult&&(t=this.curr_proto_data.spinResult.grid),console.log("TTTTTTTTTTTTTTTTTT",e,t),null!=t)for(var n=[6*e,6*e+5],o=n[0];o<n[1];o++)if(9==t[o]){var a=slot.SlotMachineView.instance.scroller.getRenderByIndex(o+1);console.log("\u8fd9\u91cc\u53d8\u6362\u4e86\u767e\u642d  4"),a.showCreatSwild()}},t.prototype._onRollingResp=function(e,t){l.default.respData=t,this.curr_proto_data=t,game.EventManager.getInstance().raiseEvent(r.EventCallbackName.EVENT_ACCEPT_NETWORK_DATA,this.curr_proto_data),console.log("\u8bf7\u6c42\u4e0b\u53d1\u534f\u8bae",t),this.curr_proto_data.spinResult.spinCoin,game.EventManager.getInstance().raiseEvent(r.EventCallbackName.EVENT_SET_OPEN_BIAOTI_EFFECT),this.initRenderVisable()},t.prototype.glodNotEnoughClickOkBtn=function(){var e=slot.SpinManager.instance.rollingResult;e.state=1,console.log("glodNotEnoughClickOkBtn resp=",e),this._onRollingResp(null,e)},t.prototype.initRenderVisable=function(){for(var e=0;e<36;e++){var t=slot.SlotMachineView.instance.scroller.getRenderByIndex(e+1);t&&(t.opacity=255)}},t.prototype.initFemalMouseAndOther=function(){var e=this.roller.parent;if(this.rollLineTime=0,1==l.default.respData.state){this.falameMouseTime=0;for(var t=0;t<e.children.length;t++){var n=e.children[t];"femaleMouseNodeClone"==n.name&&n.destroy()}}},t.prototype._onSpinStart=function(e){if(cc.log("_onSpinStart spinIndex="+e),null==this.curr_proto_data)return game.EventManager.getInstance().raiseEvent(r.CabdyEvent.CLOSE_SCORE_LABLE),game.EventManager.getInstance().raiseEvent(r.CabdyEvent.EVENT_BANNER_CTOR,1),game.EventManager.getInstance().raiseEvent(r.CabdyEvent.CLEAR_BEAR_END),void game.EventManager.getInstance().raiseEvent(r.CabdyEvent.EVENT_CLEAR_BEAR_CALLBACK);var t=this.curr_gold,n=slot.SpinManager.instance.betCost;if(Number(t)<Number(n))return game.EventManager.getInstance().raiseEvent(r.CabdyEvent.CLOSE_SCORE_LABLE),game.EventManager.getInstance().raiseEvent(r.CabdyEvent.EVENT_BANNER_CTOR,1),void game.EventManager.getInstance().raiseEvent(r.CabdyEvent.EVENT_CLEAR_BEAR_CALLBACK);this.unschedule(this._clearSpinReelAni),this._clearSpinReelAni(),0==e&&this.curr_proto_data&&this.curr_proto_data.state&&2==this.curr_proto_data.state&&(game.EventManager.getInstance().raiseEvent(r.CabdyEvent.EVENT_BANNER_CTOR,0),game.EventManager.getInstance().raiseEvent(r.CabdyEvent.OPEN_FREE_GAME_BANNER),game.EventManager.getInstance().raiseEvent(r.CabdyEvent.CLOSE_SCORE_LABLE))},t.prototype.getCureListIsScatter=function(e){var t=null;if(this.curr_proto_data&&this.curr_proto_data.spinResult&&(t=this.curr_proto_data.spinResult.grid),null!=t){for(var n=[6*e,6*e+5],o=n[0];o<n[1];o++)if(9==t[o])return!0;return!1}},t.prototype.getCureGrideScatter=function(){if(this.curr_proto_data&&this.curr_proto_data.spinResult)for(var e=this.curr_proto_data.spinResult.grid,t=0;t<e.length;t++)if(12==e[t])return!0;return!1},t.prototype._onSpinBegin=function(){this.haveRoll=!0,l.default.totalEliminateTime=0,this.count=-1,this.removeIndex=-1,this.curMoney=0,this.dailyTime=0,this.first_enter_eilmint=!0,game.EventManager.getInstance().raiseEvent(r.CabdyEvent.EVENT_GUNZHOU_SPINSTART),this.clearAllSwild()},t.prototype.beforeScrollerStartRolling=function(){var e=[];this.node.getComponent(u.default).Show_Large_Img_data.forEach(function(t){return e.push([Math.floor((t.pos[0]-1)/6),Math.floor((t.pos[2]-1)/6)])}),e.sort(function(e,t){return e[0]-t[0]});for(var t=[],n=[-1,-1],o=0;o<e.length;o++){var a=e[o];n[0]==a[0]&&n[1]==a[1]||(n[1]==a[0]?t[t.length-1].push(a[1]):t.push(a),n=a)}var i=[0,1,2,3,4,5];for(o=i.length-1;0<=o;o--)for(var r=0;r<t.length;r++)t[r].indexOf(i[o])>-1&&i.splice(o,1);var s=t.concat(i);s.sort(function(e,t){return(e instanceof Array?e[0]:e)-(t instanceof Array?t[0]:e)}),cc.log("beforeScrollerStartRolling orders=",s),this.slotMachine.settings.setRunSequence(s)},t.prototype.onScrollerStartComplete=function(){this.slotMachine.scroller.continuePendingTask()},t.prototype._clearSpinReelAni=function(){},t.prototype._playContinuousNotWinAnimation=function(e,t){t.run()},t.prototype._playNormalRewardsAnimation=function(e,t){this.showWinAniView(slot.WinAniType.Normal,e,t,!slot.FreeGameManager.instance.isTreateFromFreeGame),game.EventManager.getInstance().raiseEvent(r.EventName.EVENT_WIN_GAME,r.WinType.win)},t.prototype._playFullLineAnimation=function(e,t){game.EventManager.getInstance().raiseEvent(r.EventName.EVENT_WIN_GAME,r.WinType.fiveEven),t.run()},t.prototype._playGreatRewardsAnimation=function(e,t){this.showWinAniView(slot.WinAniType.Great,e,t,!slot.FreeGameManager.instance.isTreateFromFreeGame)},t.prototype.winAniStart=function(){},t.prototype.winAniEnd=function(){},t.prototype._playMiddleRewardsAnimation=function(e,t){this.showWinAniView(slot.WinAniType.Middle,e,t,!slot.FreeGameManager.instance.isTreateFromFreeGame)},t.prototype._playSmallRewardsAnimation=function(e,t){this.showWinAniView(slot.WinAniType.Small,e,t,!slot.FreeGameManager.instance.isTreateFromFreeGame)},t.prototype._onSpinSlotRender=function(){},t.prototype.addEventListener=function(){e.prototype.addEventListener.call(this)},t.prototype.removeEventListener=function(){e.prototype.removeEventListener.call(this)},t.prototype.addFreeSpinsAni=function(e,t,n){void 0===t&&(t=null),console.log("\u8fdb\u5165\u4e86\u514d\u8d39\u6e38\u620f",t),this.cb=n,this.freeGameInfo=t;var o=cc.delayTime(1),a=cc.callFunc(function(){slot.SoundMger.instance.stopMusic("Game_Back_Music"),slot.SoundMger.instance.playMusic("FreeGame_Back_Music",!0),game.UIManager.getInstance().open(c.UIID.BONUS_GAME_POPUP,[n,t])}.bind(this));this.node.runAction(cc.sequence(o,a)),this.freeGameTimes=t.times},t.prototype.freeGameChangeBg=function(){},t.prototype.refreshRoom=function(){},t.prototype.onInitFreeGame=function(e,t){switch(console.log("oniniffreegame",e),e.type){case slot.OperationState.Free:slot.SoundMger.instance.stopMusic("Game_Back_Music"),slot.SoundMger.instance.playMusic("FreeGame_Back_Music",!0);var n=e.times;game.EventManager.getInstance().raiseEvent(r.EventCallbackName.EVENT_SET_NET_CONNECT_MULTIP,e),game.EventManager.getInstance().raiseEvent(r.EventCallbackName.FREE_GAME_START,n);break;case slot.OperationState.ReSpin:}t.runWith(!0)},t.prototype.onFreeGameTriggered=function(e,t){switch(console.log("onFreeGameTriggered",e),e.type){case slot.OperationState.Free:console.log("onFreeGameTriggeredFREE_GAME_START"),this.freeGameChangeBg(!0);break;case slot.OperationState.ReSpin:}t.runWith(!0)},t.prototype.onFreeGameInfoUpdated=function(e){switch(console.log("onFreeGameInfoUpdated",e),e.type){case slot.OperationState.Free:case slot.OperationState.ReSpin:}},t.prototype.onFreeGameOver=function(e,t){switch(console.log("\u514d\u8d39\u6e38\u620f\u7ed3\u675f",e),e.type){case slot.OperationState.Free:var n=slot.Handler.create(this,function(){t.runWith(!0)});this.scheduleOnce(function(){game.UIManager.getInstance().open(c.UIID.FREE_GAME_RESULT,[n,e])},1),this.freeGameTimes=null;break;case slot.OperationState.ReSpin:}},t.prototype.onFreeGameTriggerAgain=function(e,t){switch(console.log("onFreeGameTriggerAgain",e),e.type){case slot.OperationState.Free:t.run();break;case slot.OperationState.ReSpin:}},t.prototype.onFreeGameTimesUpdated=function(e){game.EventManager.getInstance().raiseEvent(r.EventCallbackName.EVENT_FREE_GAME_NUM,e)},t.prototype.onBonusGameTriggered=function(e,t){slot.Handler.create(this,function(){}),t.runWith(!0)},t.prototype.onBonusGameOver=function(e,t){t.runWith(!0)},t._instance=null,i([f(cc.Node)],t.prototype,"roller",void 0),i([f(cc.Node)],t.prototype,"mouse",void 0),i([f(cc.Node)],t.prototype,"rollMarsk",void 0),i([f(cc.Node)],t.prototype,"rollPushMarsk",void 0),i([f(cc.Node)],t.prototype,"falameMouse",void 0),i([f(cc.Node)],t.prototype,"rollMarskRed",void 0),i([f(cc.Node)],t.prototype,"winTimesView",void 0),i([f(cc.Node)],t.prototype,"sprite_btn_sb",void 0),i([f(cc.Node)],t.prototype,"p_winLayout",void 0),i([f(cc.SpriteFrame)],t.prototype,"p_SpriteData",void 0),i([f(cc.Node)],t.prototype,"scatterWaitLight",void 0),i([f(cc.Node)],t.prototype,"scatterWaitNode",void 0),i([f(cc.Prefab)],t.prototype,"ImgEffectPrefab",void 0),i([f(cc.Prefab)],t.prototype,"largeImageCarPrefab",void 0),i([f(cc.Prefab)],t.prototype,"winScorePrefab",void 0),i([f(cc.Prefab)],t.prototype,"frameAniViewPrefab",void 0),i([f(cc.Prefab)],t.prototype,"wildPrefab",void 0),i([f(cc.Prefab)],t.prototype,"freePrefab",void 0),n=i([m],t)}(slot.AbstractMainView);n.default=E,cc._RF.pop()},{"../GameEventName111004401":"GameEventName111004401","../main/Btn111004401":"Btn111004401","../main/Main111004401":"Main111004401","../tool/Tool":"Tool","./WinIamageNodeCtral":"WinIamageNodeCtral","./femaleMouseCtrl":"femaleMouseCtrl","./scrollerSkins/JTChildManager111004401":"JTChildManager111004401","./scrollerSkins/JTLayerManager111004401":"JTLayerManager111004401","./scrollerSkins/JTLogicFactroy111004401":"JTLogicFactroy111004401"}],GameRoller111004401:[function(e,t,n){"use strict";cc._RF.push(t,"abb6bi47QpMaoarOAE3uHhF","GameRoller111004401");var o,a=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__decorate||function(e,t,n,o){var a,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(i<3?a(r):i>3?a(t,n,r):a(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=e("../GameEventName111004401"),s=e("../NumAtlasLabel111004401"),c=cc._decorator,l=c.ccclass,p=c.property,h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.p_titleEffect=null,t.p_Scatterbear=null,t.move_node_point=null,t.p_freegamewin=null,t.p_bannernode=null,t.CurrProto=null,t.all_score_lable=[],t.all_rocket_cfg=[],t.all_bear_cfg=[],t.all_chocolates_cfg=[],t.ChocolatesCount=0,t.Record_Chocolates_Data=[],t.all_red_bg=[],t.all_car_image=[],t.all_image_effect=[],t.all_candy_img=[],t.all_Candy_cfg=[],t.RocketCount=0,t.Record_Rocket_Data=[],t.CandyCount=0,t.Record_Candy_Data=[],t.record_img_and_effect=[],t.SpcialShowCandyPoint=[1,7,13,19,25,31,6,12,18,24,30,36],t.Record_Shake_imge_node=[],t.record_red_bag=[],t.pos_vert_data=[[5,0],[11,6],[17,12],[23,18],[29,24],[35,30]],t.pos_pervers_data=[[0,30],[1,31],[2,32],[3,33],[4,34],[5,35]],t.list1=[16,17,18,22,23,24,28,29,30,34,35,36],t.list2=[9,10,11,12,15,21,27,33],t.list3=[2,3,4,5,6,8,14,20,26,32],t.list4=[1,7,13,19,25,31],t.record_img_effect=[],t.frist_enter_game=!0,t.FreeGameNetWordState=!1,t.Record_Render_Node=[],t}return a(t,e),t.prototype.onLoad=function(){var e=cc.find("Canvas").getChildByName("main");this.move_node_point=e.getPosition(),game.EventManager.getInstance().addEventListener(r.CabdyEvent.EVENT_SET_TOTLE_SCORE_LABLE,this.judgeIsViewTotlescore,this),game.EventManager.getInstance().addEventListener(r.CabdyEvent.EVENT_CREAT_SCATTER_BAR,this.CreateScatterBar,this),game.EventManager.getInstance().addEventListener(r.CabdyEvent.EVENT_GUNZHOU_SPINCOMPLETE,this._onSpinend,this),game.EventManager.getInstance().addEventListener(r.CabdyEvent.EVENT_GUNZHOU_SPINSTART,this._onSpineStart,this),game.EventManager.getInstance().addEventListener(r.CabdyEvent.EVENT_JUDGE_COMBINATION,this.judgecombination,this),game.EventManager.getInstance().addEventListener(r.CabdyEvent.CLOSE_SCORE_LABLE,this.closescorelable,this),game.EventManager.getInstance().addEventListener(slot.GameEventNames.EVENT_UPDATE_WINSCORE,this.updateWinSorce,this),game.EventManager.getInstance().addEventListener(r.CabdyEvent.FREEGAME_NETWORK_STATE,this.getfreegameNetworkstate,this),game.EventManager.getInstance().addEventListener(r.CabdyEvent.EVENT_LACK_GOLD_CLEAR_BEAR,this.setLackGoldClearBear,this),game.EventManager.getInstance().addEventListener(r.CabdyEvent.EVENT_CLEAR_BEAR_CALLBACK,this.clearbear,this)},t.prototype._onSpineStart=function(){},t.prototype.endfreegame=function(e,t){this._setTotleLabMoney(t,2),slot.SlotUtils.formatNumber(t)},t.prototype.closescorelable=function(){},t.prototype._onSpinend=function(){},t.prototype.acceptNetworkdata=function(e,t){this.splitgride=[],this.CurrProto=t},t.prototype.getEliminatedata=function(){return this.CurrProto.updateList[0].value.handleState.game_10017.data.resultList},t.prototype.getSpecialEliminateData=function(e){var t=this.CurrProto.updateList[0].value.handleState.game_10017.data.resultList;if(t&&t[e]&&t[e].spinResult)return t[e].triggerSpecialElemGrid},t.prototype.getSpecialEliminateGrideId=function(e){var t=this.CurrProto.updateList[0].value.handleState.game_10017.data.resultList;if(t&&t[e]&&t[e].spinResult)return t[e].removePos},t.prototype.getInedxToyleElimintaedata=function(e){var t=this.CurrProto.updateList[0].value.handleState.game_10017.data.resultList;if(t&&t[e]&&t[e].spinResult){for(var n=t[e].spinResult.lineResult,o=[],a=0;a<n.length;a++)n[a].winPos[0]&&o.push(n[a].winPos);return o}},t.prototype.getElimintByIndex=function(e){var t=this.CurrProto.updateList[0].value.handleState.game_10017.data.resultList;if(t&&t[e]&&t[e].spinResult)return t[e].spinResult.lineResult},t.prototype.getElimintByIndexData=function(e){var t=this.CurrProto.updateList[0].value.handleState.game_10017.data.resultList;if(t&&t[e]&&t[e].spinResult)return t[e]},t.prototype.getrandomspecialEliminta=function(e){var t=this.CurrProto.updateList[0].value.handleState.game_10017.data.resultList;if(t&&t[e]&&t[e].spinResult)return t[e].randomSpecialElemList},t.prototype.getElimintaethroughGrid=function(e){var t=this.CurrProto.updateList[0].value.handleState.game_10017.data.resultList;if(t&&t[e]&&t[e].spinResult)return t[e].throughGrid},t.prototype.getElimintaetScore=function(e){var t=this.CurrProto.updateList[0].value.handleState.game_10017.data.resultList;if(t&&t[e]&&t[e].spinResult){var n=t[e].spinResult.spinCoin;return Number(n)}},t.prototype.getIndexSpecialElemGridPieceList=function(e){var t=this.CurrProto.updateList[0].value.handleState.game_10017.data.resultList;if(t&&t[e]&&t[e].specialElemGridPieceList){var n=t[e].specialElemGridPieceList,o=[];if(n&&n){for(var a=0;a<n.length;a++)n[a]&&o.push(n[a]);return o}}},t.prototype.getEliminateScoreData=function(e){var t=this.CurrProto.updateList[0].value.handleState.game_10017.data.resultList;if(t&&t[e]&&t[e].spinResult){for(var n=t[e].spinResult.lineResult,o=[],a=0;a<n.length;a++){var i=Number(n[a].spinCoin);o.push(i)}return o}},t.prototype.getEliminateTotleScore=function(e){var t=this.CurrProto.updateList[0].value.handleState.game_10017.data.resultList;if(t&&t[e]&&t[e].spinResult){var n=t[e].spinResult.spinCoin;return Number(n)}},t.prototype.getEliminateCompliteGride=function(e){var t=this.CurrProto.updateList[0].value.handleState.game_10017.data.resultList;if(t&&t[e]&&t[e].spinResult)return t[e].spinResult.grid},t.prototype.getEliminateCompliteGrideChange=function(e){var t=this.CurrProto.updateList[0].value.handleState.game_10017.data.resultList;if(t&&t[e]&&t[e].spinResult)return t[e].spinResult.gridChanged},t.prototype.getEliminateSpecialPieceList=function(e){var t=this.CurrProto.updateList[0].value.handleState.game_10017.data.resultList;if(t&&t[e]&&t[e].specialElemGridPieceList)return t[e].specialElemGridPieceList},t.prototype.getEliminateSpecialRedBg=function(e){var t=this.CurrProto.updateList[0].value.handleState.game_10017.data.resultList;if(t&&t[e]&&t[e].redBackground)return t[e].redBackground},t.prototype.SortScoreSpecialdecline=function(e){for(var t=[],n=e,o=0;o<n.length;o++)t.push(n[o]);return t.sort(function(e,t){return e.pos-t.pos})},t.prototype.setFreeGameMulipAni=function(){var e=this;this.p_freegamewin.opacity=255,cc.tween(this.p_freegamewin).to(.2,{scale:1.3}).to(.2,{opacity:0}).call(function(){e.p_freegamewin.scale=1}).start()},t.prototype.getScoreMult=function(e){var t=slot.SlotUtils.formatNumber(e),n=slot.SlotUtils.formatNumber(slot.SpinManager.instance.betCost);return Number(t)/Number(n)},t.prototype.addclearnodescore=function(){for(var e=this,t=this.node.getChildByName("scrollerLayer").getChildByName("tounchLayer"),n=function(n){game.ResLoader.getInstance().loadRes("prefabs/gameItem/winScore",function(o,a){if(!o){var i=cc.instantiate(a);i.name="score_lable"+n,i.active=!1,t.addChild(i,10),e.all_score_lable.push(i)}},"game_"+core.Global.clientGameId)},o=0;o<20;o++)n(o)},t.prototype.clearscorenode=function(){},t.prototype.judgCurrScorIsPlayeffect=function(e){var t=this.CurrProto.state,n=this.getScoreMult(e);1==t||2==t&&(n>=5?game.EventManager.getInstance().raiseEvent(r.CabdyEvent.OPEN_WIN_MULTIP_EFFECT):game.EventManager.getInstance().raiseEvent(r.CabdyEvent.CLOSE_WIN_MULTIP_EFFECT))},t.prototype.judgeIsViewTotlescore=function(){},t.prototype.getBeardata=function(e){var t=null,n=[];if(this.CurrProto&&this.CurrProto.spinResult&&(t=this.CurrProto.spinResult.grid),null!=t){for(var o=[6*e,6*e+6],a=o[0];a<o[1];a++)12==t[a]&&n.push(a);return n}},t.prototype.getgridebybear=function(e,t){if(e&&e.length){for(var n=[],o=0;o<e.length;o++)e[o]==t&&n.push({low:e[o],i:o});return n}return null},t.prototype.CreateChangeScatterBar=function(e){this.clearbear();var t=this.getgridebybear(e,12);if(t&&t.length&&0!=t.length)for(var n=0;n<t.length;n++)if(t[n]){var o=t[n].i;this.setBearNodeView(o,1)}},t.prototype.CreateScatterBar=function(e,t){var n=this.getBeardata(t);if(n&&n.length)for(var o=0;o<n.length;o++){var a=n[o];this.setBearNodeView(a,0)}},t.prototype.setBearNodeView=function(e,t){for(var n=this,o=function(o){var i="node_bear"+e;a.all_bear_cfg[o].name==i&&(a.all_bear_cfg[o].opacity=255,0==t?"zh"==slot.GData.curLanguage?(a.all_bear_cfg[o].getComponent(sp.Skeleton).setAnimation(0,"duobao_fadein",!1),a.all_bear_cfg[o].getComponent(sp.Skeleton).setCompleteListener(function(){n.all_bear_cfg[o].getComponent(sp.Skeleton).setAnimation(0,"duobao_loop",!0)})):(a.all_bear_cfg[o].getComponent(sp.Skeleton).setAnimation(0,"duobao_fadein2",!1),a.all_bear_cfg[o].getComponent(sp.Skeleton).setCompleteListener(function(){n.all_bear_cfg[o].getComponent(sp.Skeleton).setAnimation(0,"duobao_loop2",!0)})):"zh"==slot.GData.curLanguage?a.all_bear_cfg[o].getComponent(sp.Skeleton).setAnimation(0,"duobao_loop",!0):a.all_bear_cfg[o].getComponent(sp.Skeleton).setAnimation(0,"duobao_loop2",!0))},a=this,i=0;i<this.all_bear_cfg.length;i++)o(i)},t.prototype.setLackGoldClearBear=function(){var e=[5,3,5,7,6,4,8,3,3,5,8,4,1,6,4,6,5,7,2,2,6,3,6,6,2,7,8,7,8,2,4,2,7,5,7,2];console.log("VVVVVVVVVVVVVVVVVVVVVVVVVV",e),this.CreateChangeScatterBar(e)},t.prototype.clearbear=function(){for(var e=0;e<this.all_bear_cfg.length;e++)this.all_bear_cfg[e]&&(this.all_bear_cfg[e].opacity=0)},t.prototype.start=function(){this.p_titleEffect.active=!0,this.p_freegamewin.opacity=0,this.node.getChildByName("scrollerLayer").getChildByName("tounchLayer")},t.prototype.InitCreatBearAll=function(){for(var e=this,t=this.node.getChildByName("scrollerLayer").getChildByName("tounchLayer"),n=function(n){game.ResLoader.getInstance().loadRes("prefabs/gameItem/strchBear",function(o,a){if(!o){var i=cc.instantiate(a);i.name="node_bear"+n,i.opacity=0,t.addChild(i,4),e.setnodepoine(i,n),e.all_bear_cfg.push(i)}},"game_"+core.Global.clientGameId),35==n&&console.log("888888888888")},o=0;o<36;o++)n(o)},t.prototype.CreateChocolates=function(){for(var e=this,t=this.node.getChildByName("scrollerLayer").getChildByName("tounchLayer"),n=function(n){game.ResLoader.getInstance().loadRes("prefabs/gameItem/chocolates",function(o,a){if(!o){var i=cc.instantiate(a);i.name="node_chocolates"+n,i.active=!1,t.addChild(i,5),e.all_chocolates_cfg.push(i)}},"game_"+core.Global.clientGameId)},o=0;o<8;o++)n(o)},t.prototype.setchocolatespoint=function(e){this.ChocolatesCount=this.ChocolatesCount+1,console.log("\u5de7\u514b\u529b\u8981\u51fa\u6765\u4e86");var t=this.node.getChildByName("scrollerLayer").getChildByName("tounchLayer").getChildByName("node"+e),n=this.all_chocolates_cfg[this.ChocolatesCount];console.log("ffffffffffffffffff",t,this.ChocolatesCount,n,this.all_chocolates_cfg),n&&t&&(n.active=!0,n.getComponent(sp.Skeleton).setAnimation(0,"fadein",!1),n.getComponent(sp.Skeleton).setCompleteListener(function(){"fadein"==n.getComponent(sp.Skeleton).animation&&n.getComponent(sp.Skeleton).setAnimation(0,"animation",!0)}),this.Record_Chocolates_Data.push({rock_node:n,id:e}),t.x&&t.y?(n.x=t.x,n.y=t.y):console.log("setchocolatespoint\uff0c\u5750\u6807\u51fa\u9519\u4e86"))},t.prototype.ByIdGetChocolateNode=function(e){var t=this.Record_Chocolates_Data;if(console.log("..................",t,e),t&&t.length&&0!=t.length){for(var n=0;n<t.length;n++)if(t[n].id==e)return t[n].rock_node;return null}},t.prototype.CreatCarabg=function(){for(var e=this,t=this.node.getChildByName("scrollerLayer").getChildByName("tounchLayer"),n=function(n){game.ResLoader.getInstance().loadRes("prefabs/gameItem/Red_bg",function(o,a){if(!o){var i=cc.instantiate(a);i.name="node_red_bg"+(n+1),i.active=!1,t.addChild(i,1),e.setnodepoine(i,n),e.all_red_bg.push(i)}},"game_"+core.Global.clientGameId)},o=0;o<36;o++)n(o)},t.prototype.initRedbgpoint=function(){for(var e=this.node.getChildByName("scrollerLayer").getChildByName("tounchLayer"),t=0;t<this.all_red_bg.length;t++){var n=e.getChildByName("node"+(t+1));n&&(this.all_red_bg[t].active=!1,n.x&&n.y&&this.all_red_bg[t]?(this.all_red_bg[t].x=n.x,this.all_red_bg[t].y=n.y):console.log("initRedbgpoint"))}},t.prototype.CreatImage=function(){for(var e=this,t=this.node.getChildByName("scrollerLayer").getChildByName("tounchLayer"),n=function(n){game.ResLoader.getInstance().loadRes("prefabs/gameItem/carImage",function(o,a){if(!o){var i=cc.instantiate(a);i.name="node_image"+(n+1),i.active=!1,t.addChild(i,4),e.setnodepoine(i,n),e.all_car_image.push(i)}},"game_"+core.Global.clientGameId)},o=0;o<36;o++)n(o)},t.prototype.CreatImageEffect=function(){for(var e=this,t=this.node.getChildByName("scrollerLayer").getChildByName("tounchLayer"),n=function(n){game.ResLoader.getInstance().loadRes("prefabs/gameItem/ImgEffect",function(o,a){if(!o){var i=cc.instantiate(a);i.name="node_image_effect"+(n+1),i.active=!1,t.addChild(i,4),e.setnodepoine(i,n),e.all_image_effect.push(i)}},"game_"+core.Global.clientGameId)},o=0;o<36;o++)n(o)},t.prototype.CreatCandyImage=function(){for(var e=this,t=this.node.getChildByName("scrollerLayer").getChildByName("tounchLayer"),n=function(n){game.ResLoader.getInstance().loadRes("prefabs/gameItem/ShowCandy",function(o,a){if(!o){var i=cc.instantiate(a);i.name="cand_img"+(n+1),i.opacity=0,t.addChild(i,6),e.all_candy_img.push(i)}},"game_"+core.Global.clientGameId)},o=0;o<3;o++)n(o)},t.prototype.CloseCandyImage=function(){for(var e=0;e<this.all_candy_img.length;e++)this.all_candy_img[e].opacity=!1},t.prototype.setImageVisiable=function(){for(var e=0;e<this.all_car_image.length;e++)this.all_car_image[e].active=!1},t.prototype.CreateCandy=function(){for(var e=this,t=this.node.getChildByName("scrollerLayer").getChildByName("tounchLayer"),n=function(n){game.ResLoader.getInstance().loadRes("prefabs/gameItem/Candy",function(o,a){if(!o){var i=cc.instantiate(a);i.name="node_candy"+n,i.active=!1,t.addChild(i,5),e.all_Candy_cfg.push(i)}},"game_"+core.Global.clientGameId)},o=0;o<6;o++)n(o)},t.prototype.initCandy=function(){if(this.all_Candy_cfg&&this.all_Candy_cfg.length)for(var e=0;e<this.all_Candy_cfg.length;e++)this.all_Candy_cfg[e].active=!1},t.prototype.setnodepoine=function(e,t){var n=this.node.getChildByName("scrollerLayer").getChildByName("tounchLayer").getChildByName("node"+(t+1));n&&e&&(e.x=n.x,e.y=n.y)},t.prototype.initImagepoint=function(){for(var e=this.node.getChildByName("scrollerLayer").getChildByName("tounchLayer"),t=0;t<this.all_car_image.length;t++){var n=e.getChildByName("node"+(t+1));n&&this.all_car_image[t]?(this.all_car_image[t].active=!1,this.all_car_image[t].x=n.x,this.all_car_image[t].y=n.y):console.log("initImagepoint\u51fa\u9519\u4e86")}},t.prototype.setrocketpoint=function(e){this.RocketCount=this.RocketCount+1,console.log("\u521b\u5efa\u4e86\u706b\u7bad");var t=this.node.getChildByName("scrollerLayer").getChildByName("tounchLayer").getChildByName("node"+e),n=this.all_rocket_cfg[this.RocketCount];n&&t&&(n.active=!0,this.Record_Rocket_Data.push({rock_node:n,id:e}),n.x=t.x,n.y=t.y,n.getComponent(sp.Skeleton).setAnimation(0,"hj_fadein",!1),n.getComponent(sp.Skeleton).setCompleteListener(function(){"hj_loop"!=n.getComponent(sp.Skeleton).animation&&n.getComponent(sp.Skeleton).setAnimation(0,"hj_loop",!0)}))},t.prototype.ByIdGetRocketNode=function(e){var t=this.Record_Rocket_Data;if(console.log("xxxxxxxxxxxxxxxx",t),t&&t.length&&0!=t.length){for(var n=0;n<t.length;n++)if(t[n].id==e)return t[n].rock_node;return null}},t.prototype.setAllRocketViesable=function(){for(var e=0;e<this.all_rocket_cfg.length;e++)this.all_rocket_cfg[e].active=!1,this.all_rocket_cfg[e].rotation=0},t.prototype.setAllRocketRotation=function(){for(var e=0;e<this.all_rocket_cfg.length;e++)this.all_rocket_cfg[e].rotation=0},t.prototype.setAllChocolteViesable=function(){for(var e=0;e<this.all_chocolates_cfg.length;e++)this.all_chocolates_cfg[e].active=!1},t.prototype.setAllCandyViesable=function(){for(var e=0;e<this.all_Candy_cfg.length;e++)this.all_Candy_cfg[e].active=!1},t.prototype.setImagedata=function(e,t,n){var o=this.all_car_image;if(e&&e.length&&0!=e.length){for(var a=[],i=0;i<e.length;i++)for(var s="node_image"+e[i],c=0;c<o.length;c++)o[c]&&o[c].name==s&&(o[c].active=!0,a.push(o[c]),game.EventManager.getInstance().raiseEvent(r.CabdyEvent.EVENT_CHANGE_IMAGE,o[c],t));if(n)for(var l=0;l<a.length;l++)if(a[l]){var p=cc.scaleTo(.2,1.1),h=cc.scaleTo(.2,.9),_=cc.callFunc(function(){}.bind(this));a[l].runAction(cc.sequence(_,p,h))}return a}},t.prototype.setImgByEliminatedata=function(e,t,n,o){var a=this.all_image_effect;if(e&&e.length&&0!=e.length){for(var i=[],s=0;s<e.length;s++)for(var c="node_image_effect"+e[s],l=0;l<a.length;l++)if(a[l]&&a[l].name==c){a[l].active=!0;var p=a[l].getChildByName("imgcard");a[l].getChildByName("img_bg").active=!!o,i.push(a[l]),p.active=!0,game.EventManager.getInstance().raiseEvent(r.CabdyEvent.EVENT_CHANGE_IMAGE_ID,p,t)}if(n)for(var h=0;h<i.length;h++)if(i[h]){var _=cc.scaleTo(.2,1.2),d=cc.scaleTo(.2,1),u=cc.callFunc(function(){}.bind(this));i[h]._children[1].runAction(cc.sequence(u,_,d))}return i}},t.prototype.matespecialeliminlist=function(e,t){for(var n=e,o=t.posList,a=0;a<n.length;a++)if(n[a].length==o.length){for(var i=0,r=0;r<n[a].length;r++)n[a][r]==o[r]&&(i+=1);if(i==o.length)return n[a]}return null},t.prototype.judgecombination=function(e,t){var n=this.getInedxToyleElimintaedata(t),o=this.getIndexSpecialElemGridPieceList(t),a=this.getSpecialEliminateData(t),i=this.getrandomspecialEliminta(t),r=this.getSpecialEliminateData(t),s=this.getElimintaetScore(t),c=this.getEliminateCompliteGride(t),l=this.getEliminateSpecialRedBg(t);if(console.log("7777777777777777777777",t,l),a&&a.length){var p=this.getSpecialEliminateGrideId(t);this.setSpecialEliminate(p,a,i,r,s,c,l)}else for(var h=0;h<o.length;h++){var _=this.matespecialeliminlist(n,o[h]),d=o[h];if(!_||!_.length)return void console.log("judgecombination\u51fa\u9519\u4e86");9==d.elem?this.CombinationRocket(_,d,c):10==d.elem?this.CombinationChocolates(_,d,c):11==d.elem&&this.CombinationCandy(_,d,c)}},t.prototype.CombinationRocket=function(e,t,n){console.log("\u53ef\u4ee5\u7ec4\u5408\u706b\u7bad\u4e86",t);var o=n[e[0].low-1],a=t;if(a&&a.pos){var i=a.pos,s=this.setImgByEliminatedata(e,o,!0,!0);this.MoveGrideCombinationRocket(s,i,r.SetScatterType.Rocket)}},t.prototype.MoveGrideCombinationRocket=function(e,t,n){var o=this,a=e;if(null!=(t||0)){var i=this.getredbgidnode(a,t,"node_image_effect");if(i){cc.tween(this.node).delay(.5).call(function(){for(var e=function(e){i&&a[e]&&(a[e].getChildByName("img_bg").active=!1,a[e].tw,a[e].stopAllActions(),cc.tween(a[e]).to(.3,{position:new cc.Vec3(i.x,i.y)}).call(function(){a[e].active=!1}).start())},t=0;t<a.length;t++)e(t)}).start(),this.scheduleOnce(function(){i.active=!1,o.initImgAndEffectpoint()},.85);var s=cc.delayTime(1),c=cc.callFunc(function(){n==r.SetScatterType.Chocolates?(slot.SoundMger.instance.playEffect("Chocolate_Bomb_Explosion_Sound",!1),this.setchocolatespoint(t)):n==r.SetScatterType.Rocket?this.setrocketpoint(t):r.SetScatterType.Cabdy&&this.setrcandypoint(t),game.EventManager.getInstance().raiseEvent(r.mouseEvent.ANIMATION_STOP_CALL_BACK)}.bind(this));this.node.runAction(cc.sequence(s,c))}}},t.prototype.byIdgetnode=function(e,t){for(var n="node_image"+t,o=0;o<e.length;o++)if(e[o].name==n)return e[o];return null},t.prototype.CombinationChocolates=function(e,t,n){console.log("\u53ef\u4ee5\u7ec4\u5408\u5de7\u514b\u529b\u4e86",t);var o=n[e[0].low-1],a=t;if(a&&a.pos){var i=a.pos,s=this.setImgByEliminatedata(e,o,!0,!0);this.MoveGrideCombinationRocket(s,i,r.SetScatterType.Chocolates)}},t.prototype.CombinationCandy=function(e,t,n){console.log("\u53ef\u4ee5\u7ec4\u5408\u795e\u79d8\u7cd6\u679c\u4e86",t);var o=n[e[0].low-1],a=t;if(a&&a.pos){var i=a.pos,s=this.setImgByEliminatedata(e,o,!0,!0);this.MoveGrideCombinationRocket(s,i,r.SetScatterType.Cabdy)}},t.prototype.setrcandypoint=function(e){this.CandyCount=this.CandyCount+1,console.log("\u521b\u5efa\u4e86\u7cd6\u679c");var t=this.node.getChildByName("scrollerLayer").getChildByName("tounchLayer").getChildByName("node"+e),n=this.all_Candy_cfg[this.CandyCount];n&&t&&(n.active=!0,this.Record_Candy_Data.push({cand_node:n,id:e}),n.x=t.x,n.y=t.y,n.getComponent(sp.Skeleton).setAnimation(0,"fadein",!1),n.getComponent(sp.Skeleton).setCompleteListener(function(){"fadein"==n.getComponent(sp.Skeleton).animation&&n.getComponent(sp.Skeleton).setAnimation(0,"idle",!0)}))},t.prototype.ByIdGetCandyNode=function(e){var t=this.Record_Candy_Data;if(t&&t.length&&0!=t.length){for(var n=0;n<t.length;n++)if(t[n].id==e)return t[n].cand_node;return null}},t.prototype.byidgetcand=function(e){var t=this.Record_Candy_Data;if(t&&t.length&&0!=t.length){for(var n=0;n<t.length;n++)if(t[n].id==e)return t[n].cand_node;return null}},t.prototype.setSpecialEliminate=function(e,t,n,o,a,i,r){e&&e.length&&0!=e.length&&(t.length>=3?this.setSpecialEliminateEffect(e,t,o,n,a,i,r):2==t.length?this.setSpecialEliminateEffect(e,t,o,n,a,i,r):(this.setdataReadbg(r,[]),this.setdataImageAndEffectSprite(e,t,i,n),this.setSpecialEliminateEffect(e,t,o,n,a,i,r)))},t.prototype.setSpecialImagePos=function(e){return 1==e.length?e[0]:e.length>=2?this.SortMoveSpecialViewdata(e)[0]:void 0},t.prototype.setSpecialMaxImageElem=function(e){return 1==e.length?e[0]:e.length>=2?this.SortMoveSpecialdecline(e)[0]:void 0},t.prototype.setdataImageAndEffectSprite=function(e,t,n,o){var a=this.all_image_effect,i=this.setSpecialImagePos(t),r=this.setSpecialMaxImageElem(t);if(console.log(";ppppppppppppppppppppp",e,i.pos-1),console.log("\u521b\u5efa\u5bf9\u5e94\u7684\u56fe\u7247",e,i,t),e&&e.length&&0!=e.length){for(var s=0;s<e.length;s++)if(e[s]==i.pos-1)if(9==r.elem||10==r.elem);else{var c=this.setFuseDataType(t);if(0==c)this.setImageNodeByData(a,e[s],n,e,!0,o[0]);else if(1==c)if(1==o.length){var l=o[0];this.setImageNodeByData(a,e[s],n,e,!0,l)}else console.log("\u7cd6\u679c\u5c55\u793a\u6570\u636e\u51fa\u9519\u4e86");else if(2==c){var p=i.pos,h=this.setCandBlikIamgPos(p);3==o.length?(l=o[1],this.setShowCandyImage(o,h),this.setImageNodeByData(a,e[s],n,e,!0,l)):console.log("\u53cc\u7cd6\u679c\u6570\u636e\u878d\u5408\u5931\u8d25\u4e86")}}else this.setImageNodeByData(a,e[s],n,e,!1,null);this.setImageshake()}},t.prototype.setShowCandyImage=function(e,t){if(3==e.length&&3==t.length){var n=this.all_candy_img;if(1==t[0].type)for(var o=0;o<t.length;o++){var a=e[o],i=this.ByPosGetNode(t[1].pos_id);t[o].pos_id<t[1].pos_id?(n[o].x=i.x-100,n[o].y=i.y):t[o].pos_id==t[1].pos_id?(n[o].x=i.x,n[o].y=i.y):t[o].pos_id>t[1].pos_id&&(n[o].x=i.x+100,n[o].y=i.y),n[o].opacity=255,n[o]&&game.EventManager.getInstance().raiseEvent(r.CabdyEvent.EVENT_CHANGE_CANDY_SHOW_IMAGE,n[o].getChildByName("image_car"),a)}else for(o=0;o<t.length;o++)a=e[o],i=this.ByPosGetNode(t[1].pos_id),t[o].pos_id<t[1].pos_id?(n[o].x=i.x,n[o].y=i.y+100):t[o].pos_id==t[1].pos_id?(n[o].x=i.x,n[o].y=i.y):t[o].pos_id>t[1].pos_id&&(n[o].x=i.x,n[o].y=i.y-100),n[o].opacity=255,n[o]&&game.EventManager.getInstance().raiseEvent(r.CabdyEvent.EVENT_CHANGE_CANDY_SHOW_IMAGE,n[o].getChildByName("image_car"),a)}else console.log("\u8bbe\u7f6e\u7cd6\u679c\u5c55\u793a\u51fa\u9519\u4e86")},t.prototype.setImageNodeData=function(){},t.prototype.setCandBlikIamgPos=function(e){var t=[];if(this.getCandPointState(e)){var n=e-6,o=e+6,a=this.DecideWhetherDataStae(n),i=this.DecideWhetherDataStae(o);a&&i&&(t.push({pos_id:n,type:1}),t.push({pos_id:e,type:1}),t.push({pos_id:o,type:1}))}else t.push({pos_id:e-1,type:2}),t.push({pos_id:e,type:2}),t.push({pos_id:e+1,type:2});return t},t.prototype.DecideWhetherDataStae=function(e){return e>=1&&e<=36},t.prototype.getCandPointState=function(e){for(var t=this.SpcialShowCandyPoint,n=0;n<t.length;n++)if(e==t[n])return!0;return!1},t.prototype.setFuseDataType=function(e){if(1==e.length)return 0;if(2==e.length){var t=e[0],n=e[1];return t.elem===n.elem?2:1}return 0},t.prototype.setImageNodeByData=function(e,t,n,o,a,i){for(var s="node_image_effect"+(t+1),c=0;c<e.length;c++)if(e[c]&&e[c].name==s){e[c].active=!0,e[c].getChildByName("img_bg").active=!1,this.record_img_and_effect.push(e[c]);var l=this.setDataGirdeByid(t,n);1==a&&(e[c].zIndex=6),l&&(11!=l&&9!=l&&10!=l||(i?(l=i,console.log("hht",i)):console.log("\u521b\u5efa\uff0c\u7cd6\u679c\u4f4d\u7f6e\u5143\u7d20\u51fa\u9519\u4e86")),game.EventManager.getInstance().raiseEvent(r.CabdyEvent.EVENT_CHANGE_IMAGE_ID,e[c].getChildByName("imgcard"),l))}},t.prototype.setImageshake=function(){this.stopImageshake();var e=this.record_img_and_effect;this.initClrarImgPoint(e);for(var t=0;t<e.length;t++)if(e[t]){this.Record_Shake_imge_node.push(e[t]);var n=e[t].x,o=e[t].y,a=cc.sequence(cc.moveTo(.1,cc.v2(n-2,o)),cc.moveTo(.1,cc.v2(n+2,o)),cc.moveTo(.1,cc.v2(n+2,o+2)),cc.moveTo(.1,cc.v2(n-2,o+2)),cc.moveTo(.1,cc.v2(n+2,o-2)),cc.moveTo(.1,cc.v2(n,o)));e[t].runAction(cc.repeatForever(a))}else console.log("setImageshake \u51fa\u9519\u4e86")},t.prototype.initClrarImgPoint=function(e){for(var t=this.node.getChildByName("scrollerLayer").getChildByName("tounchLayer"),n=0;n<e.length;n++){var o=e[n].name.split("node_image_effect"),a=Number(o[1]),i=t.getChildByName("node"+a);i&&(e[n].active=!0,e[n].getChildByName("imgcard").active=!0,i.x&&i.y&&e[n]?(e[n].x=i.x,e[n].y=i.y):console.log("initRedbgpoint"))}},t.prototype.stopImageshake=function(){for(var e=this.Record_Shake_imge_node,t=0;t<e.length;t++)e[t].stopAllActions();this.Record_Shake_imge_node=[]},t.prototype.setDataGirdeByid=function(e,t){return t[e]},t.prototype.setdataReadbg=function(e,t){var n=t,o=null,a=!1,i=this.all_red_bg;if(this.record_red_bag=[],2==n.length){o=this.setElementGatherlist(n);var r=n[0],s=n[1];9==s.elem&&11==r.elem||11==s.elem&&9==r.elem?a=!0:11==s.elem&&11==r.elem?a=!0:(11==s.elem&&10==r.elem||10==s.elem&&11==r.elem)&&(a=!0)}if(a){if(!(i&&i.length&&0!=i.length&&e&&e.length&&0!=e.length))return;for(var c=0;c<e.length;c++)if(e[c].low!=o[1].pos)for(var l="node_red_bg"+e[c].low,p=0;p<i.length;p++)i[p].name==l&&(i[p].active=!0,this.record_red_bag.push(i[p]))}else{if(!(i&&i.length&&0!=i.length&&e&&e.length&&0!=e.length))return;for(c=0;c<e.length;c++)for(l="node_red_bg"+e[c].low,p=0;p<i.length;p++)i[p].name==l&&(i[p].active=!0,this.record_red_bag.push(i[p]))}},t.prototype.setSpecialEliminateEffect=function(e,t,n,o,a,i,r){if(t&&t.length&&0!=t.length&&e&&e.length&&0!=e.length)if(e.length,slot.SoundMger.instance.playEffect("PrizeDisappear",!1),t&&1==t.length){var s=t[0],c=t[0].elem,l=t[0].pos;9==c?this.setOneRocketBlastEffect(e,s,i,r):10==c?this.setOneChocolatesBlastEffect(e,s,i,r):11==c&&this.setOneCandyBlastEffect(e,l,c,i,r)}else t&&2==t.length?this.throughGridEliminate(n,t,e,o,i,r):t&&t.length>=3&&(console.log("\u5df2\u7ecf\u51fa\u73b0\u4e09\u4e2a \u9700\u8981\u64ad\u653e\u6e05\u5c4f\u52a8\u6548"),this.ClearAllNodeByEffect(n,e,t,a,i,r,o))},t.prototype.setOneRocketBlastEffect=function(e,t,n,o){var a=this,i=e,r=t,s=i[0],c=i[1],l=i[2],p=c-s,h=l-c,_=r.pos;[].push(_);var d=this.ByElemGetSpecialNode(r);cc.tween(d).delay(.2).to(.3,{scaleY:.8}).to(.3,{scaleY:1}).call(function(){if(d.active=!1,6==p||6==h){a.setBlickeffect(r.pos,r.elem,e,1,o,r);var t=a.record_img_and_effect[0],n=a.record_img_and_effect[a.record_img_and_effect.length-1],i=a.record_img_and_effect.length;d.active=!0,i<5?(d.x=t.x-360,d.y=t.y):(d.x=t.x-160,d.y=t.y),d.x=t.x-160,d.y=t.y,d.rotation=90,a.stopImageshake(),cc.tween(d).to(.8,{position:new cc.Vec3(n.x+400,n.y)}).call(function(){d.rotation=0,a.closeRedbg()}).start()}else 1!=p&&1!=h||(console.log("jjjjjjjjjjjjjjjjjjjj",a.record_img_and_effect),i=a.record_img_and_effect.length,a.setBlickeffect(r.pos,r.elem,e,2,o,r),t=a.record_img_and_effect[a.record_img_and_effect.length-1],n=a.record_img_and_effect[0],d.active=!0,i<5?(console.log("pppppppppppppppp"),d.x=t.x,d.y=t.y-600,console.log("ssssssssssssssssss",t.x,t.y-400,n.x,n.y+400)):(d.x=t.x,d.y=t.y-160),a.stopImageshake(),cc.tween(d).to(.8,{position:new cc.Vec3(n.x,n.y+400)}).call(function(){a.closeRedbg()}).start())}).start(),this.scheduleOnce(function(){a.setAllgirdemove()},.2)},t.prototype.setAllgirdemove=function(){var e=this.node.getChildByName("scrollerLayer").getChildByName("rollerMask"),t=e.x,n=e.y;cc.tween(e).to(.08,{position:new cc.Vec3(t-5,n)}).to(.08,{position:new cc.Vec3(t-5,n-5)}).to(.08,{position:new cc.Vec3(t+5,n-5)}).to(.08,{position:new cc.Vec3(t,n)}).call(function(){}).start()},t.prototype.setBlickeffect=function(e,t,n,o,a){var i=this,r=e,s=1;t>=9&&(s=7);var c=this.record_red_bag,l=this.record_img_and_effect,p=this.getredbgidnode(c,r,"node_red_bg");if(this.setNodePlayBleakEffect(p,s,0),1==o)for(var h=.15,_=function(e){if(a[e]!=r){var t=a[e],n=d.getredbgidnode(c,t,"node_red_bg"),o=d.getredbgidnode(l,t,"node_image_effect"),s=d.CurrProto.spinResult.grid[a[e]-1];n&&(h+=.08,cc.tween(n).delay(h).call(function(){o&&(o.active=!1),i.setNodePlayBleakEffect(n,s,0)}).start())}},d=this,u=0;u<a.length;u++)_(u);else if(2==o){h=.15;var g=function(e){if(a[e]!=r){var t=a[e],n=m.getredbgidnode(c,t,"node_red_bg"),o=m.getredbgidnode(l,t,"node_image_effect"),s=m.CurrProto.spinResult.grid[a[e]-1];n&&o&&(h+=.08,cc.tween(n).delay(h).call(function(){o.active=!1,i.setNodePlayBleakEffect(n,s,0)}).start())}},m=this;for(u=a.length-1;u>=0;u--)g(u)}},t.prototype.getredbgidnode=function(e,t,n){for(var o=n+t,a=0;a<e.length;a++)if(e[a].name==o)return e[a];return null},t.prototype.closeRedbg=function(){for(var e=this.record_red_bag,t=this.record_img_and_effect,n=0;n<e.length;n++)e[n].active=!1;for(n=0;n<t.length;n++)t[n].active=!1;this.record_red_bag=[],this.record_car_img=[],this.record_img_and_effect=[],this.initRedbgpoint(),this.initImgAndEffectpoint()},t.prototype.setLargeRocketBlastEffect=function(){},t.prototype.setOneCandyBlastEffect=function(e,t,n,o,a){var i=this;[].push(t);var r=this.byidgetcand(t);console.log("\u8bbe\u7f6e\u7cd6\u679c\u7206\u70b8",e,t),slot.SoundMger.instance.playEffect("Disappearwheel_Sound",!1),r&&(r.active=!0,r.getComponent(sp.Skeleton).setAnimation(0,"win",!1),r.getComponent(sp.Skeleton).setCompleteListener(function(){r.getComponent(sp.Skeleton).setAnimation(0,"win_exit",!1),r.getComponent(sp.Skeleton).setCompleteListener(function(){"win_exit"==r.getComponent(sp.Skeleton).animation&&(i.setOneCandyBlastNodeeffect(e,t,n,a),r.active=!1,r.getComponent(sp.Skeleton).setAnimation(0,"None",!1))})}))},t.prototype.setOneCandyBlastNodeeffect=function(e,t,n,o){var a=this;console.log("\u7cd6\u679c\u8981\u7206\u70b8\u7206\u70b8\u7206\u70b8\u4e86",e,t);var i=this.record_red_bag,r=this.record_img_and_effect;this.getredbgidnode(i,t,"node_red_bg");for(var s=function(e){var t=o[e],n=c.getredbgidnode(i,t,"node_red_bg"),s=c.getredbgidnode(r,t,"node_image_effect"),l=c.CurrProto.spinResult.grid[o[e]-1];s&&(s.active=!1),cc.tween(n).delay(.1).call(function(){a.setNodePlayBleakEffect(n,l,0)}).start()},c=this,l=0;l<o.length;l++)s(l);this.scheduleOnce(function(){a.closeRedbg()},.8)},t.prototype.setOneChocolatesBlastEffect=function(e,t,n,o){var a=this;console.log("\u8bbe\u7f6e\u5de7\u514b\u529b\u7206\u70b8",e,t);var i=t.pos;[].push(i),slot.SoundMger.instance.playEffect("Chocolate_Bomb_Explosion_Sound",!1);var r=this.ByElemGetSpecialNode(t),s=this.record_red_bag;this.record_car_img,this.getredbgidnode(s,t.pos,"node_red_bg"),cc.tween(r).to(.3,{scale:1.3}).to(.2,{scale:0}).call(function(){r.active=!1,r.scale=1,a.stopImageshake(),a.setOneChocolatesAllNodeBlast(e,t,o),slot.SoundMger.instance.playEffect("Chocolate_Bomb_Explosion_Eound",!1)}).start()},t.prototype.setOneChocolatesAllNodeBlast=function(e,t,n){var o=this,a=this.record_red_bag,i=this.record_img_and_effect,r=this.getredbgidnode(a,t.pos,"node_red_bg"),s=1;t.elem>=9&&(s=7),this.setNodePlayBleakEffect(r,s,0);for(var c=function(e){if(n[e]!=t.pos){var r=n[e],s=l.getredbgidnode(a,r,"node_red_bg"),c=l.getredbgidnode(i,r,"node_image_effect"),p=l.CurrProto.spinResult.grid[n[e]-1];c&&(c.active=!1),cc.tween(s).delay(.1).call(function(){o.setNodePlayBleakEffect(s,p,0)}).start()}},l=this,p=0;p<n.length;p++)c(p);this.scheduleOnce(function(){o.closeRedbg()},.8)},t.prototype.throughGridEliminate=function(e,t,n,o,a,i){console.log("xxxxxxxxxxxxxxxxxxxxxxxxxx",e);var r=this.judgFuseType(e).elem,s=this.judgFusePose(e),c=t;9==r?this.RocketElimination(s.pos,c,n,o,a,i):10==r?this.ChocolatesElimination(s.pos,c,n,o,a,i):11==r&&this.CandyElimination(s.pos,c,n,o,a,i)},t.prototype.judgFuseType=function(e){var t=e[0],n=e[1];return t.elem>n.elem?t:t.elem<n.elem?n:t},t.prototype.judgFusePose=function(e){var t=e[0],n=e[1];return t.pos>n.pos?n:t.pos<n.pos?t:void 0},t.prototype.setElementGatherlist=function(e){var t=[],n=e[0],o=e[1];return n.pos>o.pos?(t.push(n),t.push(o)):(t.push(o),t.push(n)),t},t.prototype.RocketElimination=function(e,t,n,o,a,i){for(var r=this,s=t,c=[],l=0;l<i.length;l++)c.push(i[l].low-1);this.setRocketAndRocketSplitData(e,c);var p=this.setRocketAndRocketSplitData(e,c);if(p&&p.length&&0!=p.length){var h=[];for(l=0;l<s.length;l++)h.push(s[l].pos);this.setRendNodeViseable(h);var _=this.setElementGatherlist(s),d=null,u=null;_&&_.length&&_.length>0?(d=this.ByElemGetSpecialNode(_[0]),u=this.ByElemGetSpecialNode(_[1]),d&&u?cc.tween(d).to(.3,{position:new cc.Vec3(u.x,u.y)}).call(function(){d.active=!1,cc.tween(u).to(.3,{scale:.8}).to(.3,{scale:1}).call(function(){u.active=!1,r.setReadbgandImg(n,t,a,i,o),r.ShowRendNode(h),r.setlagerRocketremove(_[1].pos,_[1].elem,p,n)}).start()}).start():console.log("\u83b7\u53d6\u5230\u7cd6\u679c\u79fb\u52a8\u8282\u70b9\u5931\u8d25")):console.log("\u79fb\u52a8\u5217\u8868\u51fa\u9519\u4e86")}},t.prototype.setReadbgandImg=function(e,t,n,o,a){console.log("hhhhhhhhhhhhh",t,n,o,a),this.setdataReadbg(o,t),this.setdataImageAndEffectSprite(e,t,n,a)},t.prototype.setlagerRocketremove=function(e,t,n,o){var a=this,i=n,r=this.setRocketNum(i);this.stopImageshake();var s=this.record_red_bag,c=this.record_img_and_effect,l=this.getredbgidnode(s,e,"node_red_bg"),p=1;if(t>=9&&(p=7),this.setNodePlayBleakEffect(l,p,0),r&&r.length&&i.length==r.length){console.log("ccccccccccccccccccccc",i);for(var h=function(e){var t=e+1,n=i[e],o=r[e].data;if(n[0]==n[1])return"break";var a=_.ByPosGetNode(n[0]),s=_.ByPosGetNode(n[1]);o.active=!0,1==t?(o.x=a.x-200,o.y=a.y,o.rotation=90,cc.tween(o).to(.8,{position:new cc.Vec3(s.x+200,s.y)}).call(function(){o.active=!1,o.rotation=0}).start()):2==t?(o.x=a.x,o.y=a.y-200,cc.tween(o).to(.8,{position:new cc.Vec3(s.x,s.y+200)}).call(function(){o.active=!1}).start(),console.log(">>>>>>>>>>>>>>>>>>>",o.x,o.y,s.x,s.y,a.x,a.y)):3==t?(o.x=a.x-120,o.y=a.y-120,o.rotation=45,cc.tween(o).to(.8,{position:new cc.Vec3(s.x+120,s.y+120)}).call(function(){o.active=!1,o.rotation=0}).start()):4==t&&(o.x=a.x+100,o.y=a.y-100,o.rotation=-45,cc.tween(o).to(.8,{position:new cc.Vec3(s.x-120,s.y+100)}).call(function(){o.active=!1,o.rotation=0}).start())},_=this,d=0;d<i.length&&"break"!==h(d);d++);var u=cc.delayTime(.35),g=cc.callFunc(function(){for(var e=0;e<o.length;e++){var t=o[e]+1,n=this.getredbgidnode(s,t,"node_red_bg"),a=this.getredbgidnode(c,t,"node_image_effect"),i=this.CurrProto.spinResult.grid[o[e]];a&&(a.active=!1,this.setNodePlayBleakEffect(n,i,0))}}.bind(this));this.node.runAction(cc.sequence(u,g)),this.scheduleOnce(function(){a.closeRedbg()},.85)}else console.log("\u706b\u7bad\u6570\u636e\u51fa\u9519\u4e86")},t.prototype.setRocketAndRocketSplitData=function(e,t){console.log("HHHHHHHHHHHHHHHHHHHHHHHHHSSS",e,t);var n=Math.floor(e/6),o=e%6;o=0==o?6:o,o--,console.log("x = ",n,"  y = ",o);for(var a=cc.v2(0,o),i=cc.v2(n,5),r=n,s=o,c=0;c<6&&!(r<=0||s>=5);c++)r-=1,s+=1;var l=cc.v2(r,s);for(r=n,s=o,c=0;c<6&&!(r>=5||s>=5);c++)r++,s++;var p=cc.v2(r,s),h=cc.v2(5,o),_=cc.v2(n,0);for(r=n,s=o,c=0;c<6&&!(r>=5||s<=0);c++)r++,s--;var d=cc.v2(r,s);for(r=n,s=o,c=0;c<6&&!(r<=0||s<=0);c++)r--,s--;var u=cc.v2(r,s);function g(e){return 6*e.x+e.y+1}return[[g(a),g(h)],[g(i),g(_)],[g(l),g(d)],[g(p),g(u)]]},t.prototype.NewSplitRocketEliminData=function(e){var t=e,n=this.setGrideposBylistNum(t),o=this.setGrideposByverticalList(t);return this.createMoveDataByRowAndList(n,o)},t.prototype.createMoveDataByRowAndList=function(e,t){var n=[];if(e>0&&e<7){var o=[e,e+30];n.push({move_data:o,type:1})}else console.log("\u521b\u5efa\u884c\u6570\u636e\u51fa\u9519\u4e86");if(t>0&&t<7){var a=[6*t,6*t-5];n.push({move_data:a,type:2})}else console.log("\u521b\u5efa\u884c\u6570\u636e\u51fa\u9519\u4e86");return n},t.prototype.SplitRocketEliminData=function(e,t){console.log("fffffffffffffff",e,t);var n=t,o=e,a=null,i=Math.ceil(o/6);0==i||1==i?a=0:2==i?a=6:3==i?a=12:4==i?a=18:5==i?a=24:6==i&&(a=30);var r=!1;if(a)for(var s=0;s<n.length;s++)n[s]==a&&(r=!0);if(r){var c=[],l=[],p=[],h=[],_=[];for(s=0;s<n.length;s++)0==n[s]||6==n[s]||12==n[s]||18==n[s]||24==n[s]||30==n[s]?_.push(n[s]):11==n[s]||17==n[s]||23==n[s]||29==n[s]?p.push(n[s]):n[s]>30&&n[s]<=35?h.push(n[s]):n[s]>0&&n[s]<=5&&l.push(n[s]);if(6==_.length&&5==l.length){(m=[]).push(_[0]),m.push(_[_.length-1]),(g=[]).push(l[l.length-1]),g.push(_[0]);var d=[];if(p.length&&p.length>0)for(s=0;s<p.length;s++)5==p[s]&&35==p[s]||d.push(p[s]);var u=[];if(h.length&&h.length>0)for(s=0;s<h.length;s++)30!=h[s]&&u.push(h[s]);u.push(_[0]),g&&g.length&&0!=g.length&&c.push({data:g,id:1,type:0}),d&&d.length&&0!=d.length&&c.push({data:d,id:2,type:0}),u&&u.length&&0!=u.length&&c.push({data:u,id:3,type:0}),m&&m.length&&0!=m.length&&c.push({data:m,id:4,type:0})}else if(6==_.length&&5==h.length){if((m=[]).push(_[0]),m.push(_[_.length-1]),(u=[]).push(h[h.length-1]),u.push(_[_.length-1]),d=[],p.length&&p.length>0)for(s=0;s<p.length;s++)5==p[s]&&35==p[s]||d.push(p[s]);var g=[];if(l.length&&l.length>0)for(s=0;s<l.length;s++)0!=l[s]&&g.push(l[s]);g.push(_[_.length-1]),g&&g.length&&0!=g.length&&c.push({data:g,id:1,type:1}),d&&d.length&&0!=d.length&&c.push({data:d,id:2,type:1}),u&&u.length&&0!=u.length&&c.push({data:u,id:3,type:1}),m&&m.length&&0!=m.length&&c.push({data:m,id:4,type:1})}else{if(g=[],l.length&&l.length>0){for(s=0;s<l.length;s++)0!=l[s]&&g.push(l[s]);g&&g.length&&1==g.length?g.push(a):console.log("\u7b2c\u4e00\u5217\u6570\u636e\u51fa\u9519\u4e86")}if(d=[],console.log("mmmmmmmmmmmmmmmmmmmmm0",p,a),p.length&&p.length>0){for(s=0;s<p.length;s++)5!=p[s]&&35!=p[s]&&d.push(p[s]);d&&d.length&&1==d.length?d.push(a):console.log("\u7b2c\u4e8c\u5217\u6570\u636e\u662f\u7a7a\u7684\u4e86")}var m;if(u=[],h.length&&h.length>0){for(s=0;s<h.length;s++)30!=h[s]&&u.push(h[s]);u&&u.length&&1==u.length?u.push(a):console.log("\u7b2c\u4e09\u5217\u6570\u636e\u662f\u7a7a\u7684\u4e86")}(m=[]).push(_[0]),m.push(_[_.length-1]),g&&g.length&&0!=g.length&&c.push({data:g,id:1,type:0}),d&&d.length&&0!=d.length&&c.push({data:d,id:2,type:0}),u&&u.length&&0!=u.length&&c.push({data:u,id:3,type:0}),m&&m.length&&0!=m.length&&c.push({data:m,id:4,type:0})}return c}console.log("\u4e2d\u5fc3\u70b9\u4e0d\u5b58\u5728\uff0c\u6e38\u620f\u4e2d\u65ad\u4e86")},t.prototype.setRocketNum=function(e){var t=this.Record_Rocket_Data,n=[];if(t&&t.length>0){if(!e||!e.length||0==e.length)return;for(var o=0;o<this.all_rocket_cfg.length;o++){var a=n.length;e.length>a&&(this.judgChoiceIsVisiable(this.all_rocket_cfg[o],t)||n.push({data:this.all_rocket_cfg[o],id:o+1}))}}else{if(!e||!e.length||0==e.length)return;for(o=0;o<this.all_rocket_cfg.length;o++)o<e.length&&n.push({data:this.all_rocket_cfg[o],id:o+1})}return n},t.prototype.judgChoiceIsVisiable=function(e,t){for(var n=0;n<t.length;n++)if(t[n].rock_node._name==e.name)return!0;return!1},t.prototype.ChocolatesFuseType=function(e){var t=e[0],n=e[1];return t.elem<n.elem?t:n},t.prototype.ChocolatesElimination=function(e,t,n,o,a,i){for(var r=this,s=[],c=0;c<i.length;c++)s.push(i[c].low-1);for(var l=[],p=0;p<t.length;p++)l.push(t[p].pos);this.setRendNodeViseable(l);var h=this.SplitChocolatesEliminData(e,s,t),_=t,d=this.setChocolatesFuseData(_),u=this.ChocolatesFuseType(_),g=d[0],m=d[1];if(d&&d.length&&d.length>0)if(9==u.elem){var f=this.ByElemGetSpecialNode(g),E=this.ByElemGetSpecialNode(m);f&&E?cc.tween(f).to(.3,{position:new cc.Vec3(E.x,E.y)}).call(function(){var e=null;9==g.elem?(f.active=!0,E.active=!1,e=f):(f.active=!1,E.active=!0,e=E),cc.tween(e).to(.3,{scaleY:.8}).to(.3,{scaleY:1}).call(function(){e.active=!1,r.setReadbgandImg(n,t,a,i,o),r.ShowRendNode(l),r.setRocketAndChocoleffeect(m.pos,m.elem,h,n,h)}).start()}).start():console.log("\u83b7\u53d6\u5230\u706b\u7bad\u5931\u8d25\u4e86")}else 10==u.elem&&this.setChocolatesAndChocolatesEffect(d,n,t,a,i,o,l);else console.log("\u878d\u5408\u961f\u5217\u51fa\u9519\u4e86")},t.prototype.SplitChocolatesEliminData=function(e,t,n){var o=t,a=n[0].elem,i=n[1].elem,r=e,s=[];Math.ceil(r/6);if(a==i);else{for(var c=[],l=[],p=0;p<o.length;p++)5==o[p]||11==o[p]||17==o[p]||23==o[p]||29==o[p]||35==o[p]?l.push(o[p]):o[p]>=0&&o[p]<5&&c.push(o[p]);if(6==l.length)if(2==c.length)for(c.push(5),p=0;p<c.length;p++){var h=c[p],_=c[p]+30;s.push({start:h,end:_})}else console.log("\u6570\u636e\u51fa\u9519\u4e86");else if(5==c.length)for(p=0;p<l.length;p++)h=l[p],_=l[p]-5,s.push({start:h,end:_});else if(3==l.length)for(p=0;p<l.length;p++)h=l[p],_=l[p]-5,s.push({start:h,end:_});else if(3==c.length)for(p=0;p<c.length;p++)h=c[p],_=c[p]+30,s.push({start:h,end:_})}return s},t.prototype.setChocolatesFuseData=function(e){var t=[];return 2==e.length?e[0].pos>e[1].pos?(t.push(e[0]),t.push(e[1])):e[0].pos<e[1].pos&&(t.push(e[1]),t.push(e[0])):console.log("\u5de7\u514b\u529b\u878d\u5408\u961f\u5217\u51fa\u9519\u4e86"),t},t.prototype.setRocketAndChocoleffeect=function(e,t,n,o,a){var i=this;this.stopImageshake();var r=this.record_red_bag,s=this.record_img_and_effect,c=o,l=this.getredbgidnode(r,e,"node_red_bg"),p=1;t>=9&&(p=7),this.setNodePlayBleakEffect(l,p,0);var h=this.setRocketNum(a),_=this.judgeSplitRocketDataDirection(a),d=null;if(console.log("vvvvvvvvvvvvvvvvv",h,a),_&&1==_){d=this.setClearImageByRocketMove(c,1);for(var u=function(t){var n=a[t].start,o=a[t].end,i=h[t].data,s=g.getredbgidnode(r,n+1,"node_red_bg"),c=g.getredbgidnode(r,o+1,"node_red_bg");i.active=!0,n==g.setGrideposBylistNum(e)-1?(i.x=s.x-100,i.y=s.y,i.rotation=90,cc.tween(i).to(.7,{position:new cc.Vec3(c.x+350,c.y)}).call(function(){i.active=!1}).start()):(i.x=s.x-300,i.y=s.y,i.rotation=90,cc.tween(i).to(.7,{position:new cc.Vec3(c.x+100,c.y)}).call(function(){i.active=!1}).start())},g=this,m=0;m<a.length;m++)u(m)}else if(2==_){d=this.setClearImageByRocketMove(c,2);var f=function(t){var n=a[t].start,o=a[t].end,i=h[t].data,s=E.setGrideposByverticalList(e),c=E.getredbgidnode(r,n+1,"node_red_bg"),l=E.getredbgidnode(r,o+1,"node_red_bg");i.active=!0,n==6*s-1?(i.x=c.x,i.y=c.y-100,cc.tween(i).to(.7,{position:new cc.Vec3(l.x,l.y+350)}).call(function(){i.active=!1}).start()):(i.x=c.x,i.y=c.y-300,cc.tween(i).to(.7,{position:new cc.Vec3(l.x,l.y+100)}).call(function(){i.active=!1}).start())},E=this;for(m=0;m<a.length;m++)f(m)}var y=0;if(d&&d.length&&0!=d.length){console.log("ggggggggggggggggggg",d);var v=function(e){y+=.08;var t=cc.delayTime(y),n=cc.callFunc(function(){for(var t=0;t<d[e].length;t++){var n=d[e][t]+1,o=this.getredbgidnode(r,n,"node_red_bg"),a=this.getredbgidnode(s,n,"node_image_effect"),i=this.CurrProto.spinResult.grid[d[e][t]];a&&(a.active=!1),this.setNodePlayBleakEffect(o,i,0)}}.bind(N));N.node.runAction(cc.sequence(t,n))},N=this;for(m=0;m<d.length;m++)v(m);this.scheduleOnce(function(){i.closeRedbg(),i.setAllRocketRotation()},1)}else console.log("\u6d88\u9664\u961f\u5217\u51fa\u9519\u4e86")},t.prototype.setClearImageByRocketMove=function(e,t){var n=[],o=[],a=[],i=[],r=[],s=[],c=[];if(1==t)for(var l=0;l<e.length;l++)e[l]>=0&&e[l]<=5?n.push(e[l]):e[l]>5&&e[l]<=11?o.push(e[l]):e[l]>11&&e[l]<=17?a.push(e[l]):e[l]>17&&e[l]<=22?i.push(e[l]):e[l]>22&&e[l]<=29?r.push(e[l]):e[l]>29&&e[l]<=35&&s.push(e[l]);else if(2==t)for(var p=0;p<e.length;p++)5==e[p]||11==e[p]||17==e[p]||23==e[p]||29==e[p]||35==e[p]?n.push(e[p]):4==e[p]||10==e[p]||16==e[p]||22==e[p]||28==e[p]||34==e[p]?o.push(e[p]):3==e[p]||9==e[p]||15==e[p]||21==e[p]||27==e[p]||33==e[p]?a.push(e[p]):2==e[p]||8==e[p]||14==e[p]||20==e[p]||26==e[p]||32==e[p]?i.push(e[p]):1==e[p]||7==e[p]||13==e[p]||19==e[p]||25==e[p]||31==e[p]?r.push(e[p]):0!=e[p]&&6!=e[p]&&12!=e[p]&&18!=e[p]&&24!=e[p]&&30!=e[p]||s.push(e[p]);return c.push(n),c.push(o),c.push(a),c.push(i),c.push(r),c.push(s),c},t.prototype.judgeSplitRocketDataDirection=function(e){for(var t=0;t<e.length;t++){var n=e[t].start;if(5!=n){if(n>=0&&n<5)return 1;if(11==n||17==n||23==n||29==n||35==n)return 2}}},t.prototype.setChocolatesAndChocolatesEffect=function(e,t,n,o,a,i,r){var s=this,c=e,l=null,p=null;if(c&&c.length){this.setRendNodeViseable(r),l=c[0],p=c[1];var h=this.ByElemGetSpecialNode(l),_=this.ByElemGetSpecialNode(p);h&&_&&cc.tween(h).to(.3,{position:new cc.Vec3(_.x,_.y)}).call(function(){h.active=!1,slot.SoundMger.instance.playEffect("Chocolate_Bomb_Explosion_Sound",!1),cc.tween(_).to(.3,{scale:1.2}).to(.1,{scale:0}).call(function(){slot.SoundMger.instance.playEffect("Chocolate_Bomb_Explosion_Eound",!1),_.active=!1,_.scale=1,s.setReadbgandImg(t,n,o,a,i),s.ShowRendNode(r),s.setChocolatesAndChocolatesViewImageClose(p.pos,p.elem,t,a)}).start()}).start()}},t.prototype.setChocolatesAndChocolatesViewImageClose=function(e,t,n,o){var a=this;this.stopImageshake();var i=this.record_red_bag,r=this.record_img_and_effect,s=this.getredbgidnode(i,e,"node_red_bg"),c=1;t>=9&&(c=7),this.setNodePlayBleakEffect(s,c,1);var l=cc.delayTime(.3),p=cc.callFunc(function(){for(var e=0;e<o.length;e++){var t=o[e],n=this.getredbgidnode(i,t,"node_red_bg"),a=this.getredbgidnode(r,t,"node_image_effect"),s=this.CurrProto.spinResult.grid[o[e]-1];a&&(a.active=!1),this.setNodePlayBleakEffect(n,s,0)}}.bind(this));this.node.runAction(cc.sequence(l,p)),this.scheduleOnce(function(){a.closeRedbg()},.7)},t.prototype.CandyElimination=function(e,t,n,o,a,i){console.log("xxxxxxxxxxxxxxx\u6211\u8981\u5f00\u59cb\u878d\u5408\u7cd6\u679c",t,n);var r=this.setCandyFuseData(t),s=this.judegFusintype(t),c=this.FuseLastPos(t);if(s||s.length)if(9==s.elem){var l=this.setRocketMoveListOfFuseCandy(c.pos);this.setRocketAndCandAnimation(l,n,r,o,a,i)}else 10==s.elem?this.setChocolatesAndCandyAnimation(n,r,o,a,i):11==s.elem&&this.setCandyAndCandyAnimation(n,r,o,a,i)},t.prototype.judegFusintype=function(e){var t=e[0],n=e[1];return t.elem>n.elem?n:t.elem<n.elem?t:t.elem==n.elem?t:null},t.prototype.FuseLastPos=function(e){var t=e[0],n=e[1];return t.pos>n.pos?n:t.pos<n.pos?t:t.pos==n.pos?t:null},t.prototype.setCandyFuseData=function(e){var t=e;if(t||t.length){var n=t[0],o=t[1],a=[];return n.pos>o.pos?(a.push(n),a.push(o)):n.pos<o.pos&&(a.push(o),a.push(n)),a}},t.prototype.setRocketMoveListOfFuseCandy=function(e){var t=e,n=[],o=this.setGrideposByverticalList(t),a=this.setGrideposBylistNum(t),i=[],r=[];return o&&o>0&&i.push(this.pos_vert_data[o-1]),a&&a>0&&r.push(this.pos_pervers_data[a-1]),n.push({data:i,id:1}),n.push({data:r,id:2}),n},t.prototype.setGrideposBylistNum=function(e){for(var t=0;t<6;t++)for(var n=0;n<6;n++)if(6*n+t==e-1)return t+1},t.prototype.setGrideposByverticalList=function(e){var t=Math.ceil(e/6);return 0==t||1==t?1:t},t.prototype.setRocketAndCandAnimation=function(e,t,n,o,a,i){for(var r=this,s=e,c=t,l=n,p=[],h=0;h<n.length;h++)p.push(n[h].pos);if(l&&l.length){var _=l[0],d=l[1],u=this.ByElemGetSpecialNode(d),g=this.ByElemGetSpecialNode(_);slot.SoundMger.instance.playEffect("Disappearwheel_Sound",!1),this.setRendNodeViseable(p),console.log("ffffffffffffffffff",g,u),_.elem>d.elem?cc.tween(g).to(.3,{position:new cc.Vec3(u.x,u.y)}).call(function(){u.active=!1,r.setReadbgandImg(c,n,a,i,o),g.getComponent(sp.Skeleton).setAnimation(0,"win1",!1),g.getComponent(sp.Skeleton).setCompleteListener(function(){g.getComponent(sp.Skeleton).setAnimation(0,"win_exit",!1),g.getComponent(sp.Skeleton).setCompleteListener(function(){"win_exit"==g.getComponent(sp.Skeleton).animation&&(g.active=!1,g.getComponent(sp.Skeleton).setAnimation(0,"None",!1),r.closeCandandRocketeffect(t,s,i,p))})})}).start():cc.tween(g).to(.3,{position:new cc.Vec3(u.x,u.y)}).call(function(){g.active=!1,r.setReadbgandImg(c,n,a,i,o),u.getComponent(sp.Skeleton).setAnimation(0,"win1",!1),u.getComponent(sp.Skeleton).setCompleteListener(function(){u.getComponent(sp.Skeleton).setAnimation(0,"win_exit",!1),u.getComponent(sp.Skeleton).setCompleteListener(function(){"win_exit"==u.getComponent(sp.Skeleton).animation&&(u.active=!1,u.getComponent(sp.Skeleton).setAnimation(0,"None",!1),r.closeCandandRocketeffect(t,s,i,p))})})}).start()}},t.prototype.closeCandandRocketeffect=function(e,t,n,o){var a=this,i=this.setRocketNum(t);if(i&&i.length){for(var r=this.record_red_bag,s=this.record_img_and_effect,c=function(e){var n=t[e],o=n.id,a=n.data,r=a[0][0],s=a[0][1],c=l.ByPosGetNode(r+1),p=l.ByPosGetNode(s+1);if(!c||!p)return{value:void 0};if(1==o){var h=i[e].data;h.x=c.x,h.y=c.y-150,h.active=!0,cc.tween(h).to(.7,{position:new cc.Vec3(p.x,p.y+150)}).call(function(){h.active=!1}).start()}else{var _=i[e].data;_.x=c.x-150,_.y=c.y,_.active=!0,_.rotation=90,cc.tween(_).to(.7,{position:new cc.Vec3(p.x+150,p.y)}).call(function(){_.active=!1,_.rotation=0}).start()}},l=this,p=0;p<t.length;p++){var h=c(p);if("object"==typeof h)return h.value}var _=function(e){var t=n[e],o=d.getredbgidnode(r,t,"node_red_bg"),i=d.getredbgidnode(s,t,"node_image_effect"),c=d.CurrProto.spinResult.grid[n[e]-1];i&&(i.active=!1),cc.tween(o).delay(.04).call(function(){a.setNodePlayBleakEffect(o,c,0)}).start()},d=this;for(p=0;p<n.length;p++)_(p);this.scheduleOnce(function(){a.ShowRendNode(o),a.closeRedbg()},.7)}},t.prototype.ByPosGetNode=function(e){var t="node"+e;return this.node.getChildByName("scrollerLayer").getChildByName("tounchLayer").getChildByName(t)||(console.log("\u83b7\u53d6\u8282\u70b9\u5931\u8d25"),null)},t.prototype.setChocolatesAndCandyAnimation=function(e,t,n,o,a){var i=this;console.log("PPPPPssssssssssssssssP",e,o,t);for(var r=e,s=[],c=0;c<t.length;c++)s.push(t[c].pos);this.setRendNodeViseable(s);var l=t[0],p=t[1],h=this.judgFusePose(t),_=this.ByElemGetSpecialNode(l),d=this.ByElemGetSpecialNode(p);_&&d&&(slot.SoundMger.instance.playEffect("Disappearwheel_Sound",!1),l.elem>p.elem?cc.tween(_).to(.3,{position:new cc.Vec3(d.x,d.y)}).call(function(){i.setReadbgandImg(r,t,o,a,n),d.active=!1,_.getComponent(sp.Skeleton).setAnimation(0,"win1",!1),_.getComponent(sp.Skeleton).setCompleteListener(function(){_.getComponent(sp.Skeleton).setAnimation(0,"win_idle",!1),_.getComponent(sp.Skeleton).setCompleteListener(function(){"win_exit"!=_.getComponent(sp.Skeleton).animation&&(_.getComponent(sp.Skeleton).setAnimation(0,"win_exit",!1),_.getComponent(sp.Skeleton).setCompleteListener(function(){_.active=!1,_.getComponent(sp.Skeleton).setAnimation(0,"None",!1),i.ShowRendNode(s),i.closeCureViewImageNode(r,h.pos)}))})})}).start():cc.tween(_).to(.3,{position:new cc.Vec3(d.x,d.y)}).call(function(){i.setReadbgandImg(r,t,o,a,n),_.active=!1,d.getComponent(sp.Skeleton).setAnimation(0,"win1",!1),d.getComponent(sp.Skeleton).setCompleteListener(function(){d.getComponent(sp.Skeleton).setAnimation(0,"win_idle",!1),d.getComponent(sp.Skeleton).setCompleteListener(function(){"win_exit"!=d.getComponent(sp.Skeleton).animation&&(d.getComponent(sp.Skeleton).setAnimation(0,"win_exit",!1),d.getComponent(sp.Skeleton).setCompleteListener(function(){d.active=!1,d.getComponent(sp.Skeleton).setAnimation(0,"None",!1),i.ShowRendNode(s),i.closeCureViewImageNode(r,h.pos)}))})})}).start())},t.prototype.ByElemGetSpecialNode=function(e){var t=e.elem,n=null;return 9==t?n=this.ByIdGetRocketNode(e.pos):10==t?n=this.ByIdGetChocolateNode(e.pos):11==t&&(n=this.ByIdGetCandyNode(e.pos)),n||(console.log("\u6ca1\u83b7\u53d6\u5230\u7279\u6b8a\u7cd6\u51fa\u9519\u4e86"),null)},t.prototype.closeCureViewImageNode=function(e,t){var n=this,o=this.record_red_bag,a=this.record_img_and_effect;this.stopImageshake();var i=this.getredbgidnode(a,t,"node_image_effect");console.log("ggggggggggggggggg",a,t,i),i&&(i.active=!1);var r=cc.delayTime(.2),s=cc.callFunc(function(){for(var n=0;n<e.length;n++)if(e[n]!=t-1){var i=e[n]+1,r=this.getredbgidnode(o,i,"node_red_bg"),s=this.getredbgidnode(a,i,"node_image_effect"),c=this.CurrProto.spinResult.grid[e[n]];s&&(s.active=!1),this.setNodePlayBleakEffect(r,c,0)}}.bind(this));this.node.runAction(cc.sequence(r,s)),this.scheduleOnce(function(){n.closeRedbg()},.7)},t.prototype.setCandyAndCandyAnimation=function(e,t,n,o,a){for(var i=this,r=e,s=t,c=[],l=0;l<t.length;l++)c.push(t[l].pos);this.setRendNodeViseable(c);var p=s[0],h=s[1],_=this.ByElemGetSpecialNode(p),d=this.ByElemGetSpecialNode(h);console.log("cccccccccccccccccc",h,t);var u=this.getCandPointState(h.pos);slot.SoundMger.instance.playEffect("Disappearwheel_Sound",!1),_&&d&&cc.tween(_).to(.3,{position:new cc.Vec3(d.x,d.y)}).call(function(){i.setReadbgandImg(r,t,o,a,n),_.active=!1,u&&(d.rotation=90),d.getComponent(sp.Skeleton).setAnimation(0,"win2",!1),d.getComponent(sp.Skeleton).setCompleteListener(function(){i.CloseCandyImage(),d.getComponent(sp.Skeleton).setAnimation(0,"win_exit2",!1),d.getComponent(sp.Skeleton).setCompleteListener(function(){"win_exit2"==d.getComponent(sp.Skeleton).animation&&(d.active=!1,d.rotation=0,d.getComponent(sp.Skeleton).setAnimation(0,"None",!1),i.ShowRendNode(c),i.closeCureViewImageNode(r,s[1].pos))})})}).start()},t.prototype.ClearAllNodeByEffect=function(e,t,n,o,a,i){for(var r=this,s=t,c=e,l=this.SortMoveSpecialViewdata(c),p=this.SortMoveSpecialdecline(c),h=[],_=0;_<e.length;_++)h.push(e[_].pos);this.setRendNodeViseable(h);var d=function(t){var n=u.ByElemGetSpecialNode(l[0]);if(t>0){var c=u.ByElemGetSpecialNode(l[t]);cc.tween(c).to(.3,{position:new cc.Vec3(n.x,n.y)}).call(function(){if(t==l.length-1){var n=p[0];console.log("dddddddddddddddddd",p);for(var c=0;c<p.length;c++)c>0&&(r.ByElemGetSpecialNode(p[c]).active=!1);r.playEffectOfClearAllIamge(n,s,o,a,i,e)}}).start()}},u=this;for(_=0;_<l.length;_++)d(_)},t.prototype.SortMoveSpecialViewdata=function(e){for(var t=[],n=e,o=0;o<n.length;o++)t.push(n[o].pos);var a=t.sort(function(e,t){return e-t}),i=[];for(o=0;o<a.length;o++)for(var r=0;r<n.length;r++)n[r].pos==a[o]&&i.push(n[r]);return i},t.prototype.SortMoveSpecialdecline=function(e){for(var t=[],n=e,o=0;o<n.length;o++)t.push(n[o]);return t.sort(function(e,t){return t.elem-e.elem})},t.prototype.playEffectOfClearAllIamge=function(e,t,n,o,a,i){console.log("\u64ad\u653e\u5168\u5c4f\u6d88\u9664\u52a8\u753b",e,t,i);for(var r=e,s=[],c=0;c<i.length;c++)s.push(i[c].pos);this.setImgAndEffect(t,o),this.setdataReadbg(a,[]),this.ShowRendNode(s);var l=this.ByElemGetSpecialNode(r);9==r.elem?(l.active=!1,this.FullScreenAnimation(t,n,a)):10==r.elem?(slot.SoundMger.instance.playEffect("Chocolate_Bomb_Explosion_Sound",!1),slot.SoundMger.instance.playEffect("Chocolate_Bomb_Explosion_Eound",!1),l.active=!1,l.scale=1,this.FullScreenAnimation(t,n,a)):11==r.elem&&(slot.SoundMger.instance.playEffect("Disappearwheel_Sound",!1),l.active=!1,this.FullScreenAnimation(t,n,a))},t.prototype.FullScreenAnimation=function(){},t.prototype.setAllNodeShake=function(){var e=cc.find("Canvas").getChildByName("main"),t=e.getPosition(),n=cc.sequence(cc.moveBy(.1,cc.v2(t.x-5,t.y)),cc.moveBy(.1,cc.v2(t.x-5,t.y+6)),cc.moveBy(.1,cc.v2(t.x+5,t.y-6)),cc.moveBy(.1,cc.v2(t.x+5,t.y)),cc.moveBy(.1,cc.v2(t.x,t.y)));e.runAction(cc.repeatForever(n))},t.prototype.stopShake=function(){var e=cc.find("Canvas").getChildByName("main");e.stopAllActions(),e.setPosition(this.move_node_point.x,this.move_node_point.y)},t.prototype.PlayAllIamgBleak=function(e){for(var t=this,n=this.record_red_bag,o=this.record_img_effect,a=function(a){var r=e[a],s=(i.getredbgidnode(n,r,"node_red_bg"),i.getredbgidnode(o,r,"node_image_effect")),c=i.CurrProto.spinResult.grid[e[a]-1];s&&(s.getChildByName("imgcard").active=!1),cc.tween(s).delay(.06).call(function(){t.setNodePlayBleakEffect(s,c,2)}).start()},i=this,r=0;r<e.length;r++)a(r)},t.prototype.setSplitBlastEffect=function(e){for(var t=[],n=[],o=[],a=[],i=[],r=0;r<e.length;r++){var s=this.querylist1(e[r].low);1==s?t.push(e[r].low):2==s?n.push(e[r].low):3==s?o.push(e[r].low):4==s&&a.push(e[r].low)}return i.push(t),i.push(n),i.push(o),i.push(a),i},t.prototype.querylist1=function(e){for(var t=0;t<this.list1.length;t++)if(this.list1[t]==e)return 1;for(t=0;t<this.list2.length;t++)if(this.list2[t]==e)return 2;for(t=0;t<this.list3.length;t++)if(this.list3[t]==e)return 3;for(t=0;t<this.list4.length;t++)if(this.list4[t]==e)return 4},t.prototype.setImgAndEffect=function(e,t){var n=this.all_image_effect;if(e&&e.length&&0!=e.length)for(var o=0;o<e.length;o++)for(var a="node_image_effect"+(e[o]+1),i=0;i<n.length;i++)if(n[i]&&n[i].name==a){n[i].active=!0,n[i].getChildByName("img_bg").active=!1,this.record_img_effect.push(n[i]);var s=this.setDataGirdeByid(e[o],t);if(s){var c=n[i].getChildByName("imgcard");game.EventManager.getInstance().raiseEvent(r.CabdyEvent.EVENT_CHANGE_IMAGE_ID,c,s)}}},t.prototype.initImgAndEffectpoint=function(){for(var e=this.node.getChildByName("scrollerLayer").getChildByName("tounchLayer"),t=0;t<this.all_image_effect.length;t++){var n=e.getChildByName("node"+(t+1));n&&(this.all_image_effect[t].active=!1,this.all_image_effect[t].getChildByName("imgcard").active=!0,this.all_image_effect[t].zIndex=4,n.x&&n.y&&this.all_image_effect[t]?(this.all_image_effect[t].x=n.x,this.all_image_effect[t].y=n.y):console.log("initRedbgpoint"))}},t.prototype.RemoveAllNode=function(){this.clearbear(),this.RocketCount=0,this.ChocolatesCount=0,this.CandyCount=0,this.setAllRocketViesable(),this.setAllChocolteViesable(),this.setAllCandyViesable(),this.Record_Chocolates_Data=[],this.Record_Rocket_Data=[],this.Record_Candy_Data=[],this.Record_Render_Node=[],this.initImgAndEffectpoint()},t.prototype.setScorebeatAnimation=function(e,t){for(var n=e,o=0,a=Math.floor(t/10*100)/100,i=0,r=0;r<10;r++){o+=.05;var c=cc.delayTime(o),l=cc.callFunc(function(){i+=a;var o=Math.floor(100*i)/100;if(n&&(e.getComponent(s.default).string=""+o,i>=t))return e.getComponent(s.default).string=""+t,void slot.SoundMger.instance.stopEffect("The_amount_of_the_broadcast_box_increases_the_soun_effect")}.bind(this));this.node.runAction(cc.sequence(c,l))}},t.prototype.setNodePlayBleakEffect=function(e,t,n){if(0==n)e.getChildByName("blast_effect")&&(e.getChildByName("blast_effect").active=!0,e.getChildByName("blast_effect").getComponent(cc.Animation).play("animation"+t),e.getChildByName("blast_effect").getComponent(cc.Animation).on("stop",function(){e.getChildByName("blast_effect").active=!1},this)),e.getChildByName("bg_effect")&&(e.getChildByName("bg_effect").active=!0,e.getChildByName("bg_effect").getComponent(sp.Skeleton).setAnimation(0,"animation",!1),e.getChildByName("bg_effect").getComponent(sp.Skeleton).setCompleteListener(function(){"animation"==e.getChildByName("bg_effect").getComponent(sp.Skeleton).animation&&(e.getChildByName("bg_effect").getComponent(sp.Skeleton).setAnimation(0,"None",!1),e.getChildByName("bg_effect").active=!1)}));else if(1==n){var o=e.getChildByName("chocolate_effect1"),a=e.getChildByName("chocolate_effect2"),i=e.getChildByName("chocolate_effect3");o&&(e.zIndex=7,o.active=!0,o.getComponent(sp.Skeleton).setAnimation(0,"animation1",!1),o.getComponent(sp.Skeleton).setCompleteListener(function(){"animation1"==o.getComponent(sp.Skeleton).animation&&(o.getComponent(sp.Skeleton).setAnimation(0,"None",!1),o.active=!1)}));var r=cc.delayTime(.06),s=cc.callFunc(function(){a&&i&&(a.active=!0,a.getComponent(sp.Skeleton).setAnimation(0,"animation2",!1),a.getComponent(sp.Skeleton).setCompleteListener(function(){"animation2"==a.getComponent(sp.Skeleton).animation&&(a.getComponent(sp.Skeleton).setAnimation(0,"None",!1),a.active=!1)}),i.active=!0,i.getComponent(sp.Skeleton).setAnimation(0,"animation3",!1),i.getComponent(sp.Skeleton).setCompleteListener(function(){"animation3"==i.getComponent(sp.Skeleton).animation&&(i.getComponent(sp.Skeleton).setAnimation(0,"None",!1),i.active=!1,e.zIndex=1)}))}.bind(this));this.node.runAction(cc.sequence(r,s))}else 2==n&&(e.getChildByName("img_ani")&&(e.getChildByName("img_ani").active=!0,e.getChildByName("img_ani").getComponent(cc.Animation).play("animation"+t),e.getChildByName("img_ani").getComponent(cc.Animation).on("stop",function(){e.getChildByName("img_ani").active=!1},this)),e.getChildByName("bg_effect")&&(e.getChildByName("bg_effect").active=!0,e.getChildByName("bg_effect").getComponent(sp.Skeleton).setAnimation(0,"animation",!1),e.getChildByName("bg_effect").getComponent(sp.Skeleton).setCompleteListener(function(){"animation"==e.getChildByName("bg_effect").getComponent(sp.Skeleton).animation&&(e.getChildByName("bg_effect").getComponent(sp.Skeleton).setAnimation(0,"None",!1),e.getChildByName("bg_effect").active=!1)})))},t.prototype.updateWinSorce=function(){},t.prototype.getfreegameNetworkstate=function(){this.FreeGameNetWordState=!0},t.prototype.btnCloseCallBack=function(e,t){console.log("llllllllllllll",t,e)},t.prototype.setRendNodeViseable=function(e){console.log("ddddddddddddddd",e);for(var t=0;t<e.length;t++){var n=e[t],o=slot.SlotMachineView.instance.scroller.getRenderByIndex(n);o.opacity=0,this.Record_Render_Node.push({node:o,pos_id:n})}},t.prototype.ShowRendNode=function(e){for(var t=this.Record_Render_Node,n=0;n<e.length;n++)for(var o=0;o<t.length;o++)t[o].pos_id==e[n]&&(t[o].node.opacity=255)},t.prototype.onDestroy=function(){game.EventManager.getInstance().removeEventListener(r.CabdyEvent.EVENT_SET_TOTLE_SCORE_LABLE,this.judgeIsViewTotlescore,this),game.EventManager.getInstance().removeEventListener(r.CabdyEvent.EVENT_CREAT_SCATTER_BAR,this.CreateScatterBar,this),game.EventManager.getInstance().removeEventListener(r.CabdyEvent.EVENT_GUNZHOU_SPINCOMPLETE,this._onSpinend,this),game.EventManager.getInstance().removeEventListener(r.CabdyEvent.EVENT_GUNZHOU_SPINSTART,this._onSpineStart,this),game.EventManager.getInstance().removeEventListener(r.CabdyEvent.EVENT_JUDGE_COMBINATION,this.judgecombination,this),game.EventManager.getInstance().removeEventListener(r.CabdyEvent.CLOSE_SCORE_LABLE,this.closescorelable,this),game.EventManager.getInstance().removeEventListener(slot.GameEventNames.EVENT_UPDATE_WINSCORE,this.updateWinSorce,this),game.EventManager.getInstance().removeEventListener(r.CabdyEvent.FREEGAME_NETWORK_STATE,this.getfreegameNetworkstate,this),game.EventManager.getInstance().removeEventListener(r.CabdyEvent.EVENT_LACK_GOLD_CLEAR_BEAR,this.setLackGoldClearBear,this),game.EventManager.getInstance().removeEventListener(r.CabdyEvent.EVENT_CLEAR_BEAR_CALLBACK,this.clearbear,this)},i([p(cc.Node)],t.prototype,"p_titleEffect",void 0),i([p(cc.Node)],t.prototype,"p_Scatterbear",void 0),i([p(cc.Node)],t.prototype,"p_freegamewin",void 0),i([p(cc.Node)],t.prototype,"p_bannernode",void 0),i([l],t)}(slot.BaseView);n.default=h,cc._RF.pop()},{"../GameEventName111004401":"GameEventName111004401","../NumAtlasLabel111004401":"NumAtlasLabel111004401"}],JTChildManager111004401:[function(e,t,n){"use strict";cc._RF.push(t,"5719b+lJVtDfYSZeMtE0kix","JTChildManager111004401");var o,a=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var i=e("../SpinSlotViewExtend111004401"),r=function(e){function t(){return e.call(this)||this}return a(t,e),t.prototype.registerClassAlias=function(){return this.registerClass(slot.JTChildFactory.SCROLLER_TYPE,slot.JTScroller),this.registerClass(slot.JTChildFactory.ITEMRENDER_TYPE,i.default),this.registerClass(slot.JTChildFactory.GIRD_TYPE,slot.JTSkinnableGridRender),this.registerClass(slot.JTChildFactory.SCATTER_TYPE,slot.JTScatterGridRender),this.registerClass(slot.JTChildFactory.LINE_TYPE,slot.JTSkinnableRuntimeLineAnimationRender),this},t.prototype.changedLine=function(t,n){e.prototype.changedLine.call(this,t,n)},t}(slot.JTChildFactory);n.default=r,cc._RF.pop()},{"../SpinSlotViewExtend111004401":"SpinSlotViewExtend111004401"}],JTLayerManager111004401:[function(e,t,n){"use strict";cc._RF.push(t,"aa69cmSY1FEmpzsFRlItGKh","JTLayerManager111004401");var o,a=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var i=e("../../tool/Tool"),r=e("../GameLayer111004401"),s=function(e){function t(){return e.call(this)||this}return a(t,e),t.prototype.initialize=function(e){this.addChildNode(slot.JTLayerFactory.EFFECT_BELOW_CONTAINER,e);var n=this.addChildNode(slot.JTLayerFactory.LAYER_SORT_SCATTER_STOP_CONTAINER,e),o=this.addChildNode(slot.JTLayerFactory.SCATTER_BLACK_BACK_GROUND,e);this.addChildNode(slot.JTLayerFactory.SKIN_LOADER_CONTAINER,e);var a=this.addChildNode(slot.JTLayerFactory.SCROLLER_MASK_CONTAINER,e);this.addChildNode(slot.JTLayerFactory.SCROLLER_CONTAINER,a);var s=this.addChildNode(t.FRAME_IMAGE_AAA,e);s.name="aaa",r.default.instance.aaaNode=s;var c=this.addChildNode(slot.JTLayerFactory.LAYER_SORT_SCATTER_PLAY_CONTAINER,e);c.name="jiasulayout",i.default.jiasu=c;var l=this.addChildNode(slot.JTLayerFactory.LAYER_SORT_STOP_RENDER,e),p=this.addChildNode(slot.JTLayerFactory.SCOLLER_GROUP_BLACK_BACK_GROUND,e),h=(this.addChildNode(t.FRAME_IMAGE_CONTAINER,e),this.addChildNode(slot.JTLayerFactory.LAYER_SORT_PLAY_RENDER,e));this.addChildNode(slot.JTLayerFactory.LINE_CONTAINER,e),this.addChildNode(slot.JTLayerFactory.EFFECT_ABOVE_CONTAINER,e),this.addChildNode(slot.JTLayerFactory.LINE_NUMBER_CONTAINER,e),a.launch(e),p.setup(e.config.getWidth(),e.config.getHeight(),0),o.setup(e.config.getWidth(),e.config.getHeight(),0),n.setupMask(e.config.getWidth(),e.config.getHeight()),c.setupMask(e.config.getWidth(),e.config.getHeight()),l.setupMask(e.config.getWidth(),e.config.getHeight()),h.setupMask(e.config.getWidth(),e.config.getHeight())},t.prototype.registerClassAlias=function(){return this.registerClass(slot.JTLayerFactory.EFFECT_BELOW_CONTAINER,slot.JTGComponent),this.registerClass(slot.JTLayerFactory.SCROLLER_CONTAINER,slot.JTGComponent),this.registerClass(slot.JTLayerFactory.LINE_CONTAINER,slot.JTGComponent),this.registerClass(slot.JTLayerFactory.GIRD_CONTAINER,slot.JTGComponent),this.registerClass(slot.JTLayerFactory.SCROLLER_MASK_CONTAINER,slot.JTScrollerGroupMask),this.registerClass(slot.JTLayerFactory.EFFECT_ABOVE_CONTAINER,slot.JTGComponent),this.registerClass(slot.JTLayerFactory.SCATTER_GRID_CONTAINER,slot.JTGComponent),this.registerClass(slot.JTLayerFactory.SKIN_LOADER_CONTAINER,slot.JTGComponent),this.registerClass(slot.JTLayerFactory.SCOLLER_GROUP_BLACK_BACK_GROUND,slot.JTBlackBackGround),this.registerClass(t.FRAME_IMAGE_AAA,slot.JTContainer),this.registerClass(slot.JTLayerFactory.LAYER_SORT_PLAY_RENDER,slot.JTLayerSortMaskContainer),this.registerClass(slot.JTLayerFactory.LAYER_SORT_STOP_RENDER,slot.JTLayerSortMaskContainer),this.registerClass(slot.JTLayerFactory.LAYER_SORT_SCATTER_PLAY_CONTAINER,slot.JTLayerSortMaskContainer),this.registerClass(slot.JTLayerFactory.LAYER_SORT_SCATTER_STOP_CONTAINER,slot.JTLayerSortMaskContainer),this.registerClass(slot.JTLayerFactory.SCATTER_BLACK_BACK_GROUND,slot.JTBlackBackGround),this.registerClass(slot.JTLayerFactory.LINE_NUMBER_CONTAINER,slot.JTGComponent),this.registerClass(t.FRAME_IMAGE_CONTAINER,slot.JTGComponent),this},t.FRAME_IMAGE_CONTAINER=999,t.FRAME_IMAGE_AAA=998,t}(slot.JTLayerFactory);n.default=s,cc._RF.pop()},{"../../tool/Tool":"Tool","../GameLayer111004401":"GameLayer111004401"}],JTLogicFactroy111004401:[function(e,t,n){"use strict";cc._RF.push(t,"045e8hMhx1Mv6JCUAsS9oLb","JTLogicFactroy111004401");var o,a=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__decorate||function(e,t,n,o){var a,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(i<3?a(r):i>3?a(t,n,r):a(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=e("./JTMixElem111004401"),s=e("./JTTest111004401"),c=cc._decorator,l=c.ccclass,p=(c.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype.adjustFlowOptions=function(){this.childOption(s.default,slot.JTTaskPriority.JTCONVERT_PLAYLINES-1),this.childOption(r.default,slot.JTTaskPriority.JTCONVERT_PLAYLINES-2)},i([l],t)}(slot.JTLogicFactroy));n.default=p,cc._RF.pop()},{"./JTMixElem111004401":"JTMixElem111004401","./JTTest111004401":"JTTest111004401"}],JTMixElem111004401:[function(e,t,n){"use strict";cc._RF.push(t,"c4ca1vuhF5F67gH1lQ2fUtB","JTMixElem111004401");var o,a=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__decorate||function(e,t,n,o){var a,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(i<3?a(r):i>3?a(t,n,r):a(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=e("../../GameEventName111004401"),s=cc._decorator,c=s.ccclass,l=(s.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype.addEventListenner=function(){},t.prototype.runningTask=function(){this.caculate(),this.nextStep()},t.prototype.caculate=function(){this.addStepTask(r.CabdyEvent.JT_MIX_ELEM)},i([c],t)}(slot.JTPerformanceTask));n.default=l,cc._RF.pop()},{"../../GameEventName111004401":"GameEventName111004401"}],JTTest111004401:[function(e,t,n){"use strict";cc._RF.push(t,"fc79arM6IJHrZhh+K3BgNv1","JTTest111004401");var o,a=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__decorate||function(e,t,n,o){var a,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(i<3?a(r):i>3?a(t,n,r):a(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=e("../../GameEventName111004401"),s=cc._decorator,c=s.ccclass,l=(s.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype.addEventListenner=function(){},t.prototype.runningTask=function(){this.caculate(),this.nextStep()},t.prototype.caculate=function(){this.addStepTask(r.CabdyEvent.ROLL_END_STEP_TASK)},i([c],t)}(slot.JTPerformanceTask));n.default=l,cc._RF.pop()},{"../../GameEventName111004401":"GameEventName111004401"}],LanguageInfo111004401:[function(e,t,n){"use strict";cc._RF.push(t,"a7534kriytEJZ/5P6CpM60F","LanguageInfo111004401");var o,a=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__decorate||function(e,t,n,o){var a,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(i<3?a(r):i>3?a(t,n,r):a(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,c=(r.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype.onLoad=function(){e.prototype.onLoad.call(this)},i([s],t)}(slot.LanguageInfoBase));n.default=c,cc._RF.pop()},{}],LanguageInfoTest:[function(e,t,n){"use strict";cc._RF.push(t,"6b3c9HNNWhAPZm6dSW28G1z","LanguageInfoTest");var o,a=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__decorate||function(e,t,n,o){var a,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(i<3?a(r):i>3?a(t,n,r):a(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,c=(r.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),i([s],t)}(slot.LanguageInfoBase));n.default=c,cc._RF.pop()},{}],Main111004401:[function(e,t,n){"use strict";cc._RF.push(t,"57d00zdnbpIl73C/PZZzTrK","Main111004401");var o,a,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),r=this&&this.__decorate||function(e,t,n,o){var a,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(i<3?a(r):i>3?a(t,n,r):a(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0}),n.UICF=n.UIID=void 0;var s,c=e("../roller/WinAnimanager111004401"),l=cc._decorator,p=l.ccclass,h=(l.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.onLoad=function(){e.prototype.onLoad.call(this),console.log(">>>>>>>>>>>>>>>>>>>>>>>>>>>>>>"),game.BaseUIConf.getInstance().mergeUIConf(n.UICF);var t=game.BaseUIConf.getInstance().getUICF();game.UIManager.getInstance().initUIConf(t)},t.prototype.getWinAniManagerClass=function(){return c.default},r([p],t)}(slot.MainView));n.default=h,function(e){e[e.BONUS_GAME_POPUP=210101]="BONUS_GAME_POPUP",e[e.FREE_GAME_RESULT=210102]="FREE_GAME_RESULT"}(s=n.UIID||(n.UIID={})),n.UICF=((a={})[s.BONUS_GAME_POPUP]={bundleName:"game_111004401",path:"prefabs/bonusGame/bonusGame",preventKeyboard:!0,preventTouch:!1,quickClose:!1,cache:!0,showType:game.UIShowTypes.UI_FULLSCREEN,openAni:game.UIDefAni.UI_NONE,closeAni:game.UIDefAni.UI_NONE,zOrder:slot.LayerManage.tip},a[s.FREE_GAME_RESULT]={bundleName:"game_111004401",path:"prefabs/freeGameResult/freeGameResult",preventKeyboard:!0,preventTouch:!1,quickClose:!1,cache:!0,showType:game.UIShowTypes.UI_FULLSCREEN,openAni:game.UIDefAni.UI_NONE,closeAni:game.UIDefAni.UI_NONE,zOrder:slot.LayerManage.tip},a),cc._RF.pop()},{"../roller/WinAnimanager111004401":"WinAnimanager111004401"}],NumAtlasLabel111004401:[function(e,t,n){"use strict";cc._RF.push(t,"0452atpXL1HG41C7ZUyJq7w","NumAtlasLabel111004401");var o,a=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__decorate||function(e,t,n,o){var a,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(i<3?a(r):i>3?a(t,n,r):a(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,c=(r.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),i([s],t)}(slot.CommonNumAtlasBase));n.default=c,cc._RF.pop()},{}],ParticleSpriteFramesRefresh:[function(e,t,n){"use strict";cc._RF.push(t,"6419eyxf2tGuaDKiPegRioS","ParticleSpriteFramesRefresh");var o,a=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__decorate||function(e,t,n,o){var a,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(i<3?a(r):i>3?a(t,n,r):a(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,c=r.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.atlas=null,t.aniFps=15,t.ps=null,t.index=0,t.count=0,t.spriteArray=[],t}return a(t,e),t.prototype.onLoad=function(){this.ps||(this.ps=this.node.getComponent(cc.ParticleSystem)),this.spriteArray=this.atlas.getSpriteFrames(),this.count=this.spriteArray.length,this.schedule(this.refreshSprite,1/this.aniFps,cc.macro.REPEAT_FOREVER)},t.prototype.refreshSprite=function(){this.index>=this.count&&(this.index=0),this.ps.spriteFrame=this.spriteArray[this.index],this.index++},i([c({type:cc.SpriteAtlas,tooltip:"\u56fe\u96c6\u8d44\u6e90"})],t.prototype,"atlas",void 0),i([c({type:cc.Integer,tooltip:"\u6bcf\u79d2\u66ff\u6362\u7c92\u5b50\u8d34\u56fe\u591a\u5c11\u6b21"})],t.prototype,"aniFps",void 0),i([s],t)}(cc.Component);n.default=l,cc._RF.pop()},{}],ShowCandyCtrl:[function(e,t,n){"use strict";cc._RF.push(t,"6f165S6TDBFKJH43XuFofGO","ShowCandyCtrl");var o,a=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__decorate||function(e,t,n,o){var a,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(i<3?a(r):i>3?a(t,n,r):a(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=e("../GameEventName111004401"),s=cc._decorator,c=s.ccclass,l=s.property,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.spriteFrame=[],t}return a(t,e),t.prototype.onLoad=function(){game.EventManager.getInstance().addEventListener(r.CabdyEvent.EVENT_CHANGE_CANDY_SHOW_IMAGE,this.changeImage,this)},t.prototype.onDestroy=function(){game.EventManager.getInstance().removeEventListener(r.CabdyEvent.EVENT_CHANGE_CANDY_SHOW_IMAGE,this.changeImage,this)},t.prototype.changeImage=function(e,t,n){t.getComponent(cc.Sprite).spriteFrame=this.spriteFrame[n-1]},t.prototype.start=function(){},i([l([cc.SpriteFrame])],t.prototype,"spriteFrame",void 0),i([c],t)}(cc.Component);n.default=p,cc._RF.pop()},{"../GameEventName111004401":"GameEventName111004401"}],SpinSlotViewExtend111004401:[function(e,t,n){"use strict";cc._RF.push(t,"32be0vc0edONqUu4Uh58X3x","SpinSlotViewExtend111004401");var o,a=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var i=e("../GameEventName111004401"),r=e("../tool/Tool"),s=e("./GameLayer111004401"),c=function(e){function t(){var t=e.call(this)||this;return t._gameNoe=null,t._gameFreeNode=null,t._slotFrameAniView=null,t.color_data=[cc.color(0,87,255,101),cc.color(0,255,25,40),cc.color(251,0,255,77),cc.color(255,168,0,77),cc.color(0,255,25,40),cc.color(0,87,255,101),cc.color(251,0,255,77),cc.color(255,168,0,77),cc.color(0,0,0,0)],t.getID=[1,1,2,3,4,2,1,3,4,9],t.ID=null,t.lightFrame=null,t.eliminate_data=[],t.isBlur=!0,t.isFade=!0,t.isFadeMask=!1,t.skinLoader.skeletonNode.scale=1,t}return a(t,e),t.prototype.onPlayAnimation=function(){if(this.data>=10){this.setAnimation(slot.JTGLoaderAssetType.Skeleton,"spawn");var e=this.skinLoader.skeletonNode.getComponent(sp.Skeleton);e.setCompleteListener(function(){e.setAnimation(0,"idle",!1)}),slot.SoundMger.instance.playEffect(i.SOUND_NAME.Free_Add_Sym,!1)}else this.setAnimation(slot.JTGLoaderAssetType.Skeleton,"win")},t.prototype.playFreeAddAni=function(){this.setAnimation(slot.JTGLoaderAssetType.Skeleton,"spawn");var e=this.skinLoader.skeletonNode.getComponent(sp.Skeleton);e.setCompleteListener(function(){e.setAnimation(0,"idle",!1)})},t.prototype.onStopAnimation=function(){this._recoverSlotFrameAniView()},t.prototype.onPlayRewardsAnimation=function(){},t.prototype.onStopRewardsAnimation=function(){t._rewardsView&&t._rewardsView.removeFromParent()},t.prototype.beforeRollComplete=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];e.prototype.beforeRollComplete.call(this)},t.prototype.onRollEnd=function(){10==this.data&&this.playFreeNodeAnimation()},t.prototype._getRewardsAnimation=function(){},t.prototype.addEffectElement=function(){this.setAnimation(slot.JTGLoaderAssetType.Skeleton,"win")},t.prototype.addEffectNeighbor=function(){this.skinLoader.spriteNode.stopAllActions();var e=cc.scaleTo(.2,1.2),t=cc.scaleTo(.2,1),n=cc.callFunc(function(){}.bind(this));this.skinLoader.spriteNode.runAction(cc.sequence(n,e,t))},t.prototype.addNodeScaleEffect=function(){this.skinLoader.spriteNode.stopAllActions();var e=cc.scaleTo(.2,1.2),t=cc.scaleTo(.2,1),n=cc.callFunc(function(){}.bind(this));this.skinLoader.spriteNode.runAction(cc.sequence(n,e,t))},t.prototype.resumeParent=function(){if(this.parent!=this.owner){var e=r.default.getPosByOtherNode(this,this.owner);this.setPosition(e),this.parent=this.owner}},t.prototype.setFreeNodeParent=function(){var e=r.default.getPosByOtherNode(this,r.default.jiasu);this.setPosition(e),this.parent=r.default.jiasu},t.prototype.addRendEffectNeighbor=function(e){if(this.skinLoader.spriteNode.stopAllActions(),1==e){var t=cc.moveBy(.2,this.skinLoader.spriteNode.x-4,this.skinLoader.spriteNode.y),n=cc.moveBy(.2,this.skinLoader.spriteNode.x+4,this.skinLoader.spriteNode.y),o=cc.callFunc(function(){}.bind(this));this.skinLoader.spriteNode.runAction(cc.sequence(o,t,n))}else 2==e?(t=cc.moveBy(.2,this.skinLoader.spriteNode.x+4,this.skinLoader.spriteNode.y),n=cc.moveBy(.2,this.skinLoader.spriteNode.x-4,this.skinLoader.spriteNode.y),o=cc.callFunc(function(){}.bind(this)),this.skinLoader.spriteNode.runAction(cc.sequence(o,t,n))):3==e?(t=cc.moveBy(.2,this.skinLoader.spriteNode.x,this.skinLoader.spriteNode.y-4),n=cc.moveBy(.2,this.skinLoader.spriteNode.x,this.skinLoader.spriteNode.y+4),o=cc.callFunc(function(){}.bind(this)),this.skinLoader.spriteNode.runAction(cc.sequence(o,t,n))):4==e&&(t=cc.moveBy(.2,this.skinLoader.spriteNode.x,this.skinLoader.spriteNode.y+4),n=cc.moveBy(.2,this.skinLoader.spriteNode.x,this.skinLoader.spriteNode.y-4),o=cc.callFunc(function(){}.bind(this)),this.skinLoader.spriteNode.runAction(cc.sequence(o,t,n)))},t.prototype.addGreyMarsk=function(){},t.prototype.closeMarsk=function(){},Object.defineProperty(t.prototype,"gameNoe",{get:function(){return this._gameNoe},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"gameFreeNode",{get:function(){return this._gameFreeNode},enumerable:!1,configurable:!0}),t.prototype._showFrameAniView=function(e,t){var n=cc.instantiate(s.default.instance.frameAniViewPrefab);e.node.addChild(n,slot.LayerManage.effect,"effectNode"+t);var o=e.getPosByIndex(t);n.y=o.y,n.x=o.x,n.opacity=255,this.newGameNoe(),this.mewGameFreeNode()},t.prototype._CreatImgEffectNode=function(e,t){var n=cc.instantiate(s.default.instance.ImgEffectPrefab);e.node.children[0].getChildByName("aaa").addChild(n,3,"ImgCar"+t);var o=e.getPosByIndex(t);n.y=o.y,n.x=o.x,n.opacity=0},t.prototype.mewGameFreeNode=function(){if(!this._gameFreeNode){this._gameFreeNode=new cc.Node,this._gameFreeNode.opacity=0,this.addEffectNode(this._gameFreeNode,!0);var e=cc.instantiate(s.default.instance.freePrefab);e.parent=this._gameFreeNode;var t=e.getChildByName("free_zh"),n=e.getChildByName("free_en");"zh"==slot.GData.curLanguage?t.opacity=255:n.opacity=255,10==this.data?this._gameFreeNode.opacity=255:this._gameFreeNode.opacity=0,s.default.instance.haveRoll&&(this._gameFreeNode.opacity=0)}},t.prototype.newGameNoe=function(){if(!this._gameNoe){this._gameNoe=new cc.Node,this._gameNoe.opacity=0,this.addEffectNode(this._gameNoe,!0);var e=cc.instantiate(s.default.instance.wildPrefab);e.parent=this._gameNoe;var t=e.getChildByName("swild_zh"),n=e.getChildByName("swild_en");"zh"==slot.GData.curLanguage?t.opacity=255:n.opacity=255,9==this.data?this._gameNoe.opacity=255:this._gameNoe.opacity=0,s.default.instance.haveRoll&&(this._gameNoe.opacity=0)}},t.prototype.addFreeEffectNode=function(e){var t=e;t.opacity=255;var n=slot.GData.curLanguage,o=t.getChildByName("free_zh"),a=t.getChildByName("free_en");"zh"==n?(a.opacity=0,o.opacity=255,o.getComponent(sp.Skeleton).setAnimation(0,"idle",!0)):(a.opacity=255,o.opacity=0,a.getComponent(sp.Skeleton).setAnimation(0,"idle",!0))},t.prototype.playScatterWaitAni=function(e){var t=this._gameFreeNode.getChildByName("Free");t&&t.getChildByName("zh"==slot.GData.curLanguage?"free_zh":"free_en").getComponent(sp.Skeleton).setAnimation(0,e?"idle":"win",!0)},t.prototype.playFreeNodeAnimation=function(e){void 0===e&&(e=255),10==this.data&&(this._gameFreeNode?this._gameFreeNode.opacity=255:(this.mewGameFreeNode(),this._gameFreeNode.opacity=255),this.skinLoader.opacity=0)},t.prototype.clearFreeNode=function(){this._gameFreeNode?this._gameFreeNode.opacity=0:(this.mewGameFreeNode(),this._gameFreeNode.opacity=0),this.skinLoader.opacity=255},t.prototype.clearSwildNode=function(){this._gameNoe?this._gameNoe.opacity=0:(this.newGameNoe(),this._gameNoe.opacity=0),this.skinLoader.opacity=255},t.prototype.closeSwildNode=function(){this._gameNoe?this._gameNoe.opacity=0:(this.newGameNoe(),this._gameNoe.opacity=0)},t.prototype.showCreatSwild=function(){this._gameNoe?this._gameNoe.opacity=255:(this.newGameNoe(),this._gameNoe.opacity=255),this.skinLoader.opacity=0},t.prototype.setImageCarNode=function(e,t){var n=slot.SlotMachineView.instance.scroller.getChildByName("aaa").getChildByName("ImgCar"+this.index);if(n)if(255==e){n.opacity=255;var o=n.getChildByName("img_bg_effect"),a=n.getChildByName("img_stars"),i=n.getChildByName("imgcard"),r=n.getChildByName("img_bg"),s=n.getChildByName("star_lizi1"),c=n.getChildByName("star_lizi2"),l=n.getChildByName("star_lizi3");s.opacity=0,c.opacity=0,l.opacity=0,i.x=0,i.y=0,r.opacity=255,i.opacity=255,a.opacity=255,a.getComponent(sp.Skeleton).setAnimation(0,"star_boom",!1),o.opacity=255,o.getComponent(sp.Skeleton).setAnimation(0,"boxs",!1),i.getComponent(cc.Sprite).spriteFrame=t}else n.opacity=0},t.prototype.setCpImageCarNode=function(e,t){var n=slot.SlotMachineView.instance.scroller.getChildByName("aaa").getChildByName("ImgCar"+this.index);if(n){var o=n.getChildByName("img_bg_effect"),a=n.getChildByName("img_stars"),i=n.getChildByName("imgcard"),r=n.getChildByName("img_bg"),s=n.getChildByName("star_lizi1"),c=n.getChildByName("star_lizi2"),l=n.getChildByName("star_lizi3");o.opacity=0,a.opacity=0,i.setPosition(0,0),i.getComponent(cc.Sprite).spriteFrame=t,i.opacity=255,r.opacity=0,s.opacity=0,c.opacity=0,l.opacity=0,n.opacity=255}},t.prototype.setShowSurplusgrideEffect=function(){var e=slot.SlotMachineView.instance.scroller.getChildByName("aaa").getChildByName("ImgCar"+this.index);if(e){e.opacity=255;var t=e.getChildByName("img_bg_effect"),n=e.getChildByName("img_stars"),o=(e.getChildByName("imgcard"),e.getChildByName("img_bg"));e.getChildByName("star_lizi1"),e.getChildByName("star_lizi2"),e.getChildByName("star_lizi3"),o.opacity=255,n.opacity=255,n.getComponent(sp.Skeleton).setAnimation(0,"star_boom",!1),t.opacity=255,t.getComponent(sp.Skeleton).setAnimation(0,"boxs",!1)}},t.prototype.setEliminateAnimation=function(e){var t=this,n=slot.SlotMachineView.instance.scroller.getChildByName("aaa").getChildByName("ImgCar"+this.index);if(n){n.opacity=255;var o=n.getChildByName("img_bg_effect"),a=(n.getChildByName("img_stars"),n.getChildByName("imgcard"));a.opacity=255,a.scale=.7;var r=n.getChildByName("bg_effect_xing"),s=n.getChildByName("img_ani"),c=n.getChildByName("img_bg");s.opacity=255;var l=this.getID[e];game.EventManager.getInstance().raiseEvent(i.mouseEvent.ANIMATION_STOP_CALL_BACK),cc.tween(a).to(.3,{scale:0}).call(function(){s.getComponent(cc.Animation).play("animation"+l),s.getComponent(cc.Animation).on("stop",function(){s.opacity=0},t),a.opacity=0,a.scale=.7}).start(),cc.tween(o).to(.3,{opacity:0}).call(function(){}).start(),cc.tween(c).to(.3,{opacity:0}).call(function(){}).start(),cc.tween(r).delay(.2).call(function(){r.color=t.color_data[e-1],r.getComponent(sp.Skeleton).setAnimation(0,"line",!1)}).start()}},t.prototype.setEliminateAnimationCreatBaida=function(e,t,n){var o=this,a=slot.SlotMachineView.instance.scroller.getChildByName("aaa").getChildByName("ImgCar"+this.index);if(a){a.opacity=255;var r=a.getChildByName("img_bg_effect"),s=(a.getChildByName("img_stars"),a.getChildByName("imgcard"));s.opacity=255,s.scale=.7;var c=a.getChildByName("bg_effect_xing"),l=a.getChildByName("img_ani"),p=a.getChildByName("img_bg");a.getChildByName("star_lizi1"),l.opacity=255;var h=this.getID[e];game.EventManager.getInstance().raiseEvent(i.mouseEvent.ANIMATION_STOP_CALL_BACK),cc.tween(s).to(.3,{scale:0}).call(function(){l.getComponent(cc.Animation).play("animation"+h),l.getComponent(cc.Animation).on("stop",function(){l.opacity=0},o),s.opacity=0,s.scale=.7}).start(),cc.tween(r).to(.3,{opacity:0}).call(function(){}).start(),cc.tween(p).to(.3,{opacity:0}).call(function(){}).start(),cc.tween(c).delay(.2).call(function(){c.color=o.color_data[e-1],c.getComponent(sp.Skeleton).setAnimation(0,"line",!1)}).start();for(var _=0;_<n.length;_++){var d="star_lizi"+(_+1),u=a.getChildByName(d);if(u){u.opacity=255;var g=this.getPosByOtherNode(u,n[_]);this.bezierAct(u,g.x,g.y,.8,0,300)}}}},t.prototype.setEliminateHidAnimation=function(e,t,n,o){var a=this,r=slot.SlotMachineView.instance.scroller.getChildByName("aaa").getChildByName("ImgCar"+this.index);if(r){r.opacity=1==t?255:0;var s=r.getChildByName("img_bg_effect");s.opacity=255,r.getChildByName("img_stars");var c=r.getChildByName("imgcard");c.opacity=255,c.scale=.7;var l=r.getChildByName("bg_effect_xing"),p=r.getChildByName("img_ani"),h=r.getChildByName("img_bg");h.opacity=255,p.opacity=255;var _=this.getID[e];if(game.EventManager.getInstance().raiseEvent(i.mouseEvent.ANIMATION_STOP_CALL_BACK),cc.tween(c).to(.3,{scale:0}).call(function(){p.getComponent(cc.Animation).play("animation"+_),p.getComponent(cc.Animation).on("stop",function(){p.opacity=0},a),c.opacity=0,c.scale=.7}).start(),cc.tween(s).to(.3,{opacity:0}).call(function(){}).start(),cc.tween(h).to(.3,{opacity:0}).call(function(){}).start(),1==t&&cc.tween(l).delay(.2).call(function(){l.color=a.color_data[e-1],l.getComponent(sp.Skeleton).setAnimation(0,"line",!1)}).start(),1==n)for(var d=0;d<o.length;d++){var u="star_lizi"+(d+1),g=r.getChildByName(u);if(g){g.opacity=255;var m=this.getPosByOtherNode(g,o[d]);this.bezierAct(g,m.x,m.y,.8,0,300)}}}},t.prototype.setEliminateHidImgCarShow=function(){var e=slot.SlotMachineView.instance.scroller.getChildByName("aaa").getChildByName("ImgCar"+this.index);e&&(e.opacity=255)},t.prototype.getPosByOtherNode=function(e,t){var n=t.position;return n=t.parent.convertToWorldSpaceAR(n),e.parent.convertToNodeSpaceAR(n)},t.prototype.setRendopactiy=function(e,t){this._gameNoe&&(this._gameNoe.opacity=0),this._gameFreeNode&&(this._gameFreeNode.opacity=0),this.skinLoader.opacity=t},t.prototype.bezierAct=function(e,t,n,o,a,i){var r=e.x+(t-e.x+i)/4,s=cc.v2(r,a+e.y+Math.cos(424.11465/180)*r),c=e.x+(t-e.x+i)/2,l=[s,cc.v2(c,a+e.y+Math.cos(424.11465/180)*c),cc.v2(t,n)],p=cc.bezierTo(o,l),h=cc.callFunc(function(){e.opacity=0,e.setPosition(0,0)}.bind(this));e.runAction(cc.sequence(p,h))},t.prototype.playAnimaiton=function(e){var t=slot.SlotMachineView.instance.node.getChildByName("effectNode"+this.index);this.ID=e,e=this.getID[e],this.setLightBgOpacity(0),game.EventManager.getInstance().raiseEvent(i.mouseEvent.PLAY_BURST_ANI_BEGAN),t?t.getChildByName("elementAnimation")?(this.animationSpineNodeCtrl("tuan_xiaochu2"),t.getChildByName("elementAnimation").opacity=255,t.getChildByName("elementAnimation").getChildByName("animation").getComponent(cc.Animation).play("animation"+e),t.getChildByName("elementAnimation").getChildByName("animation").getComponent(cc.Animation).on("stop",function(){t.getChildByName("elementAnimation").opacity=0},this)):console.log("ywb",t):console.log("ywb","effectNode"+this.index)},t.prototype.animationSpineNodeCtrl=function(){var e=slot.SlotMachineView.instance.node.getChildByName("effectNode"+this.index);if(e){var t=e.getChildByName("elementAnimation").getChildByName("spineNode");t.opacity=255,t.getComponent(sp.Skeleton).setAnimation(0,"animation",!1),t.getComponent(sp.Skeleton).setCompleteListener(function(){"animation"==t.getComponent(sp.Skeleton).animation&&(t.getComponent(sp.Skeleton).setAnimation(0,"None",!1),t.opacity=0)})}else console.log("ywb","effectNode"+this.index)},t.prototype.addAnimationBeforeWin=function(){var e=slot.SlotMachineView.instance.node.getChildByName("effectNode"+this.index);e?e.getChildByName("beforeWinNode")&&this.beforeWinSpineNodeCtrl("tuan_zhongjiang_front"):console.log("ywb","effectNode"+this.index)},t.prototype.beforeWinSpineNodeCtrl=function(e){var t=slot.SlotMachineView.instance.node.getChildByName("effectNode"+this.index);if(t){var n=t.getChildByName("beforeWinNode").getChildByName("spineNode").getComponent(sp.Skeleton);n.node.opacity=255,n.setAnimation(0,e,!1),n.setCompleteListener(function(){n.node.opacity=0})}},t.prototype.addLightBg=function(){},t.prototype.OpenEliminate=function(){if(0!=this.eliminate_data.length){for(var e=0;e<this.eliminate_data.length;e++)this.eliminate_data[e].opacity=255;this.eliminate_data=[]}},t.prototype.setLightBgOpacity=function(e){this.lightFrame&&(this.lightFrame.opacity=e)},t.prototype.addLineToNode=function(e){var t=slot.SlotMachineView.instance.node.getChildByName("effectNode"+this.index),n=null;if(t){n=t.getChildByName("lineNode");for(var o=1;o<e.length;o++)n.getChildByName(e[o])?n.getChildByName(e[o]).opacity=255:e[o]}else console.log("ywb","effectNode"+this.index)},t.prototype.changeData=function(e){this.data=e},t.prototype._recoverSlotFrameAniView=function(){this._slotFrameAniView&&(this._slotFrameAniView.removeFromParent(),this._slotFrameAniView.active=!1,this._slotFrameAniView=null)},t.prototype.onDataOrStageChange=function(){},t.prototype.onNewElemDropEnd=function(){this.replaceNode()},t.prototype.replaceNode=function(){9!=this.data&&10!=this.data?(this._gameFreeNode&&(this._gameFreeNode.opacity=0),this._gameNoe&&(this._gameNoe.opacity=0),this.skinLoader.opacity=255):9==this.data?this.showCreatSwild():10==this.data&&this.playFreeNodeAnimation()},t._rewardsView=null,t}(slot.SpinSlotView);n.default=c,cc._RF.pop()},{"../GameEventName111004401":"GameEventName111004401","../tool/Tool":"Tool","./GameLayer111004401":"GameLayer111004401"}],TitleCtral:[function(e,t,n){"use strict";cc._RF.push(t,"773e3RWE51ENrL8v0u7RJbU","TitleCtral");var o,a=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__decorate||function(e,t,n,o){var a,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(i<3?a(r):i>3?a(t,n,r):a(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,c=r.property,l=e("../GameEventName111004401"),p=e("../NumAtlasLabel111004401"),h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.p_ScoreLable=null,t.p_TotalScoreLable=null,t.p_TitleBgNode1=null,t.p_TitleBgNode2=null,t.p_TitleBgNode3=null,t.p_multip=null,t.p_Move_Reta=null,t.p_move_start_pot=null,t.p_ball_star_pot=null,t.p_ball_end_pot=null,t.p_alone_score_lable=null,t.p_stars_effect=null,t.p_win_bg_effect=null,t.p_freegame_times_add_node=null,t.p_freegame_times=null,t.p_multip_Bg=null,t.CurrProto=null,t.LoginData=null,t.all_win_score_node=null,t.frist_enter_game=!0,t}return a(t,e),t.prototype.onLoad=function(){game.EventManager.getInstance().addEventListener(slot.GameEventNames.EVENT_UPDATE_WINSCORE,this.updateWinSorce,this),game.EventManager.getInstance().addEventListener(l.EventCallbackName.EVENT_SET_TOTLE_SCORE_LABLE,this.setWinLableScore,this),game.EventManager.getInstance().addEventListener(l.EventCallbackName.EVENT_ACCEPT_NETWORK_DATA,this.acceptNetworkdata,this),game.EventManager.getInstance().addEventListener(l.EventCallbackName.EVENT_SET_ELIMINATE_MULTIP,this.setMultipAnimation,this),game.EventManager.getInstance().addEventListener(l.EventCallbackName.EVENT_SET_ALL_TOTLE_SCORE_LABLE,this.setWinTotalScoreLable,this),game.EventManager.getInstance().addEventListener(l.EventCallbackName.FREE_GAME_START,this._onFreeGameStart,this),game.EventManager.getInstance().addEventListener(l.EventCallbackName.FREE_GAME_OVER,this._onFreeGameOver,this),game.EventManager.getInstance().addEventListener(l.EventCallbackName.EVENT_ADD_FREE_GAME_NUM,this.playAddFreeTimes,this),game.EventManager.getInstance().addEventListener(l.EventCallbackName.EVENT_FREE_GAME_NUM,this.changeFreegameTimes,this),game.EventManager.getInstance().addEventListener(l.EventCallbackName.EVENT_ACCEPT_WiN_SCORE_NODE,this.getWinScoreNode,this),game.EventManager.getInstance().addEventListener(l.EventCallbackName.EVENT_SET_WIN_SCORE_LABLE_SHOW,this.all_Win_Score_Lable,this),game.EventManager.getInstance().addEventListener(l.EventCallbackName.EVENT_SET_WIN_SCORE_LABLE_HID,this.all_Win_Score_Lable_Hid,this),game.EventManager.getInstance().addEventListener(l.EventCallbackName.EVENT_SET_LOGIN_AGREEMENT_DATA,this.getLogindate,this),game.EventManager.getInstance().addEventListener(l.EventCallbackName.EVENT_SET_NET_CONNECT_MULTIP,this.setNetConntMultip,this),game.EventManager.getInstance().addEventListener(l.EventCallbackName.EVENT_SET_FREEGAME_STAR_INIT_MULTIP,this.freegameStarInitMultip,this),game.EventManager.getInstance().addEventListener(l.CabdyEvent.EVENT_GUNZHOU_SPINSTART,this.onGunZhouSpinStart,this)},t.prototype.start=function(){this.initBanner(),this.p_Move_Reta.opacity=0,this.p_alone_score_lable.opacity=0,this.p_freegame_times.opacity=0,this.p_freegame_times_add_node.opacity=0;var e=this.p_freegame_times.getChildByName("free_times_world");"zh"!=slot.GData.curLanguage&&(e.scale=.8)},t.prototype.initBanner=function(){this.p_TitleBgNode1.opacity=255,this.p_TitleBgNode2.opacity=0,this.p_TitleBgNode3.opacity=0,this.p_ScoreLable.opacity=0,this.p_TotalScoreLable.opacity=0,this.p_alone_score_lable.opacity=0,this.scheduleOnce(function(){game.EventManager.getInstance().raiseEvent(l.EventCallbackName.EVENT_BANNER_CTRAL,l.BannerCtral.OPEN)},.08)},t.prototype.acceptNetworkdata=function(e,t){this.CurrProto=t,this.initMultipAnimation(this.CurrProto.state),this.initBanner()},t.prototype.onGunZhouSpinStart=function(){slot.SpinManager.instance._isMoneyEnough()||(this.initMultipAnimation(1),this.initBanner())},t.prototype.getLogindate=function(e,t){this.LoginData=t},t.prototype.getLoginRotate=function(){if(this.LoginData,this.LoginData.state&&this.LoginData.state.normalData){var e=this.LoginData.state.normalData.handleState.game_10017.data.resultList;if(!e||!e.length)return;var t=e.length;return t>0?e[t-1].rate:null}},t.prototype.getFreeRotate=function(){if(this.LoginData,this.LoginData.state&&this.LoginData.state.freeData){var e=this.LoginData.state.freeData.handleState.game_10017.data.resultList;if(!e||!e.length)return;var t=e.length;return t>0?e[t-1].rate:null}},t.prototype.getGameState=function(){return this.CurrProto.state},t.prototype.getScore=function(){if(this.CurrProto)return Number(this.CurrProto.spinResult.spinCoin)},t.prototype.getWinScoreNode=function(e,t){this.all_win_score_node=t},t.prototype.freegameStarInitMultip=function(){this.initMultipAnimation(1)},t.prototype.initMultipAnimation=function(e){var t=this.p_multip,n=t.getChildByName("layout_mask").getChildByName("ballMask1").getChildByName("ball_node_1"),o=t.getChildByName("layout_mask").getChildByName("ballMask2").getChildByName("ball_node_2"),a=t.getChildByName("layout_mask").getChildByName("bns_light_effect"),i=t.getChildByName("layout_mask").getChildByName("footer_effect"),r=i.getComponent(sp.Skeleton).animation;if(1==e){a.opacity=0,a.getComponent(sp.Skeleton).setAnimation(0,"animation",!1),i.opacity=255;var s=this.p_ball_star_pot;this.p_ball_end_pot,n.parent.getComponent(cc.Mask).enabled=!0,o.parent.getComponent(cc.Mask).enabled=!0,n.opacity=0,o.opacity=0,n.setPosition(s.x,s.y),o.setPosition(s.x,s.y)}"arrows1_light2"!=r&&(i.getComponent(sp.Skeleton).setAnimation(0,"arrows2_lightout",!1),i.getComponent(sp.Skeleton).addAnimation(0,"arrows1_light2",!1))},t.prototype.getEverTimesScore=function(e){var t=this.CurrProto.updateList[0].value.handleState.game_10017.data.resultList;if(t&&t[e]&&t[e].spinResult){var n=t[e].spinResult.spinCoin;return Number(n)}},t.prototype.getEliminateReta=function(e){var t=this.CurrProto.updateList[0].value.handleState.game_10017.data.resultList;if(t&&t[e]&&t[e].rate)return t[e].rate},t.prototype.getEliminateWinpos=function(e){var t=this.CurrProto.updateList[0].value.handleState.game_10017.data.resultList;if(t&&t[e]&&t[e].spinResult)return t[e].spinResult.lineResult},t.prototype.setWinLableScore=function(e,t,n){if(game.EventManager.getInstance().raiseEvent(l.EventCallbackName.EVENT_BANNER_CTRAL,l.BannerCtral.CLOSE),1==this.getGameState())if(0==t){this.p_ScoreLable.opacity=255,this.p_alone_score_lable.opacity=0,this.p_TotalScoreLable.opacity=0;var o=this.p_ScoreLable.getChildByName("winlable"),a=this.getEverTimesScore(t),i=slot.SlotUtils.formatNumber(a);o.getComponent(p.default).string=""+i,this.setWinLabelplayanimation(this.p_ScoreLable),this.setWinPlayBgEffect(a),slot.SoundMger.instance.playEffect("Show Amount_Sound_Effect",!1),game.EventManager.getInstance().raiseEvent(slot.GameEventNames.EVENT_FORCE_UPDATE_ALL_SCORE,n.balance)}else this.setWinMultipLableScore(t,n);else this.getEliminateReta(t)>1?this.setWinMultipLableScore(t,n):(this.p_ScoreLable.opacity=255,this.p_alone_score_lable.opacity=0,this.p_TotalScoreLable.opacity=0,o=this.p_ScoreLable.getChildByName("winlable"),a=this.getEverTimesScore(t),i=slot.SlotUtils.formatNumber(a),o.getComponent(p.default).string=""+i,this.setWinLabelplayanimation(this.p_ScoreLable),this.setWinPlayBgEffect(a),slot.SoundMger.instance.playEffect("Show Amount_Sound_Effect",!1),game.EventManager.getInstance().raiseEvent(slot.GameEventNames.EVENT_FORCE_UPDATE_ALL_SCORE,n.balance))},t.prototype.setWinMultipLableScore=function(e,t){var n=this,o=this.getEliminateReta(e),a=this.getEverTimesScore(e),i=this.p_Move_Reta,r=this.p_move_start_pot,s=Math.floor(a/o*100)/100;this.setAloneWinScore(s),i.getComponent(p.default).string="x"+o,i.scale=0,i.getComponent(p.default).containerNode.children.forEach(function(e){return e.getComponent(cc.Sprite).dstBlendFactor=cc.macro.BlendFactor.ONE});var c=this.p_multip.getChildByName("layout_mask").getChildByName("footer_effect");cc.tween(c).delay(.7).call(function(){c.getComponent(sp.Skeleton).setAnimation(0,"arrows2_lightin",!1),c.getComponent(sp.Skeleton).setCompleteListener(function(){c.getComponent(sp.Skeleton).setCompleteListener(null),c.getComponent(sp.Skeleton).setAnimation(0,"arrows2_flicker",!0)}),slot.SoundMger.instance.playEffect("Floating_Up_Sound_Effect",!1)}).start(),cc.tween(i).delay(.7).to(.2,{scale:2,opacity:170}).to(.5,{position:new cc.Vec3(r.x,r.y+150)}).call(function(){n.setWinScore(a,1),game.EventManager.getInstance().raiseEvent(slot.GameEventNames.EVENT_FORCE_UPDATE_ALL_SCORE,t.balance)}).start()},t.prototype.setWinScore=function(e,t){var n=this;this.p_alone_score_lable.opacity=0,this.p_TotalScoreLable.opacity=0;var o=this.p_ScoreLable.getChildByName("winlable"),a=slot.SlotUtils.formatNumber(e);cc.tween(o).delay(.2).call(function(){o.getComponent(p.default).string=""+a,slot.SoundMger.instance.playEffect("Show Amount_Sound_Effect",!1),n.p_ScoreLable.opacity=255,n.setWinLabelplayanimation(n.p_ScoreLable),n.setWinPlayBgEffect(e)}).start();var i=this.p_Move_Reta;1==t&&cc.tween(i).to(.3,{scale:4,opacity:0}).call(function(){i.scale=0,i.setPosition(n.p_move_start_pot.x,n.p_move_start_pot.y)}).start()},t.prototype.setAloneWinScore=function(e){this.p_ScoreLable.opacity=0,this.p_TotalScoreLable.opacity=0,this.p_alone_score_lable.opacity=255;var t=this.p_alone_score_lable,n=slot.SlotUtils.formatNumber(e);t.getComponent(p.default).string=n},t.prototype.setMultipAnimation=function(e,t){var n=this,o=this.getEliminateReta(t),a=this.TestingBallPosition(o),i=a.getChildByName("multip"),r=this.p_ball_end_pot;i.getComponent(p.default).string="x"+o;var s=this.p_multip.getChildByName("layout_mask").getChildByName("bns_light_effect");s.opacity=255,s.getComponent(sp.Skeleton).setAnimation(0,"lightball_out",!1),s.getComponent(sp.Skeleton).addAnimation(0,"light_ball_offon",!0),cc.tween(a).to(.3,{position:new cc.Vec3(r.x,r.y)}).call(function(){slot.SoundMger.instance.playEffect("Multiple_Sound_Effects",!1),a.parent.getComponent(cc.Mask).enabled=!1,n.setSpriteAnimation(a)}).start()},t.prototype.TestingBallPosition=function(e){var t=this.p_multip,n=t.getChildByName("layout_mask").getChildByName("ballMask1").getChildByName("ball_node_1"),o=t.getChildByName("layout_mask").getChildByName("ballMask2").getChildByName("ball_node_2");n.opacity=255,o.opacity=255;var a=this.p_ball_star_pot,i=this.p_ball_end_pot;return n.y==a.y&&o.y==a.y?(n.parent.getComponent(cc.Mask).enabled=!0,n):n.y==i.y?(n.getChildByName("multip").getComponent(p.default).string="x"+(e-1),o.parent.getComponent(cc.Mask).enabled=!0,o.setPosition(a.getPosition()),o):o.y==i.y?(n.setPosition(a.getPosition()),n.getChildByName("multip").getComponent(p.default).string="x"+(e-1),o.parent.getComponent(cc.Mask).enabled=!0,o):void console.log("\u8fc7\u53bb\u5c0f\u7403\u7684\u8282\u70b9\u51fa\u9519\u4e86\uff0c\u6ca1\u62ff\u5230\u6700\u4e0a\u9762\u7684\u7403")},t.prototype.setSpriteAnimation=function(e){var t=this.p_multip,n=this.p_ball_end_pot,o=t.getChildByName("layout_mask").getChildByName("bns_Spring"),a=(o.getPosition(),e),i=a.getPosition();o.stopAllActions(),a.stopAllActions();var r=cc.sequence(cc.moveTo(.2,i.x,i.y+3),cc.moveTo(.2,i.x,i.y-3),cc.moveTo(.2,i.x,i.y+2),cc.moveTo(.2,i.x,i.y-2),cc.moveTo(.2,i.x,i.y+1),cc.moveTo(.2,i.x,i.y-1),cc.callFunc(function(){a.setPosition(n.getPosition())}));a.runAction(r);var s=cc.sequence(cc.moveTo(.2,o.x,o.y+3),cc.moveTo(.2,o.x,o.y-3),cc.moveTo(.2,o.x,o.y+2),cc.moveTo(.2,o.x,o.y-2),cc.moveTo(.2,o.x,o.y+1),cc.moveTo(.2,o.x,o.y-1),cc.callFunc(function(){o.setPosition(o.x,o.y)}));o.runAction(s)},t.prototype.setWinPlayBgEffect=function(e){var t=this.winMultip(e),n=this.p_stars_effect,o=this.p_win_bg_effect;o.opacity=0;var a=this.p_TitleBgNode1,i=this.p_TitleBgNode2,r=this.p_TitleBgNode3;n.opacity=255,t>=5&&t<10?(a.opacity=0,i.opacity=255,r.opacity=0,i.getChildByName("inforb2_bg"),i.getChildByName("inforb2_effect").getComponent(sp.Skeleton).setAnimation(0,"xx3_inort",!1),n.getComponent(sp.Skeleton).setAnimation(0,"star_partlice",!1),n.getComponent(sp.Skeleton).setAnimation(1,"line_light",!1),n.getComponent(sp.Skeleton).addAnimation(0,"light_partlice",!1),o.getComponent(sp.Skeleton).setAnimation(0,"bg_spark",!1),o.getComponent(sp.Skeleton).setCompleteListener(function(e){"bg_spark"==e.animation.name&&(o.opacity=0)})):t>=10?(a.opacity=0,i.opacity=0,r.opacity=255,r.getChildByName("inforb3_bg"),r.getChildByName("inforb3_effect").getComponent(sp.Skeleton).setAnimation(0,"xxl2_light",!1),n.getComponent(sp.Skeleton).setAnimation(0,"star_partlice",!1),n.getComponent(sp.Skeleton).setAnimation(1,"line_light",!1),n.getComponent(sp.Skeleton).addAnimation(0,"light_partlice",!1),o.getComponent(sp.Skeleton).setAnimation(0,"bg_spark",!1),o.getComponent(sp.Skeleton).setCompleteListener(function(e){"bg_spark"==e.animation.name&&(o.opacity=0)})):(a.opacity=255,i.opacity=0,r.opacity=0,n.getComponent(sp.Skeleton).setAnimation(0,"star_partlice",!1),n.getComponent(sp.Skeleton).setAnimation(1,"line_light",!1),n.getComponent(sp.Skeleton).addAnimation(0,"light_partlice",!1),n.getComponent(sp.Skeleton).setCompleteListener(function(e){"light_partlice"==e.animation.name&&(n.opacity=0)}),o.getComponent(sp.Skeleton).setAnimation(0,"bg_spark",!1),o.getComponent(sp.Skeleton).setCompleteListener(function(e){console.log("UUUUUUUUUUUUUUUU",e.animation.name),"bg_spark"==e.animation.name&&(o.opacity=0)}))},t.prototype.setWinLabelplayanimation=function(e){cc.tween(e).to(.1,{scale:1.3}).to(.1,{scale:1}).call(function(){}).start()},t.prototype.winMultip=function(e){var t=e,n=slot.SpinManager.instance.betCost;return Number(t)/Number(n)},t.prototype.setWinTotalScoreLable=function(){if(2!=this.getGameState()){var e=this.getScore();if(0!=e){this.p_ScoreLable.opacity=0,this.p_TotalScoreLable.opacity=0,this.p_alone_score_lable.opacity=0;var t=this.p_TotalScoreLable.getChildByName("wintotlelable"),n=this.winMultip(e);if(slot.SoundMger.instance.playEffect("Win-win_Sound",!1),n>=5)this.p_TotalScoreLable.opacity=255,this.setScorebeatAnimation(t,0,e),this.setWinPlayBgEffect(e);else{var o=slot.SlotUtils.formatNumber(e);t.getComponent(p.default).string=""+o,this.p_TotalScoreLable.opacity=255}}}},t.prototype.setFreeGameEndWinTotalScoreLable=function(e){console.log("2222222222222222");var t=e;if(0!=t){game.EventManager.getInstance().raiseEvent(l.EventCallbackName.EVENT_BANNER_CTRAL,l.BannerCtral.CLOSE),slot.SoundMger.instance.playEffect("Win-win_Sound",!1),this.p_ScoreLable.opacity=0,this.p_TotalScoreLable.opacity=0,this.p_alone_score_lable.opacity=0;var n=this.p_TotalScoreLable.getChildByName("wintotlelable"),o=slot.SlotUtils.formatNumber(t);n.getComponent(p.default).string=""+o,this.p_TotalScoreLable.opacity=255,this.setWinPlayBgEffect(t)}},t.prototype.setScorebeatAnimation=function(e,t,n){slot.SoundMger.instance.playEffect("Announcement_Box_Bound_Effect",!1);for(var o=!1,a=e,i=0,r=n-t,s=Math.floor(r/28*100)/100,c=t,l=slot.SlotUtils.formatNumber(n),h=0;h<30;h++){i+=.05;var _=cc.delayTime(i),d=cc.callFunc(function(){c+=s;var t=Math.floor(100*c)/100,i=slot.SlotUtils.formatNumber(t);if(a&&(e.getComponent(p.default).string=""+i,c>=n))return e.getComponent(p.default).string=""+l,void(o||(o=!0,slot.SoundMger.instance.stopEffect("Announcement_Box_Bound_Effect"),slot.SoundMger.instance.playEffect("Announcement_Box_Bound_Effect_End",!1),console.log("Announcement_Box_Bound_Effect_End")))}.bind(this));this.node.runAction(cc.sequence(_,d))}},t.prototype._onFreeGameStart=function(e,t){var n=this.p_freegame_times,o=n.getChildByName("freegamel_Lable");n.getChildByName("free_last_world").opacity=0,o.getComponent(p.default).string=""+t,n.opacity=255},t.prototype._onFreeGameOver=function(e,t){this.p_freegame_times.opacity=0,this.setFreeGameEndWinTotalScoreLable(t)},t.prototype.changeFreegameTimes=function(e,t){if(0==t){var n=(i=this.p_freegame_times).getChildByName("freegamel_Lable"),o=i.getChildByName("free_last_world"),a=i.getChildByName("free_times_world");o.opacity=255,n.opacity=0,a.opacity=0}else{var i;n=(i=this.p_freegame_times).getChildByName("freegamel_Lable"),o=i.getChildByName("free_last_world"),a=i.getChildByName("free_times_world"),o.opacity=0,n.opacity=255,a.opacity=255,n.getComponent(p.default).string=""+t}},t.prototype.playAddFreeTimes=function(e,t){var n=this;slot.SoundMger.instance.playEffect("Free_Times_Interface_Sound_Effects",!1);var o=this.p_freegame_times_add_node;o.scale=0,o.opacity=255;var a=this.p_freegame_times,i=a.getChildByName("freegamel_Lable"),r=Number(i.getComponent(p.default).string),s=a.getChildByName("freegame_add_effect"),c=t-r;cc.tween(o).to(.3,{scale:1.2}).to(.2,{scale:1}).call(function(){}).start();for(var l=.2,h=function(e){l+=.2;var t=cc.delayTime(l),a=cc.callFunc(function(){r++,i.getComponent(p.default).string=""+r,s.getComponent(sp.Skeleton).setAnimation(0,"bg_spark",!1),slot.SoundMger.instance.playEffect("Add_Free_Sound_Effects",!1),e==c-1&&cc.tween(n.node).delay(.3).call(function(){o.opacity=0}).start()});_.node.runAction(cc.sequence(t,a))},_=this,d=0;d<c;d++)h(d)},t.prototype.all_Win_Score_Lable=function(e,t){var n=this.getEliminateWinpos(t);if(n&&n.length)for(var o=0;o<n.length;o++)if(n[o]){var a=Number(n[o].spinCoin),i=n[o].winPos;if(i[0]){var r=slot.SlotMachineView.instance.scroller.getRenderByIndex(i[0]);if(this.all_win_score_node){var s=this.all_win_score_node[o];if(s){var c=slot.SlotUtils.formatNumber(a);s.getComponent(p.default).string=""+c,s.opacity=255;var l=this.getPosByOtherNode(s,r);s.x=l.x,s.y=l.y,s.scale=a>100?.4:.6}}}}},t.prototype.getPosByOtherNode=function(e,t){var n=t.position;return n=t.parent.convertToWorldSpaceAR(n),e.parent.convertToNodeSpaceAR(n)},t.prototype.all_Win_Score_Lable_Hid=function(){var e=this.all_win_score_node;if(e)for(var t=0;t<e.length;t++)e[t].opacity=0},t.prototype.updateWinSorce=function(e,t){console.log(" \u65ad\u7ebf\u4ece\u8fde\u51fd\u6570",t);var n=slot.FreeGameManager.instance.hasFreeGame;if(t<=0||n)return this.frist_enter_game&&game.EventManager.getInstance().raiseEvent(l.EventCallbackName.EVENT_BANNER_CTRAL,l.BannerCtral.OPEN),void(this.frist_enter_game=!1);if(this.frist_enter_game){game.EventManager.getInstance().raiseEvent(l.EventCallbackName.EVENT_BANNER_CTRAL,l.BannerCtral.CLOSE),this.p_ScoreLable.opacity=0,this.p_TotalScoreLable.opacity=0,this.p_alone_score_lable.opacity=0;var o=this.p_TotalScoreLable.getChildByName("wintotlelable"),a=slot.SlotUtils.formatNumber(t);o.getComponent(p.default).string=""+a,this.p_TotalScoreLable.opacity=255,this.frist_enter_game=!1;var i=this.getLoginRotate();i>0&&this.setLogMultipAnimation(i)}},t.prototype.setNetConntMultip=function(){var e=this.getFreeRotate();e>1&&this.setLogMultipAnimation(e)},t.prototype.setLogMultipAnimation=function(e){var t=this,n=this.TestingBallPosition(e),o=n.getChildByName("multip"),a=e,i=this.p_ball_end_pot;o.getComponent(p.default).string="x"+a;var r=this.p_multip.getChildByName("layout_mask").getChildByName("bns_light_effect");r.opacity=255,r.getComponent(sp.Skeleton).setAnimation(0,"lightball_out",!1),r.getComponent(sp.Skeleton).addAnimation(0,"light_ball_offon",!0),cc.tween(n).to(.3,{position:new cc.Vec3(i.x,i.y)}).call(function(){slot.SoundMger.instance.playEffect("Multiple_Sound_Effects",!1),n.parent.getComponent(cc.Mask).enabled=!1,t.setSpriteAnimation(n)}).start()},t.prototype.onDestroy=function(){game.EventManager.getInstance().removeEventListener(slot.GameEventNames.EVENT_UPDATE_WINSCORE,this.updateWinSorce,this),game.EventManager.getInstance().removeEventListener(l.EventCallbackName.EVENT_SET_TOTLE_SCORE_LABLE,this.setWinLableScore,this),game.EventManager.getInstance().removeEventListener(l.EventCallbackName.EVENT_ACCEPT_NETWORK_DATA,this.acceptNetworkdata,this),game.EventManager.getInstance().removeEventListener(l.EventCallbackName.EVENT_SET_ELIMINATE_MULTIP,this.setMultipAnimation,this),game.EventManager.getInstance().removeEventListener(l.EventCallbackName.EVENT_SET_ALL_TOTLE_SCORE_LABLE,this.setWinTotalScoreLable,this),game.EventManager.getInstance().removeEventListener(l.EventCallbackName.FREE_GAME_START,this._onFreeGameStart,this),game.EventManager.getInstance().removeEventListener(l.EventCallbackName.FREE_GAME_OVER,this._onFreeGameOver,this),game.EventManager.getInstance().removeEventListener(l.EventCallbackName.EVENT_ADD_FREE_GAME_NUM,this.playAddFreeTimes,this),game.EventManager.getInstance().removeEventListener(l.EventCallbackName.EVENT_FREE_GAME_NUM,this.changeFreegameTimes,this),game.EventManager.getInstance().removeEventListener(l.EventCallbackName.EVENT_ACCEPT_WiN_SCORE_NODE,this.getWinScoreNode,this),game.EventManager.getInstance().removeEventListener(l.EventCallbackName.EVENT_SET_WIN_SCORE_LABLE_SHOW,this.all_Win_Score_Lable,this),game.EventManager.getInstance().removeEventListener(l.EventCallbackName.EVENT_SET_WIN_SCORE_LABLE_HID,this.all_Win_Score_Lable_Hid,this),game.EventManager.getInstance().removeEventListener(l.EventCallbackName.EVENT_SET_LOGIN_AGREEMENT_DATA,this.getLogindate,this),game.EventManager.getInstance().removeEventListener(l.EventCallbackName.EVENT_SET_NET_CONNECT_MULTIP,this.setNetConntMultip,this),game.EventManager.getInstance().removeEventListener(l.EventCallbackName.EVENT_SET_FREEGAME_STAR_INIT_MULTIP,this.freegameStarInitMultip,this),game.EventManager.getInstance().removeEventListener(l.CabdyEvent.EVENT_GUNZHOU_SPINSTART,this.onGunZhouSpinStart,this)},i([c(cc.Node)],t.prototype,"p_ScoreLable",void 0),i([c(cc.Node)],t.prototype,"p_TotalScoreLable",void 0),i([c(cc.Node)],t.prototype,"p_TitleBgNode1",void 0),i([c(cc.Node)],t.prototype,"p_TitleBgNode2",void 0),i([c(cc.Node)],t.prototype,"p_TitleBgNode3",void 0),i([c(cc.Node)],t.prototype,"p_multip",void 0),i([c(cc.Node)],t.prototype,"p_Move_Reta",void 0),i([c(cc.Node)],t.prototype,"p_move_start_pot",void 0),i([c(cc.Node)],t.prototype,"p_ball_star_pot",void 0),i([c(cc.Node)],t.prototype,"p_ball_end_pot",void 0),i([c(cc.Node)],t.prototype,"p_alone_score_lable",void 0),i([c(cc.Node)],t.prototype,"p_stars_effect",void 0),i([c(cc.Node)],t.prototype,"p_win_bg_effect",void 0),i([c(cc.Node)],t.prototype,"p_freegame_times_add_node",void 0),i([c(cc.Node)],t.prototype,"p_freegame_times",void 0),i([c(cc.Node)],t.prototype,"p_multip_Bg",void 0),i([s],t)}(cc.Component);n.default=h,cc._RF.pop()},{"../GameEventName111004401":"GameEventName111004401","../NumAtlasLabel111004401":"NumAtlasLabel111004401"}],Tool:[function(e,t,n){"use strict";cc._RF.push(t,"ff1f8UR+3xIJ6t3h7aVgrrn","Tool"),Object.defineProperty(n,"__esModule",{value:!0});var o=e("../roller/_slotFrameAniViewNodeCtrl"),a=function(){function e(){}return e.cutRepeatdataHandle=function(e,t,n){var o=!0;return e.forEach(function(e){e==t&&(o=!1)}),n.forEach(function(e){e==t&&(o=!1)}),o},e.respDataHandle=function(){var t=e.totalEliminateTime-1,n=e.respData.updateList[0].value.handleState.game_10017.data.resultList,o=[],a=[],i=[],r=[];(n=[].concat(n))[t]?(n[t].spinResult.lineResult,r=n[t].spinResult.lineResult):console.log(t,n);for(var s=[],c=0;c<r.length;c++)for(var l=r[c],p=0;p<l.winPos.length;p++){var h=l.winPos[p].low;s.push(h)}for(o.push(s),c=0;c<o.length;c++){var _=[];for(p=0;p<o[c].length;p++)o[c][p]>6&&this.cutRepeatdataHandle(_,o[c][p]-6,o[c])&&_.push({pos:o[c][p]-6,index:1}),o[c][p]<31&&this.cutRepeatdataHandle(_,o[c][p]+6,o[c])&&_.push({pos:o[c][p]+6,index:2}),o[c][p]>1&&this.cutRepeatdataHandle(_,o[c][p]-1,o[c])&&this.otherTwoDataHandle(o[c][p])&&_.push({pos:o[c][p]-1,index:3}),o[c][p]<35&&this.cutRepeatdataHandle(_,o[c][p]+1,o[c])&&this.otherOneDataHandle(o[c][p])&&_.push({pos:o[c][p]+1,index:4});a.push(_)}for(var d=0;d<a[0].length;d++){var u=slot.SlotMachineView.instance.scroller.getRenderByIndex(a[0][d].pos),g=a[0][d].index;i.push({render:u,type:g})}return i},e.getMoveDataByElimintaion=function(e){for(var t=[],n=[],o=0;o<e.length;o++){for(var a=[],i=0;i<e[o].length;i++)e[o][i]>6&&this.cutRepeatdataHandle(a,e[o][i]-6,e[o])&&a.push({pos:e[o][i]-6,index:1}),e[o][i]<31&&this.cutRepeatdataHandle(a,e[o][i]+6,e[o])&&a.push({pos:e[o][i]+6,index:2}),e[o][i]>1&&this.cutRepeatdataHandle(a,e[o][i]-1,e[o])&&this.otherTwoDataHandle(e[o][i])&&a.push({pos:e[o][i]-1,index:3}),e[o][i]<35&&this.cutRepeatdataHandle(a,e[o][i]+1,e[o])&&this.otherOneDataHandle(e[o][i])&&a.push({pos:e[o][i]+1,index:4});n.push(a)}for(var r=0;r<n[0].length;r++){var s=slot.SlotMachineView.instance.scroller.getRenderByIndex(n[0][r].pos),c=n[0][r].index;t.push({render:s,type:c})}return t},e.otherOneDataHandle=function(e){var t=!0;return e%6==0&&(t=!1),t},e.otherTwoDataHandle=function(e){var t=!0;return(e-1)%6==0&&(t=!1),t},e.drawLineDataHandle=function(e){console.log("\u9700\u8981\u753b\u7ebf\u7684\u6570\u636e",e);var t=this.respData.updateList[0].value.handleState.game_10017.data.resultList;if(t&&t[e]&&t[e].spinResult){for(var n=t[e].spinResult.lineResult,o=[],a=[],i=0;i<n.length;i++)n[i].winPos[0]&&o.push(n[i].winPos);for(i=0;i<o.length;i++){var r=o[i];a.push(this.lineDataPush(r))}return a}},e.getAllDataInRoller=function(){for(var e=[],t=0;t<60;t++){var n=slot.SlotMachineView.instance.scroller.getRenderByIndex(t);n&&e.push(n)}return e},e.lineDataPush=function(e){for(var t=[],n=0;n<e.length;n++){var o=e[n];t.push(this.checkOneDataWithSelfLine(o,e))}return t},e.checkOneDataWithSelfLine=function(e,t){var n=this,o=[!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1],a=[];t.forEach(function(t){var a=t;e+6===a?o[2]=!0:e-6===a?o[1]=!0:e-1===a&&n.otherTwoDataHandle(e)?o[0]=!0:e+1===a&&n.otherOneDataHandle(e)&&(o[3]=!0)}),t.forEach(function(t){var a=t;e-5===a&&!o[1]&&n.otherOneDataHandle(e)&&(o[4]=!0),e-5===a&&!o[3]&&n.otherOneDataHandle(e)&&(o[8]=!0),e+7===a&&!o[2]&&n.otherOneDataHandle(e)&&(o[5]=!0),e+7===a&&!o[3]&&n.otherOneDataHandle(e)&&(o[9]=!0),e-7===a&&!o[1]&&n.otherTwoDataHandle(e)&&(o[6]=!0),e-7===a&&!o[0]&&n.otherTwoDataHandle(e)&&(o[10]=!0),e+5===a&&!o[2]&&n.otherTwoDataHandle(e)&&(o[7]=!0),e+5===a&&!o[0]&&n.otherTwoDataHandle(e)&&(o[11]=!0)});var i=slot.SlotMachineView.instance.scroller.getRenderByIndex(e);return a.push(i),o[4]&&a.push("specialDownLeftCurved2"),o[5]&&a.push("specialDownRightCurved2"),o[8]&&a.push("specialDownLeftCurved1"),o[9]&&a.push("specialDownRightCurved1"),o[6]&&(o[4]||(o[3]?a.push("shortLeft2"):a.push("downLeftCurved"))),o[7]&&(o[5]||(o[3]?a.push("shortRight2"):a.push("downRightCurved"))),o[10]&&(o[11]||(o[2]?a.push("shorttop2"):a.push("topRightCurved"))),o[11]&&(o[10]||(o[2]?a.push("shorttop1"):a.push("topLeftCurved"))),o[0]||(o[10]||(o[1]?a.push("shorttop1"):a.push("topLeftCurved")),o[11]||(o[2]?a.push("shorttop2"):a.push("topRightCurved"))),o[1]||(o[6]||o[0]&&a.push("shortLeft1"),o[4]||(o[3]?a.push("shortLeft2"):a.push("downLeftCurved"))),o[2]||(o[5]||(o[3]?a.push("shortRight2"):a.push("downRightCurved")),o[7]||(o[0]?a.push("shortRight1"):a.push("topRightCurved"))),o[3]||(o[8]||(o[1]?a.push("shortDown1"):a.push("downLeftCurved")),o[9]||(o[2]?a.push("shortDown2"):a.push("downRightCurved"))),a},e.getFreeGameFreeTimePosAndTime=function(e){for(var t=this.respData.updateList[0].value.handleState.game_10017.data.resultList[e].spinResult.grid,n=[],o=0;o<t.length;o++){var a=t[o];if(a>=10){var i=slot.SlotMachineView.instance.getPosByIndex(o);10==a&&n.push([i,1]),11==a&&n.push([i,2]),12==a&&n.push([i,3])}}return n},e.bezierAct=function(e,t,n,o,a,i){void 0===i&&(i=null);var r=cc.v2(t.x,t.y),s=[cc.v2(e.x+a,e.y+o),r,cc.v2(t.x,t.y)],c=cc.bezierTo(n,s),l=cc.callFunc(function(){"function"==typeof i&&i()}.bind(this));e.runAction(cc.sequence(c,l))},e.getPosByOtherNode=function(e,t){var n=e.parent.convertToWorldSpaceAR(e.position);return t.convertToNodeSpaceAR(n)},e.getLineNumberByPos=function(e){e+=1;var t=Math.floor(e/7);return 0==e%7?t-1:t},e.getAcrossNumberByPos=function(e){for(var t=0;t<6;t++)for(var n=0;n<6;n++)if(e==6*n+t)return t},e.getLineDataByResp=function(t){for(var n=e.respData.updateList[0].value.handleState.game_10017.data.resultList[t].removePos,o=[],a=0;a<n.length;a++){for(var i=n[a],r=this.getLineNumberByPos(i)+1,s=!0,c=0;c<o.length;c++)r==o[c]&&(s=!1);s&&o.push(r)}return o},e.getFamaleMouseData=function(){var t=[];e.respData.updateList&&(t=1==e.respData.updateList[0].value.handleState.game_10017.data.resultList.length?e.respData.updateList[0].value.handleState.game_10017.data.resultList[e.totalEliminateTime].crushMoveGrid:e.respData.updateList[0].value.handleState.game_10017.data.resultList[e.totalEliminateTime].crushFixedGophersGrid);for(var n=[],o=0;o<t.length;o++){var a=t[o];8==a.elem&&n.push({pos:a.pos,index:o})}return n},e.getLastRespData=function(){var t=[];e.respData.updateList&&(t=e.respData.updateList[0].value.handleState.game_10017.data.resultList);var n=[];return 1==t.length?n=[]:t[0]&&(n=t[t.length-2].crushMoveGrid),n},e.fixedDataDeduplication=function(e){for(var t=[],n=[],o=0;o<e.length;o++){for(var a=e[o],i=!0,r=0;r<this.clearData.length;r++){var s=this.clearData[r];if(a.pos==s.pos){i=!1;break}}i&&t.push(a)}for(o=0;o<t.length;o++)a=t[o],n.push(a);for(o=0;o<this.clearData.length;o++)a=this.clearData[o],n.push(a);return this.clearData=n,t},e.playRollDataBgAni=function(){var e=slot.SlotMachineView.instance.node.parent.parent;this.getAcrossRollData(),e.stopAllActions(),this.setAllLightNode();var t=cc.delayTime(2),n=cc.callFunc(function(){this.setAllLightNode();for(var t=function(t){var a=cc.delayTime(.2*t),i=cc.callFunc(function(){var e=this.acrossNodeArr[t],n=[];t>=1&&(n=this.acrossNodeArr[t-1]);for(var a=function(a){var i=e[a];t>=1&&(n[a].getChildByName("lightBg").active=!1);var r=i.getChildByName("spine").getComponent(sp.Skeleton);i.getComponent(o.default).data<9&&(r.setAnimation(0,"win",!1),r.setCompleteListener(function(){r.setAnimation(0,"win_idle",!0)})),i.getChildByName("lightBg").active=!0},i=0;i<e.length;i++)a(i)}.bind(n));e.runAction(cc.sequence(a,i))},n=this,a=0;a<6;a++)t(a)}.bind(this));e.runAction(cc.repeatForever(cc.sequence(t,n)))},e.setAllLightNode=function(){for(var e=0;e<this.acrossNodeArr.length;e++)for(var t=this.acrossNodeArr[e],n=0;n<t.length;n++){var a=t[n],i=a.getChildByName("spine").getComponent(sp.Skeleton);a.getComponent(o.default).data<9&&i.setToSetupPose(),a.getChildByName("lightBg").active=!1}},e.getAcrossRollData=function(){if(!this.acrossNodeArr[0])for(var e=0;e<6;e++){for(var t=[],n=0;n<6;n++){var o=this.falseRollNode[6*n+e];t.push(o)}this.acrossNodeArr.push(t)}},e.checkThisIsLastRemove=function(){var e=!1,t=this.respData.updateList[0].value.handleState.game_10017.data.resultList.length-1;return this.totalEliminateTime==t&&(e=!0),e},e.getFreeNodeNum=function(e){for(var t=e.spinResult.grid,n=0,o=0;o<t.length;o++)10==t[o]&&(n+=1);return n},e.respData=null,e.totalEliminateTime=0,e.eliminateTime=0,e.clearData=[],e.falseRollNode=[],e.acrossNodeArr=[],e.jiasu=null,e.testData=[[3,10,17,24,31],[4,5,6,7,14],[25,26,27,28,32],[1,8,15,22,29]],e.data=[[{low:5,high:0,unsigned:!0},{low:6,high:0,unsigned:!0},{low:11,high:0,unsigned:!0},{low:10,high:0,unsigned:!0},{low:12,high:0,unsigned:!0},{low:16,high:0,unsigned:!0},{low:15,high:0,unsigned:!0},{low:14,high:0,unsigned:!0},{low:13,high:0,unsigned:!0},{low:7,high:0,unsigned:!0},{low:17,high:0,unsigned:!0},{low:18,high:0,unsigned:!0},{low:19,high:0,unsigned:!0},{low:20,high:0,unsigned:!0},{low:21,high:0,unsigned:!0},{low:22,high:0,unsigned:!0},{low:23,high:0,unsigned:!0},{low:24,high:0,unsigned:!0},{low:25,high:0,unsigned:!0},{low:26,high:0,unsigned:!0},{low:27,high:0,unsigned:!0},{low:28,high:0,unsigned:!0},{low:29,high:0,unsigned:!0},{low:31,high:0,unsigned:!0},{low:32,high:0,unsigned:!0},{low:33,high:0,unsigned:!0}],[{low:2,high:0,unsigned:!0},{low:3,high:0,unsigned:!0},{low:4,high:0,unsigned:!0},{low:8,high:0,unsigned:!0},{low:9,high:0,unsigned:!0},{low:10,high:0,unsigned:!0}]],e}();n.default=a,cc._RF.pop()},{"../roller/_slotFrameAniViewNodeCtrl":"_slotFrameAniViewNodeCtrl"}],WinAnimanager111004401:[function(e,t,n){"use strict";cc._RF.push(t,"639c9k/G/5ErIUsGbeP3i4T","WinAnimanager111004401");var o,a=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__decorate||function(e,t,n,o){var a,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(i<3?a(r):i>3?a(t,n,r):a(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,c=(r.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.boomNodeName=["big_win_boom","super_win_boom","mega_win_boom"],t.boomAniName=["light_inort1","light_inort2","light_inort3"],t}return a(t,e),t.prototype.playWinStart=function(){console.log("WinAnimanager111004401 playWinStar")},t.prototype.playWinTextFadeIn=function(e,t){return console.log("WinAnimanager111004401 playWinTextFadeIn winType="+t),t==slot.WinAniType.Small?cc.tween(e).set({scale:0}).to(.2,{scale:1.3}).to(.2,{scale:1}).start():cc.tween(e).set({scale:1}).to(.2,{scale:1.3}).to(.2,{scale:1}).start()},t.prototype.playWinTextFadeOut=function(t,n){console.log("WinAnimanager111004401 playWinTextFadeOut ="+n),e.prototype.playWinTextFadeOut.call(this,t,n)},t.prototype.onStageChange=function(){console.log("WinAnimanager111004401 onStageChange")},t.prototype.onPlayFinalAnimation=function(){console.log("WinAnimanager111004401 onPlayFinalAnimation winAniTyp="+this.winAniType),this.playBoomAni(this.winAniType)},t.prototype.onCoinIncreaseEnd=function(){console.log("WinAnimanager111004401 onCoinIncreaseEnd winAniTyp="+this.winAniType),this.playBoomAni(this.winAniType)},t.prototype.playFadeOut=function(t){console.log("WinAnimanager111004401 playFadeOut"),e.prototype.playFadeOut.call(this,t)},t.prototype.playBoomAni=function(e){if(console.log("WinAnimanager111004401 playBoomAni winType="+e),cc.tween(this.winCoinLabel.node).to(.2,{scale:1.3}).to(.2,{scale:1}).start(),slot.WinAniType.Small<=e&&e<=slot.WinAniType.Great){var t=this.aniLayer.getChildByName(this.boomNodeName[e-2]);t&&(t.active=!0,t.getComponent(sp.Skeleton).setAnimation(0,this.boomAniName[e-2],!1),setTimeout(function(){return t.active=!1},900));var n=this.aniLayer.getChildByName("mega_fireworks");n&&(n.active=!0,n.getComponent(sp.Skeleton).setAnimation(0,"sum_stop",!1),setTimeout(function(){return n.active=!1},1e3))}},i([s],t)}(slot.WinAniManager));n.default=c,cc._RF.pop()},{}],WinIamageNodeCtral:[function(e,t,n){"use strict";cc._RF.push(t,"ce2e1vWj2RPerkuhmX3DCuv","WinIamageNodeCtral");var o,a=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__decorate||function(e,t,n,o){var a,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(i<3?a(r):i>3?a(t,n,r):a(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,c=r.property,l=e("../GameEventName111004401"),p=e("../tool/Tool"),h=e("./GameLayer111004401"),_=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.P_Touch_Laytout=null,t.p_Large_img_Sprint_Data=[],t.CurrProto=null,t.all_Large_Img_node=null,t.all_sprite_date=[],t.tool_index=null,t.Remove_data=null,t.Show_Large_Img_data=[],t.color_data=[cc.color(0,87,255,101),cc.color(0,255,25,40),cc.color(251,0,255,77),cc.color(255,168,0,77),cc.color(0,255,25,40),cc.color(0,87,255,101)],t.haveBigLargeImgItem=[],t}return a(t,e),t.prototype.onLoad=function(){game.EventManager.getInstance().addEventListener(l.EventCallbackName.EVENT_ACCEPT_NETWORK_DATA,this.acceptNetworkdata,this),game.EventManager.getInstance().addEventListener(l.EventCallbackName.EVENT_SET_LARGE_IMGAGE,this.setConstituteImg,this),game.EventManager.getInstance().addEventListener(l.EventCallbackName.EVENT_ACCEPT_ALL_LARGE_NODE,this.acceptAllLargeImageNode,this),game.EventManager.getInstance().addEventListener(l.EventCallbackName.EVENT_ElEPlAYANI_CALLBACK,this.initLargeImgCarNode,this),game.EventManager.getInstance().addEventListener(l.EventCallbackName.EVENT_SET_LOG_LARGE_IMAGE_NODE,this.setLoginLargeImageCallBack,this),game.EventManager.getInstance().addEventListener(l.EventCallbackName.EVENT_SET_ALL_TOTLE_SCORE_LABLE,this.setGeneralLargeImg,this),game.EventManager.getInstance().addEventListener(l.EventCallbackName.EVENT_SET_IMAGE_SPRITEDATA,this.setimgSpriteDate,this),game.EventManager.getInstance().addEventListener(l.CabdyEvent.EVENT_GUNZHOU_SPINSTART,this.onGunZhouSpinStart,this),game.EventManager.getInstance().addEventListener(slot.GameEventNames.EVENT_STOP_SLOT_MACHINE_IMMEDIATELY,this.eventStopSlotMachineImmediately,this),game.EventManager.getInstance().addEventListener(l.CabdyEvent.JT_MIX_ELEM,this.onJtMixElem,this)},t.prototype.onDestroy=function(){game.EventManager.getInstance().removeEventListener(l.EventCallbackName.EVENT_ACCEPT_NETWORK_DATA,this.acceptNetworkdata,this),game.EventManager.getInstance().removeEventListener(l.EventCallbackName.EVENT_SET_LARGE_IMGAGE,this.setConstituteImg,this),game.EventManager.getInstance().removeEventListener(l.EventCallbackName.EVENT_ACCEPT_ALL_LARGE_NODE,this.acceptAllLargeImageNode,this),game.EventManager.getInstance().removeEventListener(l.EventCallbackName.EVENT_ElEPlAYANI_CALLBACK,this.initLargeImgCarNode,this),game.EventManager.getInstance().removeEventListener(l.EventCallbackName.EVENT_SET_LOG_LARGE_IMAGE_NODE,this.setLoginLargeImageCallBack,this),game.EventManager.getInstance().removeEventListener(l.EventCallbackName.EVENT_SET_ALL_TOTLE_SCORE_LABLE,this.setGeneralLargeImg,this),game.EventManager.getInstance().removeEventListener(l.EventCallbackName.EVENT_SET_IMAGE_SPRITEDATA,this.setimgSpriteDate,this),game.EventManager.getInstance().removeEventListener(l.CabdyEvent.EVENT_GUNZHOU_SPINSTART,this.onGunZhouSpinStart,this),game.EventManager.getInstance().removeEventListener(slot.GameEventNames.EVENT_STOP_SLOT_MACHINE_IMMEDIATELY,this.eventStopSlotMachineImmediately,this),game.EventManager.getInstance().removeEventListener(l.CabdyEvent.JT_MIX_ELEM,this.onJtMixElem,this)},t.prototype.acceptNetworkdata=function(e,t){this.CurrProto=t},t.prototype.acceptAllLargeImageNode=function(e,t){this.all_Large_Img_node=t},t.prototype.setimgSpriteDate=function(e,t){this.all_sprite_date=t},t.prototype.getWinScore=function(){return this.CurrProto&&this.CurrProto.spinResult?Number(this.CurrProto.spinResult.spinCoin):null},t.prototype.start=function(){},t.prototype.getCreateBaiDaData=function(e){var t=this.CurrProto.updateList[0].value.handleState.game_10017.data.resultList;if(t&&t[e]&&t[e].changeBeforeCrushGrid)return t[e].changeBeforeCrushGrid},t.prototype.getElimentlist2d=function(e){var t=this.CurrProto.updateList[0].value.handleState.game_10017.data.resultList;if(t&&t[e]&&t[e].list2d)return t[e].list2d},t.prototype.getJustElimentlist2d=function(){if(this.CurrProto&&this.CurrProto.updateList[0]&&this.CurrProto.updateList[0].value&&this.CurrProto.updateList[0].value.handleState.game_10017){var e=this.CurrProto.updateList[0].value.handleState.game_10017.data.resultList;return e&&e[0].list2d?e[e.length-1].list2d:[]}return[]},t.prototype.getElimintRemoveGride=function(e){var t=this.CurrProto.updateList[0].value.handleState.game_10017.data.resultList;if(t&&t[e]&&t[e].spinResult)return t[e].spinResult.grid},t.prototype.getElimintRemoveDate=function(e){var t=this.CurrProto.updateList[0].value.handleState.game_10017.data.resultList;if((t=[].concat(t))&&t[e]&&t[e].spinResult){var n=[].concat(t[e].removePos),o=[],a=t[e].changeBeforeCrushGrid;if(a&&a.length)for(var i=0;i<a.length;i++)a[i]&&o.push(a[i].pos-1);var r=[];return r=o.concat(n),Array.from(new Set(r.sort(function(e,t){return e-t})))}},t.prototype.fuseDataOrlist2dAndRemove=function(e,t){var n=t,o=this.getElimentlist2d(e),a=[];this.Show_Large_Img_data.forEach(function(e){return a.push.apply(a,e.pos)}),cc.log("fuseDataOrlist2dAndRemove allLargeImgPos=",a);for(var i=[],r=0;r<n.length;r++)-1==a.indexOf(n[r]+1)&&i.push(n[r]);if(o&&o.length&&o.length>0)for(var s=0;s<o.length;s++){var c=o[s].list1d;if(!this.bigSymHaveExisted(c))for(var l=0;l<c.length;l++)i.push(c[l]-1)}return Array.from(new Set(i.sort(function(e,t){return e-t})))},t.prototype.bigSymHaveExisted=function(e){for(var t=!1,n=0;n<this.Show_Large_Img_data.length&&!(t=String(this.Show_Large_Img_data[n].pos)==String(e));n++);return t},t.prototype.setConstituteImg=function(e,t,n,o){this.getCreateBaiDaData(t);var a=this.getElimintRemoveGride(t);this.Remove_data=n;for(var i=this.fuseDataOrlist2dAndRemove(t,n),r=0;r<i.length;r++){var s=a[i[r]],c=s,l=slot.SlotMachineView.instance.scroller.getRenderByIndex(Number(i[r])+1);if(l){l.setRendopactiy(l,0);var p=slot.GData.curLanguage;9==s&&(c="zh"==p?9:10);var h=o[c-1];l.setCpImageCarNode(s,h)}}this.tool_index=t,this.setShowImageLargeFuse(t)},t.prototype.setShowImageLargeFuse=function(e){for(var t=this,n=this.getElimentlist2d(e),o=this.getElimintRemoveGride(e),a=slot.SlotMachineView.instance.scroller.getChildByName("aaa"),i=[],r=0;r<this.Show_Large_Img_data.length;r++)i.push(Number(this.Show_Large_Img_data[r].node.name.replace("node_Large_image",""))-1);var s=[];for(r=0;r<n.length;r++)-1==i.indexOf(r)&&s.push(r);for(cc.log("haveUserIndex=",i),cc.log("canUserIndex=",s),r=0;r<this.Show_Large_Img_data.length;r++){var c=this.Show_Large_Img_data[r].node,p=this.Show_Large_Img_data[r].pos;c.zIndex=-1==this.Remove_data.indexOf(p[0]-1)?0:4}var h=!1,_=function(i){var r=d.judgWhetherCreateLargeImage(n[i].list1d,e);if(cc.log("creat_state="+r+",list2d[i].list1d",n[i].list1d),!r){h=!0;var c=n[i].list1d,l=d.setLargeImagepos(c),p=l,_=o[c[0]-1];l=a.convertToWorldSpaceAR(l);for(var u=function(e){var t=d.getImgCarRend(c[e]),n=t.parent.convertToNodeSpaceAR(l);cc.tween(t).to(.4,{position:new cc.Vec3(n.x,n.y,0)}).call(function(){t.opacity=0,t.x=0,t.y=0}).start()},g=0;g<c.length;g++)u(g);cc.tween(d.node).delay(.4).call(function(){var e=t.getLargeNode(s.shift());e.zIndex=-1==t.Remove_data.indexOf(c[0]-1)?0:4,t.Show_Large_Img_data.push({node:e,pos:c}),t.setLargeImgShowEffect(e,p,_)}).start()}},d=this;for(r=0;r<n.length;r++)_(r);cc.tween(this.node).delay(h?1.2:.2).call(function(){game.EventManager.getInstance().raiseEvent(l.EventCallbackName.EVENT_SET_WIN_SCORE_LABLE_HID),t.ShowSurplusgrideEffect(),t.PlayLargeImgEffect(),slot.SoundMger.instance.playEffect("Candy_Explosion_Sound",!1)}).start()},t.prototype.needCreateLargeImg=function(e){for(var t=!1,n=this.getElimentlist2d(e),o=0;o<n.length;o++)if(!this.judgWhetherCreateLargeImage(n[o].list1d,e)){t=!0;break}return t},t.prototype.getImgCarRend=function(e){var t=slot.SlotMachineView.instance.scroller.getChildByName("aaa").getChildByName("ImgCar"+Number(e-1));if(t)return t.getChildByName("imgcard");console.log("\u83b7\u53d6\u5230\u8282\u70b9\u4e0b\u9762\u7684\u56fe\u7247\u51fa\u9519\u4e86")},t.prototype.setLargeImagepos=function(e){var t=e,n=[t[0],t[1]],o=[t[0],t[2]],a=slot.SlotMachineView.instance.scroller.getChildByName("aaa").getChildByName("ImgCar"+Number(n[0]-1)),i=slot.SlotMachineView.instance.scroller.getChildByName("aaa").getChildByName("ImgCar"+Number(n[1]-1)),r=slot.SlotMachineView.instance.scroller.getChildByName("aaa").getChildByName("ImgCar"+Number(o[0]-1)),s=slot.SlotMachineView.instance.scroller.getChildByName("aaa").getChildByName("ImgCar"+Number(o[1]-1));if(a&&i&&r&&s){var c=(i.y+a.y)/2,l=(s.x+r.x)/2;return cc.v2(l,c)}console.log("\u83b7\u53d6\u5230\u5927\u56fe\u6807\u5750\u6807\u51fa\u9519\u4e86")},t.prototype.initRenderNode=function(){for(var e=p.default.getAllDataInRoller(),t=0;t<e.length;t++)e[t].setImageCarNode(0,"")},t.prototype.getLargeNode=function(e){var t="node_Large_image"+(e+1);if(this.all_Large_Img_node){for(var n=0;this.all_Large_Img_node.length;n++)if(this.all_Large_Img_node[n].name==t)return this.all_Large_Img_node[n]}else console.log("\u6ca1\u627e\u5230\u5bf9\u5e94\u7684\u5927\u56fe\u6807\u8282\u70b9")},t.prototype.setLargeImgShowEffect=function(e,t,n){cc.log("setLargeImgShowEffect"),e.setPosition(t.x,t.y);var o=e.getChildByName("img_car_effect"),a=e.getChildByName("img_show_effect"),i=e.getChildByName("img_car"),r=e.getChildByName("star_effect");e.getChildByName("img_bg_sprite").opacity=0,e.getChildByName("line_effect").opacity=0,n&&n>=0&&(i.getComponent(cc.Sprite).spriteFrame=this.p_Large_img_Sprint_Data[n-1]),a.opacity=0,e.opacity=255,o.opacity=255,o.getComponent(sp.Skeleton).setAnimation(0,"boom_inort",!1),i.scale=.9,i.opacity=255,cc.tween(e).to(.3,{scale:.8}).to(.3,{angle:0}).call(function(){r.opacity=255,r.getComponent(sp.Skeleton).setAnimation(0,"star_boom",!1)}).start()},t.prototype.ShowSurplusgrideEffect=function(){var e=this;if(this.Remove_data){var t,n=this.getCreateBaiDaData(this.tool_index);t=n&&n.length&&n.length>0?n.length:0;for(var o=0;o<this.Remove_data.length;o++)if(!this.getRemoveCpState(this.Remove_data[o]+1)){var a=slot.SlotMachineView.instance.scroller.getRenderByIndex(this.Remove_data[o]+1);if(a)if(t)a.setShowSurplusgrideEffect(t);else{var i=slot.SlotMachineView.instance.scroller.getChildByName("aaa").getChildByName("ImgCar"+a.index);i&&(i.opacity=i.getChildByName("img_bg").opacity=255)}}}cc.tween(this.node).delay(.3).call(function(){e.FuseGridePlayeffect()}).start()},t.prototype.PlayLargeImgEffect=function(){var e=this,t=this.Show_Large_Img_data;if(cc.tween(this.node).delay(.3).call(function(){slot.SoundMger.instance.playEffect("Synthetic_Sound",!1)}).start(),slot.SoundMger.instance.playEffect("Synthetic_Sound",!1),t&&t.length>0)for(var n=function(n){var a=o.getLargeImgWhetherClear(t[n]),i=o.getLargeImgCarNode(t[n]);if(console.log("clear_state="+a+",show_Large_data[i].pos",t[n].pos),a){cc.log("clear_state=true");var r=o.getLargeImgCarId(n),s=i,c=s.getChildByName("img_car"),p=s.getChildByName("line_effect"),h=s.getChildByName("img_show_effect"),_=s.getChildByName("img_bg_sprite");_.opacity=255,h.opacity=255,h.getComponent(sp.Skeleton).setAnimation(0,"boom_inort_top",!1),p.opacity=0,cc.tween(h).delay(.5).to(.3,{opacity:0}).start(),cc.tween(_).delay(.3).to(.3,{opacity:0}).start(),cc.tween(c).delay(.3).to(.3,{scale:0}).call(function(){c.opacity=0}).start(),cc.tween(p).delay(.5).call(function(){p.opacity=255,r&&r>=0&&e.color_data[r-1]&&(p.color=e.color_data[r-1]),p.getComponent(sp.Skeleton).setAnimation(0,"line",!1),game.EventManager.getInstance().raiseEvent(l.mouseEvent.ANIMATION_STOP_CALL_BACK)}).start(),cc.tween(o.node).delay(.75).call(function(){e.OpenCpGirdeEffect(n,p),s.scale=.1,s.angle=-45,s.opacity=0,s.getChildByName("img_show_effect").opacity=255}).start()}},o=this,a=0;a<t.length;a++)n(a)},t.prototype.getCurLargeGrideISShoweffect=function(e){var t=this.getElimentlist2d(this.tool_index),n=this.getElimintRemoveDate(this.tool_index);if(t&&t.length)for(var o=t[e].list1d[0]-1,a=0;a<n.length;a++)if(n[a]==o)return!0;return!1},t.prototype.getLargeImgWhetherClear=function(e){for(var t=this.getElimintRemoveDate(this.tool_index),n=e.pos[0]-1,o=0;o<t.length;o++)if(t[o]==n)return!0;return!1},t.prototype.getLargeImgCarNode=function(e){return e.node},t.prototype.getRemoveCpState=function(e){if(null!=this.tool_index){var t=this.getElimentlist2d(this.tool_index);if(t&&t.length&&t.length>0)for(var n=0;n<t.length;n++)for(var o=t[n].list1d,a=0;a<o.length;a++)if(o[a]==e)return!0}return!1},t.prototype.judgWhetherCreateLargeImage=function(e,t){var n=t-1;if(n>=0){var o=!1,a=this.getElimentlist2d(n);if(a.length&&a.length>0)for(var i=0;i<a.length;i++){var r=a[i].list1d;if(o=String(e)==String(r))return this.bigSymHaveExisted(e)}return o}},t.prototype.FuseGridePlayeffect=function(){if(this.Remove_data){var e=this.getCreateBaiDaData(this.tool_index),t=this.getElimintRemoveGride(this.tool_index),n=0;e&&e.length&&e.length>0&&(n=1);var o=[];if(e&&e.length&&e.length>0)for(var a=0;a<e.length;a++){var i=slot.SlotMachineView.instance.scroller.getRenderByIndex(e[a].pos);o.push(i)}for(a=0;a<this.Remove_data.length;a++){var r=this.getRemoveCpState(this.Remove_data[a]+1),s=t[this.Remove_data[a]];r?(i=slot.SlotMachineView.instance.scroller.getRenderByIndex(this.Remove_data[a]+1))&&i.setEliminateHidAnimation(s,0,n,o):(i=slot.SlotMachineView.instance.scroller.getRenderByIndex(this.Remove_data[a]+1))&&i.setEliminateHidAnimation(s,1,n,o)}}},t.prototype.getLargeImgCarId=function(e){var t=null,n=this.getElimentlist2d(this.tool_index)[e].list1d,o=this.getElimintRemoveGride(this.tool_index);return n&&n.length>0&&(t=o[n[0]-1]),t},t.prototype.OpenCpGirdeEffect=function(e){for(var t=this.getElimentlist2d(this.tool_index)[e].list1d,n=0;n<t.length;n++){var o=slot.SlotMachineView.instance.scroller.getRenderByIndex(t[n]);o&&o.setEliminateHidImgCarShow()}},t.prototype.removeLargeImageNode=function(){var e=this.Show_Large_Img_data,t=[];if(e&&e.length>0)for(var n=0;n<e.length;n++)this.getLargeImgWhetherClear(e[n])||t.push(e[n]);this.Show_Large_Img_data=[],this.Show_Large_Img_data=t},t.prototype.initLargeImgCarNode=function(e,t){this.removeLargeImageNode();var n=this.Show_Large_Img_data,o=[];if(n.length&&n.length>0)for(var a=0;a<n.length;a++)this.judgeLargeImageWtherDrop(n[a],t)?o.push(n[a]):this.setLargeImageDropEffect(n[a]);this.Show_Large_Img_data=[],this.Show_Large_Img_data=o},t.prototype.judgeLargeImageWtherDrop=function(e,t){var n=e.pos,o=this.getElimentlist2d(t+1);if(o){var a=!1;if(o&&o.length&&o.length>0)for(var i=0;i<o.length;i++){var r=o[i].list1d;if(a=String(n)==String(r))break}return a}return!0},t.prototype.cLearAllLargeImageNode=function(){var e=this.all_Large_Img_node;if(cc.log("cLearAllLargeImageNode",this.Show_Large_Img_data),this.Show_Large_Img_data.length&&this.Show_Large_Img_data.length>0)for(var t=0;t<e.length;t++){var n=e[t];n.scale=.1,n.angle=-45,n.opacity=0,n.getChildByName("img_show_effect").opacity=255}this.Show_Large_Img_data=[]},t.prototype.setLoginLargeImageCallBack=function(e,t){var n=t.state.normalData.handleState.game_10017.data.resultList,o=null,a=null;n.length>2?(o=n[n.length-1-1].list2d,a=n[n.length-1-1].spinResult.grid):(o=n[0].list2d,a=n[0].spinResult.grid),o&&o.length&&o.length>0&&this.setLoginLarImg(o,a,1)},t.prototype.creatsmallImg=function(e,t){for(var n=this.list2dcoverpos(e),o=0;o<n.length;o++){var a=t[n[o]-1],i=a,r=slot.SlotMachineView.instance.scroller.getRenderByIndex(Number(n[o]));if(r){console.log("HHHHHHHHHHHHHHHHHH44444444444444",n),r.setRendopactiy(r,0),r.closeSwildNode();var s=slot.GData.curLanguage;9==a&&(i="zh"==s?9:10);var c=this.all_sprite_date[i-1];r.setCpImageCarNode(a,c)}}this.moveimg(e,t)},t.prototype.moveimg=function(e,t){var n=this;cc.log("moveimg",e);for(var o=slot.SlotMachineView.instance.scroller.getChildByName("aaa"),a=0;a<e.length;a++){var i=e[a].list1d,r=this.setLargeImagepos(i);t[i[0]-1],r=o.convertToWorldSpaceAR(r);for(var s=function(e){var t=c.getImgCarRend(i[e]),n=t.parent.convertToNodeSpaceAR(r);cc.tween(t).to(.4,{position:new cc.Vec3(n.x,n.y,0)}).call(function(){t.opacity=0,t.x=0,t.y=0}).start()},c=this,l=0;l<i.length;l++)s(l);cc.tween(this.node).delay(.4).call(function(){n.setLoginLarImg(e,t,2)}).start()}},t.prototype.list2dcoverpos=function(e){for(var t=e,n=[],o=0;o<t.length;o++)for(var a=t[o].list1d,i=0;i<a.length;i++)n.push(a[i]);return n},t.prototype.setGeneralLargeImg=function(){this.getWinScore();for(var e=this.getJustElimentlist2d(),t=[],n=0;n<e.length;n++){var o=e[n].list1d;this.bigSymHaveExisted(o)||t.push(e[n])}if(t.length&&t.length>0){var a=this.CurrProto.spinResult.gridChanged;this.creatsmallImg(t,a)}},t.prototype.setLoginLarImg=function(e,t,n){for(var o=e,a=t,i=slot.SlotMachineView.instance.scroller.getChildByName("aaa"),r=0;r<o.length;r++){var s=o[r].list1d,c=this.setLargeImagepos(s),l=c,p=a[s[0]-1];c=i.convertToWorldSpaceAR(c);for(var h=0;h<s.length;h++){var _=slot.SlotMachineView.instance.scroller.getRenderByIndex(s[h]);_&&(_.setRendopactiy("",0),_.closeSwildNode())}var d=this.getLargeNode(r);this.Show_Large_Img_data.push({node:d,pos:s}),this.setLoginLargeImgShowEffect(d,l,p,n)}},t.prototype.setLoginLargeImgShowEffect=function(e,t,n,o){cc.log("setLoginLargeImgShowEffect"),e.setPosition(t.x,t.y);var a=e.getChildByName("img_car_effect"),i=e.getChildByName("img_show_effect"),r=e.getChildByName("img_car"),s=e.getChildByName("star_effect");e.getChildByName("img_bg_sprite").opacity=0,e.getChildByName("line_effect").opacity=0,n&&n>=0&&(r.getComponent(cc.Sprite).spriteFrame=this.p_Large_img_Sprint_Data[n-1]),i.opacity=0,e.opacity=255,a.opacity=0,a.getComponent(sp.Skeleton).setAnimation(0,"boom_inort",!1),r.scale=.9,r.opacity=255,1==o?(e.scale=.8,e.angle=0,s.opacity=0):cc.tween(e).to(.3,{scale:.8}).to(.3,{angle:0}).call(function(){s.opacity=255,s.getComponent(sp.Skeleton).setAnimation(0,"star_boom",!1)}).start()},t.prototype.setLargeImageDropEffect=function(e){cc.log("setLargeImageDropEffect",e);var t=e.node,n=(t.getPosition(),e.pos),o=t.getChildByName("img_car"),a=t.getChildByName("img_car_effect");cc.tween(o).to(.3,{scale:.2}).call(function(){a.getComponent(sp.Skeleton).setAnimation(0,"boom_inort",!1),o.scale=.1}).start(),cc.tween(a).delay(.5).call(function(){t.opacity=0,t.scale=.1,t.angle=-45,o.scale=1,t.getChildByName("img_show_effect").opacity=255}).start(),this.revertLargeImage(n)},t.prototype.revertLargeImage=function(e){for(var t=0;t<e.length;t++){var n=e[t],o=this.getImgCarRendNode(n);if(o){o.opacity=255,o.getChildByName("imgcard").opacity=255;var a=slot.SlotMachineView.instance.scroller.getRenderByIndex(Number(n));a&&(a.setRendopactiy(o,255),o.opacity=0)}}},t.prototype.getImgCarRendNode=function(e){var t=slot.SlotMachineView.instance.scroller.getChildByName("aaa").getChildByName("ImgCar"+Number(e-1));if(t)return t;console.log("\u83b7\u53d6\u5230\u8282\u70b9\u4e0b\u9762\u7684\u56fe\u7247\u51fa\u9519\u4e86")},t.prototype.onGunZhouSpinStart=function(){cc.log("onGunZhouSpinStart ");for(var e=0;e<this.Show_Large_Img_data.length;e++)for(var t=this.Show_Large_Img_data[e].node,n=this.Show_Large_Img_data[e].pos,o=0;o<4;o++){var a=slot.SlotMachineView.instance.scroller.getRenderByIndex(n[o]);a.skinLoader.spriteNode.opacity=0,a.orgPosY=a.position.y,this.haveBigLargeImgItem.push(a),0==o&&(t.parent=a.aboveLoader,t.setPosition(cc.v2(60.5,-58.5)))}this.Show_Large_Img_data=[],this.haveBigLargeImgItem.length>0&&this.schedule(this.updateRenderPos,1/60)},t.prototype.updateRenderPos=function(){for(var e=this.haveBigLargeImgItem.length-1;0<=e;e--){var t=this.haveBigLargeImgItem[e];(t.position.y<-702||t.position.y>t.orgPosY)&&this.recoverSpriteNodeOpa(this.haveBigLargeImgItem.splice(e,1)[0])}0==this.haveBigLargeImgItem.length&&this.unschedule(this.updateRenderPos)},t.prototype.eventStopSlotMachineImmediately=function(){for(var e=this.haveBigLargeImgItem.length-1;0<=e;e--)this.recoverSpriteNodeOpa(this.haveBigLargeImgItem.pop());0==this.haveBigLargeImgItem.length&&this.unschedule(this.updateRenderPos)},t.prototype.recoverSpriteNodeOpa=function(e){if(0==e.skinLoader.spriteNode.opacity){e.skinLoader.spriteNode.opacity=255;for(var t=e.aboveLoader.children,n=0;n<t.length;n++){var o=t[n];if(-1!=o.name.indexOf("node_Large_image")){o.parent=h.default.instance.aaaNode,o.scale=.1,o.angle=-45,o.opacity=0,o.getChildByName("img_show_effect").opacity=255;break}}}},t.prototype.onJtMixElem=function(e,t){if(console.log("\u8fdb\u5165\u6d41\u7a0b: onJtMixElem"),0==this.getWinScore()){var n=this.getJustElimentlist2d();n.length&&n.length>0?this.scheduleOnce(function(){t.run(),console.log("\u7ed3\u675f\u6d41\u7a0b: onJtMixElem 33")},1):(t.run(),console.log("\u7ed3\u675f\u6d41\u7a0b: onJtMixElem 22"))}else t.run(),console.log("\u7ed3\u675f\u6d41\u7a0b: onJtMixElem 11")},i([c(cc.Node)],t.prototype,"P_Touch_Laytout",void 0),i([c(cc.SpriteFrame)],t.prototype,"p_Large_img_Sprint_Data",void 0),i([s],t)}(cc.Component);n.default=_,cc._RF.pop()},{"../GameEventName111004401":"GameEventName111004401","../tool/Tool":"Tool","./GameLayer111004401":"GameLayer111004401"}],_slotFrameAniViewNodeCtrl:[function(e,t,n){"use strict";cc._RF.push(t,"14682g8rGBD5b3FbWfcqjak","_slotFrameAniViewNodeCtrl");var o,a=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__decorate||function(e,t,n,o){var a,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(i<3?a(r):i>3?a(t,n,r):a(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=e("../GameEventName111004401"),s=cc._decorator,c=s.ccclass,l=(s.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype.start=function(){game.EventManager.getInstance().addEventListener(r.mouseEvent.MOUSE_MOVE_END,this.mouseMoveEnd,this)},t.prototype.mouseMoveEnd=function(){this.node.getChildByName("clearLightFrame").opacity=0},t.prototype.onDestroy=function(){game.EventManager.getInstance().removeEventListener(r.mouseEvent.MOUSE_MOVE_END,this.mouseMoveEnd,this)},i([c],t)}(cc.Component));n.default=l,cc._RF.pop()},{"../GameEventName111004401":"GameEventName111004401"}],animationCallBack:[function(e,t,n){"use strict";cc._RF.push(t,"9bb00SQ52hEKbE8wfIAbOem","animationCallBack");var o,a=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__decorate||function(e,t,n,o){var a,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(i<3?a(r):i>3?a(t,n,r):a(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=e("../GameEventName111004401"),s=cc._decorator,c=s.ccclass,l=(s.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype.start=function(){},t.prototype.animationStop=function(){console.log("vvvvvvvvvvvvvvvvvvvvvv"),game.EventManager.getInstance().raiseEvent(r.mouseEvent.ANIMATION_STOP_CALL_BACK)},i([c],t)}(cc.Component));n.default=l,cc._RF.pop()},{"../GameEventName111004401":"GameEventName111004401"}],blastationCallBack:[function(e,t,n){"use strict";cc._RF.push(t,"5babal8XcdISqAU7OBw27Fe","blastationCallBack");var o,a=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__decorate||function(e,t,n,o){var a,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(i<3?a(r):i>3?a(t,n,r):a(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,c=r.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.label=null,t.text="hello",t}return a(t,e),t.prototype.start=function(){},i([c(cc.Label)],t.prototype,"label",void 0),i([c],t.prototype,"text",void 0),i([s],t)}(cc.Component);n.default=l,cc._RF.pop()},{}],boardCtrl:[function(e,t,n){"use strict";cc._RF.push(t,"e34c9c4bctH4ImoD8q1K7bX","boardCtrl");var o,a=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__decorate||function(e,t,n,o){var a,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(i<3?a(r):i>3?a(t,n,r):a(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=e("../GameEventName111004401"),s=e("../main/CommonNumAtlas111004401"),c=e("../tool/Tool"),l=cc._decorator,p=l.ccclass,h=l.property,_=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.p_nodeWin=null,t.p_nodeWinAni=null,t.beishuk=null,t.beishukAni=null,t.mouseState=0,t.beishukStartPos=cc.v2(2,129),t.beishukParentNode=null,t.boardPos=cc.v2(0,0),t}return a(t,e),t.prototype.onLoad=function(){this.boardPos=cc.v2(this.node.x,this.node.y),this.beishukParentNode=this.beishuk.parent},t.prototype.start=function(){game.EventManager.getInstance().addEventListener(r.mouseEvent.GET_REWARD_BOARD_CALL,this.mouseEvent,this),game.EventManager.getInstance().addEventListener(r.mouseEvent.GET_REWARD_BEFOR,this.boardAndLaybelEvnt,this),game.EventManager.getInstance().addEventListener(r.mouseEvent.INIT_TO_FREE_GAME,this.beishukAnimation,this),game.EventManager.getInstance().addEventListener(r.mouseEvent.FREE_GAME_CLOSE,this.beishukBackAnimation,this),game.EventManager.getInstance().addEventListener(r.mouseEvent.NORMAL_RECONNECTION_DATA,this.reconnetion,this),game.EventManager.getInstance().addEventListener(r.mouseEvent.FREE_RECONNECTION_DATA,this.freeReconnetion,this),game.EventManager.getInstance().addEventListener(r.EventName.EVENT_STOP_WIN_NUM,this.mouseComeBackAni,this),game.EventManager.getInstance().addEventListener(r.EventName.FREE_GAME_OVER,this._onFreeGameOver,this)},t.prototype.freeReconnetion=function(e,t){var n;n=null==t.handleState.game_10017.data.resultList[0]?t.sumTimes:t.handleState.game_10017.data.resultList[t.handleState.game_10017.data.resultList.length-1].crushRate,this.node.opacity=255,this.p_nodeWin.string="*"+String(n),this.p_nodeWinAni.string="*"+String(n),this.mouseSpine("idle"),this.mouseState=2},t.prototype.reconnetion=function(e,t){var n=t.length;this.node.opacity=255,this.mouseState=1,this.mouseSpine("idle"),this.p_nodeWin.string="*"+String(n),this.p_nodeWinAni.string="*"+String(n)},t.prototype._onFreeGameOver=function(){},t.prototype.mouseEvent=function(e,t){var n=this.node.getComponent(sp.Skeleton),o=this.beishuk.getComponent(sp.Skeleton),a=this.beishukAni.getComponent(sp.Skeleton),i=t+2;0==this.mouseState&&(this.node.opacity=255,n.timeScale=.5,a.setAnimation(0,"animation1",!1),slot.SoundMger.instance.playEffect(r.SOUND_NAME.Mtp_Appear,!1),this.mouseSpine("spawn",function(){n.timeScale=1})),2==this.mouseState&&(0==this.node.opacity&&(this.node.opacity=255,n.timeScale=.5,slot.SoundMger.instance.playEffect(r.SOUND_NAME.Mtp_Appear,!1),this.mouseSpine("spawn",function(){n.timeScale=1})),o.setAnimation(0,"animation2",!1),a.setAnimation(0,"animation1",!1)),1==this.mouseState&&(this.mouseSpine("collect"),a.setAnimation(0,"animation1",!1),o.setAnimation(0,"animation2",!1)),i>=6&&(i=6),slot.SoundMger.instance.playEffect("Mtp_Add_0"+i,!1),this.p_nodeWin.string="*"+String(t+2),this.p_nodeWinAni.string="*"+String(t+2),2!=this.mouseState&&(this.mouseState=1)},t.prototype.mouseSpine=function(e,t){void 0===t&&(t=null);var n=this.node.getComponent(sp.Skeleton);n.setAnimation(0,e,!1),n.setCompleteListener(function(){"idle"!=n.animation&&(n.setAnimation(0,"idle",!0),"function"==typeof t&&t())})},t.prototype.boardAndLaybelEvnt=function(){if(0!=this.mouseState){this.p_nodeWinAni.node.active=!0,this.p_nodeWinAni.node.stopAllActions(),this.p_nodeWinAni.node.setPosition(cc.v2(this.p_nodeWin.x,this.p_nodeWin.y+100)),slot.SoundMger.instance.playEffect(r.SOUND_NAME.Mtp_Effect,!1);var e=cc.scaleTo(.2,5),t=cc.moveBy(.2,cc.v2(0,300)),n=cc.moveBy(.5,cc.v2(0,-500)),o=cc.spawn(e,t),a=cc.callFunc(function(){this.mouseSpine("win"),game.EventManager.getInstance().raiseEvent(r.mouseEvent.OPACITY_END),this.p_nodeWinAni.node.active=!1}.bind(this));this.p_nodeWinAni.node.runAction(cc.sequence(o,n,a))}},t.prototype.beishukAnimation=function(){if(this.mouseState=2,0!=c.default.eliminateTime){var e=cc.scaleTo(.2,3),t=cc.moveBy(.1,cc.v2(0,15)),n=cc.moveBy(.1,cc.v2(0,-15)),o=cc.moveBy(.1,cc.v2(-15,0)),a=cc.moveBy(.1,cc.v2(15,0)),i=cc.moveBy(.1,cc.v2(0,15)),r=cc.moveBy(.1,cc.v2(0,-15)),s=cc.moveBy(.1,cc.v2(15,0)),l=cc.moveBy(.1,cc.v2(-15,0)),p=cc.callFunc(function(){this.mouseSpine("collect");var e=this.beishuk.parent.convertToWorldSpaceAR(this.beishuk.position),t=cc.Canvas.instance.node.convertToNodeSpaceAR(e),n=cc.Canvas.instance.node;this.beishuk.parent=n,this.beishuk.scale=1.2,this.beishuk.zIndex=slot.LayerManage.effect+1,this.beishuk.setPosition(cc.v2(t.x,t.y));var o=cc.scaleTo(.2,.55),a=cc.scaleTo(.2,.65);this.node.runAction(cc.sequence(o,a))}.bind(this)),h=cc.moveBy(.4,cc.v2(0,750)),_=cc.scaleTo(.2,.8,1.4),d=cc.scaleTo(.2,1.4,1.4),u=cc.sequence(_,d),g=cc.spawn(h,u),m=cc.callFunc(function(){}.bind(this));this.beishuk.runAction(cc.sequence(e,t,n,o,a,i,r,s,l,p,g,m))}},t.prototype.beishukBackAnimation=function(){if(0!=c.default.eliminateTime){var e=cc.moveBy(.4,cc.v2(0,-750)),t=cc.scaleTo(.2,.8,1.4),n=cc.scaleTo(.2,1.4,1.4),o=cc.sequence(t,n),a=cc.spawn(e,o),i=cc.callFunc(function(){this.beishuk.parent=this.beishukParentNode,this.beishuk.scale=2.7,this.beishuk.setPosition(cc.v2(this.beishukStartPos.x,this.beishukStartPos.y)),this.beishuk.zIndex=this.p_nodeWinAni.zIndex-1,this.p_nodeWinAni.zIndex=this.beishuk.zIndex+9}.bind(this));this.beishuk.runAction(cc.sequence(a,i))}},t.prototype.mouseComeBackAni=function(){if(2!=this.mouseState){var e=cc.moveBy(.1,cc.v2(0,20)),t=cc.moveBy(.2,cc.v2(0,-60)),n=cc.callFunc(function(){this.node.setPosition(this.boardPos),this.node.opacity=0,this.mouseState=0}.bind(this));this.node.runAction(cc.sequence(e,t,n))}},t.prototype.onDestroy=function(){game.EventManager.getInstance().removeEventListener(r.mouseEvent.GET_REWARD_AND_POP_TIME,this.mouseEvent,this),game.EventManager.getInstance().removeEventListener(r.mouseEvent.GET_REWARD_BEFOR,this.boardAndLaybelEvnt,this),game.EventManager.getInstance().removeEventListener(r.mouseEvent.INIT_TO_FREE_GAME,this.beishukAnimation,this),game.EventManager.getInstance().removeEventListener(r.mouseEvent.FREE_GAME_CLOSE,this.beishukBackAnimation,this),game.EventManager.getInstance().removeEventListener(r.mouseEvent.NORMAL_RECONNECTION_DATA,this.reconnetion,this),game.EventManager.getInstance().removeEventListener(r.EventName.EVENT_STOP_WIN_NUM,this.mouseComeBackAni,this),game.EventManager.getInstance().removeEventListener(r.EventName.FREE_GAME_OVER,this._onFreeGameOver,this)},i([h(s.default)],t.prototype,"p_nodeWin",void 0),i([h(s.default)],t.prototype,"p_nodeWinAni",void 0),i([h(cc.Node)],t.prototype,"beishuk",void 0),i([h(cc.Node)],t.prototype,"beishukAni",void 0),i([p],t)}(cc.Component);n.default=_,cc._RF.pop()},{"../GameEventName111004401":"GameEventName111004401","../main/CommonNumAtlas111004401":"CommonNumAtlas111004401","../tool/Tool":"Tool"}],carImageCtrl:[function(e,t,n){"use strict";cc._RF.push(t,"7f56622W7xDS7SDSVgAEiAv","carImageCtrl");var o,a=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__decorate||function(e,t,n,o){var a,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(i<3?a(r):i>3?a(t,n,r):a(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=e("../GameEventName111004401"),s=cc._decorator,c=s.ccclass,l=s.property,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.spriteFrame=[],t}return a(t,e),t.prototype.onLoad=function(){game.EventManager.getInstance().addEventListener(r.CabdyEvent.EVENT_CHANGE_IMAGE,this.changeImage,this)},t.prototype.onDestroy=function(){game.EventManager.getInstance().removeEventListener(r.CabdyEvent.EVENT_CHANGE_IMAGE,this.changeImage,this)},t.prototype.changeImage=function(e,t,n){t.getComponent(cc.Sprite).spriteFrame=this.spriteFrame[n-1]},t.prototype.start=function(){},i([l([cc.SpriteFrame])],t.prototype,"spriteFrame",void 0),i([c],t)}(cc.Component);n.default=p,cc._RF.pop()},{"../GameEventName111004401":"GameEventName111004401"}],coreCote:[function(e,t,n){"use strict";cc._RF.push(t,"33955n68BxK/4tjjhxEYWXV","coreCote");var o,a=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__decorate||function(e,t,n,o){var a,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(i<3?a(r):i>3?a(t,n,r):a(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=e("../GameEventName111004401"),s=cc._decorator,c=s.ccclass,l=(s.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.animationName=["a","b","c"],t.totalCoin=0,t}return a(t,e),t.prototype.start=function(){game.EventManager.getInstance().addEventListener(r.mouseEvent.GET_RAWARD_FOOD,this.coreCoteListener,this),game.EventManager.getInstance().addEventListener(r.EventName.EVENT_STOP_WIN_NUM,this.rollerStart,this),game.EventManager.getInstance().addEventListener(r.mouseEvent.NORMAL_RECONNECTION_DATA,this.reconnetion,this),game.EventManager.getInstance().addEventListener(r.mouseEvent.FREE_RECONNECTION_DATA,this.freeReconnetion,this),game.EventManager.getInstance().addEventListener(slot.GameEventNames.EVENT_UPDATE_WIN_ANI_END,this.playStrawberryBg,this)},t.prototype.freeReconnetion=function(e,t){t=t.handleState.game_10017.data.resultList,this.reconnetion(e,t)},t.prototype.reconnetion=function(e,t){for(var n=Number(slot.SlotUtils.formatNumber(slot.SpinManager.instance.betCost)),o=0,a=t,i=0;i<a.length;i++){var r=a[i].spinResult.spinCoin.low;this.totalCoin+=r}this.totalCoin/n>=5&&(o=1);var s="ib_bar_"+this.animationName[o]+"_"+this.node.name;this.setNodeOpacity(255),this.coreCoteSpineCtrl(s)},t.prototype.coreCoteListener=function(e,t,n,o){var a=0,i=null,r=Number(slot.SlotUtils.formatNumber(slot.SpinManager.instance.betCost));if(o[t]){i=Number(slot.SlotUtils.formatNumber(o[t].spinResult.spinCoin.low)),this.totalCoin+=i,this.totalCoin/r>=5&&(a=1);var s="ib_bar_"+this.animationName[a]+"_"+this.node.name;this.setNodeOpacity(255),this.coreCoteSpineCtrl(s)}},t.prototype.rollerStart=function(){this.totalCoin=0,this.fadOutAnimation()},t.prototype.fadOutAnimation=function(){slot.SoundMger.instance.stopEffect(r.SOUND_NAME.Textbox_Coin);var e=cc.fadeOut(.5),t=cc.callFunc(function(){}.bind(this));this.node.runAction(cc.sequence(e,t))},t.prototype.playStrawberryBg=function(){this.coreCoteSpineCtrl("ib_bar_"+this.animationName[2]+"_"+this.node.name)},t.prototype.setNodeOpacity=function(e){this.node.opacity=e},t.prototype.coreCoteSpineCtrl=function(e){var t=this.node.getComponent(sp.Skeleton);t.setAnimation(0,e,!1),t.setEndListener(function(){}.bind(this))},t.prototype.onDestroy=function(){game.EventManager.getInstance().removeEventListener(r.mouseEvent.GET_REWARD_AND_POP_TIME,this.coreCoteListener,this),game.EventManager.getInstance().removeEventListener(r.EventName.EVENT_STOP_WIN_NUM,this.rollerStart,this),game.EventManager.getInstance().removeEventListener(r.mouseEvent.FREE_RECONNECTION_DATA,this.freeReconnetion,this),game.EventManager.getInstance().removeEventListener(slot.GameEventNames.EVENT_UPDATE_WIN_ANI_END,this.playStrawberryBg,this)},i([c],t)}(cc.Component));n.default=l,cc._RF.pop()},{"../GameEventName111004401":"GameEventName111004401"}],femaleMouseCtrl:[function(e,t,n){"use strict";cc._RF.push(t,"fcc38uaRO5LP6DnsWIZ4aZj","femaleMouseCtrl");var o,a=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__decorate||function(e,t,n,o){var a,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(i<3?a(r):i>3?a(t,n,r):a(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=e("../GameEventName111004401"),s=e("../tool/Tool"),c=e("./mouseBase"),l=cc._decorator,p=l.ccclass,h=l.property,_=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.test=null,t.test2=null,t.mouseNumber=null,t.isInRollSpeed=!1,t}return a(t,e),t.prototype.start=function(){game.EventManager.getInstance().addEventListener(r.mouseEvent.CLEAR_MOUSE_MOVE,this.clearMouseMove,this),game.EventManager.getInstance().addEventListener(r.mouseEvent.GET_REWARD_BEGAN,this.checkIsPrizeAndPlayAni,this),game.EventManager.getInstance().addEventListener(r.mouseEvent.GET_FREE_REWARD_BEGAN_MOUSE_BG,this.playInFreeAni,this),game.EventManager.getInstance().addEventListener(r.mouseEvent.ROLL_ANI_START_WHO,this.playRollAniEvent,this),game.EventManager.getInstance().addEventListener(r.mouseEvent.PLAY_ROLL_ANI_BEGAN,this.playRollAni,this),game.EventManager.getInstance().addEventListener(r.mouseEvent.PLAY_ROLL_ANI_END,this.stopRollAni,this),game.EventManager.getInstance().addEventListener(r.mouseEvent.ROLL_ANI_END,this.rollAniEnd,this),game.EventManager.getInstance().addEventListener(r.mouseEvent.MOUSE_MOVE_POS,this.rollStartMouseMove,this),game.EventManager.getInstance().addEventListener(slot.GameEventNames.EVENT_STOP_SLOT_MACHINE_IMMEDIATELY,this.event_stop_slot_machine_immediately,this)},t.prototype.checkIsPrizeAndPlayAni=function(){var e=this;if(this.getMoveDataArrByRespForNormal(s.default.totalEliminateTime)!=this.currentRewardPos){var t=0;this.mouseSpineCtrl("win",!1,function(){if(0==t){var n=cc.delayTime(.2),o=cc.callFunc(function(){this.mouseSpineCtrl("win",!1),t++}.bind(e));e.mouse.runAction(cc.sequence(n,o))}})}},t.prototype.playRollAniEvent=function(e,t){t>s.default.getLineNumberByPos(this.currentPos)&&!this.isInRollSpeed&&(this.playRollAni(),this.isInRollSpeed=!0)},t.prototype.playRollAni=function(){this.mouseBgRotateSpineCtrl("animation_back_loop",!0),this.mouseBigPlistSpineCtrl("animation_front_loop",!0),this.scaleAnimation()},t.prototype.stopRollAni=function(){this.stopScaleAnimation(),this.wild_win.active=!1,this.wild_win_front.active=!1},t.prototype.rollAniEnd=function(){this.stopScaleAnimation(),this.wild_win_front.active=!1,this.wild_win.active=!1,this.isInRollSpeed=!1},t.prototype.event_stop_slot_machine_immediately=function(){var e=this;this.scheduleOnce(function(){e.rollAniEnd()},.1)},t.prototype.playInFreeAni=function(){var e=this;this.mouseBgRotateSpineCtrl("animation_back",!1,function(){e.wild_win.active=!1}),this.mouseBigPlistSpineCtrl("animation_front",!1,function(){e.wild_win_front.active=!1})},t.prototype.rollStartMouseMove=function(){2==s.default.respData.state&&this.clearMouseMove("\u514d\u8d39\u6e38\u620f\u5185\u79fb\u52a8",s.default.totalEliminateTime,!0)},t.prototype.clearMouseMove=function(e,t,n){var o=this;if(void 0===n&&(n=null),this.rate=500,null!=this.mouseNumber){var a=0;n?a=this.getMoveDataArrByRespForFree():(this.changeSelfIndex(t),a=this.getMoveDataArrByRespForNormal(t)),this.mouseMove(a,function(){},function(){var e=cc.delayTime(0),t=cc.delayTime(.2),n=cc.callFunc(function(){this.checkThatTimeIsLastTime(),a!=this.currentPos&&(this.mouseLightSpineCtrl(!1),this.mouseBgSpineCtrl("wild_move_back",!1))}.bind(o)),i=cc.callFunc(function(){game.EventManager.getInstance().raiseEvent(r.mouseEvent.MOUSE_MOVE_END)}.bind(o));o.node.runAction(cc.sequence(e,n,t,i))},function(e){s.default.addClearBgLight(a-1);for(var t=0;t<e[0];t++){var n=cc.delayTime(e[1]+t*e[1]),i=cc.callFunc(function(){slot.SoundMger.instance.playEffect(r.SOUND_NAME.Role_Win_Move,!1)}.bind(o));o.node.runAction(cc.sequence(n,i))}},function(){console.log("ywb\u6d88\u9664\u540e\u5730\u9f20\u79fb\u52a8",a)})}},t.prototype.checkThatTimeIsLastTime=function(){var e=s.default.respData.updateList[0].value.handleState.game_10017.data.resultList;this.test2.string=String(s.default.totalEliminateTime)+"-"+String(e.length-1),s.default.totalEliminateTime==e.length-1&&this.changeSelfIndex(s.default.totalEliminateTime,!0)},t.prototype.changeSelfIndex=function(e,t){void 0===t&&(t=null);var n=s.default.respData.updateList[0].value.handleState.game_10017.data.resultList,o=[];t?o=n[e].crushMoveGrid:n[e]&&(o=n[e].crushFixedGophersGrid);for(var a=0;a<o.length;a++)o[a].pos==this.currentPos&&(this.mouseNumber=a,this.test.string=String(a))},t.prototype.getMoveDataArrByRespForNormal=function(e){return s.default.respData.updateList[0].value.handleState.game_10017.data.resultList[e].crushMoveGrid[this.mouseNumber].pos},t.prototype.getMoveDataArrByRespForFree=function(){return s.default.respData.updateList[0].value.handleState.game_10017.data.fixedGophersGrid[this.mouseNumber].pos},t.prototype.onDestroy=function(){game.EventManager.getInstance().removeEventListener(r.mouseEvent.CLEAR_MOUSE_MOVE,this.clearMouseMove,this),game.EventManager.getInstance().removeEventListener(r.mouseEvent.GET_REWARD_BEGAN,this.checkIsPrizeAndPlayAni,this),game.EventManager.getInstance().removeEventListener(r.mouseEvent.GET_FREE_REWARD_BEGAN_MOUSE_BG,this.playInFreeAni,this),game.EventManager.getInstance().removeEventListener(r.mouseEvent.ROLL_ANI_START_WHO,this.playRollAniEvent,this),game.EventManager.getInstance().removeEventListener(r.mouseEvent.ROLL_ANI_END,this.rollAniEnd,this),game.EventManager.getInstance().removeEventListener(r.mouseEvent.MOUSE_MOVE_POS,this.rollStartMouseMove,this),game.EventManager.getInstance().removeEventListener(r.mouseEvent.PLAY_ROLL_ANI_BEGAN,this.playRollAni,this),game.EventManager.getInstance().removeEventListener(r.mouseEvent.PLAY_ROLL_ANI_END,this.stopRollAni,this),game.EventManager.getInstance().removeEventListener(slot.GameEventNames.EVENT_STOP_SLOT_MACHINE_IMMEDIATELY,this.event_stop_slot_machine_immediately,this)},i([h(cc.Label)],t.prototype,"test",void 0),i([h(cc.Label)],t.prototype,"test2",void 0),i([p],t)}(c.default);n.default=_,cc._RF.pop()},{"../GameEventName111004401":"GameEventName111004401","../tool/Tool":"Tool","./mouseBase":"mouseBase"}],freeAddTimeNodeCtrl:[function(e,t,n){"use strict";cc._RF.push(t,"4ff9dC1FLtFNJ5NeslxelzP","freeAddTimeNodeCtrl");var o,a=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__decorate||function(e,t,n,o){var a,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(i<3?a(r):i>3?a(t,n,r):a(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,c=r.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.spriteFrame=[],t.sprite=null,t}return a(t,e),t.prototype.start=function(){},t.prototype.changeNodeSpritFrame=function(e){this.sprite.spriteFrame=this.spriteFrame[Number(e)-1]},i([c([cc.SpriteFrame])],t.prototype,"spriteFrame",void 0),i([c(cc.Sprite)],t.prototype,"sprite",void 0),i([s],t)}(cc.Component);n.default=l,cc._RF.pop()},{}],horseLightCtrl:[function(e,t,n){"use strict";cc._RF.push(t,"a5d20hMnnpHCLmAKZF42eV3","horseLightCtrl");var o,a=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__decorate||function(e,t,n,o){var a,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(i<3?a(r):i>3?a(t,n,r):a(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=e("../tool/Tool"),s=cc._decorator,c=s.ccclass,l=s.property,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.spriteFrame=[],t.en=[],t.th=[],t.id=[],t.sv=[],t.da=[],t.startPos=cc.v2(0,0),t.randomNumberCtrl=null,t.chooseLanguageSp=null,t}return a(t,e),t.prototype.onLoad=function(){switch(slot.GData.curLanguage){case"zh":this.chooseLanguageSp=this.spriteFrame;break;case"en":this.chooseLanguageSp=this.en;break;case"th":this.chooseLanguageSp=this.th;break;case"id":this.chooseLanguageSp=this.id;break;case"sv":this.chooseLanguageSp=this.sv;break;case"da":this.chooseLanguageSp=this.da;break;default:this.chooseLanguageSp=this.en}this.startPos=cc.v2(this.node.x,this.node.y)},t.prototype.start=function(){this.horseLightCtrl(),this.schedule(this.horseLightCtrl,8)},t.prototype.horstActive=function(e,t){this.randomNumberCtrl=t,this.horseLightCtrl()},t.prototype.horstactivector=function(e,t){0==t?this.closehors():this.opensehors()},t.prototype.closehors=function(){this.node.opacity=0},t.prototype.opensehors=function(){this.node.opacity=255},t.prototype.rollStop=function(){this.randomNumberCtrl=null,this.horseLightCtrl()},t.prototype.horseLightCtrl=function(){this.node.setPosition(this.startPos);var e=slot.MathUtil.getRandomRange(1,6,!0),t=slot.MathUtil.getRandomRange(0,1,!0);null!=this.randomNumberCtrl&&(e=this.randomNumberCtrl),r.default.respData&&2==r.default.respData.state&&(e=0==t?0:6),this.node.getComponent(cc.Sprite).spriteFrame=this.chooseLanguageSp[e],this.node.stopAllActions(),e>=3&&e<=4&&this.horseLightAni()},t.prototype.horseLightAni=function(){this.node.x+=50,this.node.stopAllActions();var e=cc.delayTime(2),t=cc.moveBy(5,cc.v2(-800,0)),n=cc.callFunc(function(){}.bind(this));this.node.runAction(cc.sequence(e,t,n))},t.prototype.onDestroy=function(){},i([l([cc.SpriteFrame])],t.prototype,"spriteFrame",void 0),i([l([cc.SpriteFrame])],t.prototype,"en",void 0),i([l([cc.SpriteFrame])],t.prototype,"th",void 0),i([l([cc.SpriteFrame])],t.prototype,"id",void 0),i([l([cc.SpriteFrame])],t.prototype,"sv",void 0),i([l([cc.SpriteFrame])],t.prototype,"da",void 0),i([c],t)}(cc.Component);n.default=p,cc._RF.pop()},{"../tool/Tool":"Tool"}],imgeffectCtral:[function(e,t,n){"use strict";cc._RF.push(t,"7da26FoxCNOw7XyUkm2mF6k","imgeffectCtral");var o,a=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__decorate||function(e,t,n,o){var a,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(i<3?a(r):i>3?a(t,n,r):a(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,c=r.property,l=e("../GameEventName111004401"),p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.spriteFrame=[],t}return a(t,e),t.prototype.changeImage=function(e,t,n){t.getComponent(cc.Sprite).spriteFrame=this.spriteFrame[n-1]},t.prototype.onLoad=function(){game.EventManager.getInstance().addEventListener(l.CabdyEvent.EVENT_CHANGE_IMAGE_ID,this.changeImage,this)},t.prototype.onDestroy=function(){game.EventManager.getInstance().removeEventListener(l.CabdyEvent.EVENT_CHANGE_IMAGE_ID,this.changeImage,this)},t.prototype.start=function(){},i([c([cc.SpriteFrame])],t.prototype,"spriteFrame",void 0),i([s],t)}(cc.Component);n.default=p,cc._RF.pop()},{"../GameEventName111004401":"GameEventName111004401"}],lightFrameCtrl:[function(e,t,n){"use strict";cc._RF.push(t,"d516cDkCGdOpbn7UcAm5/X6","lightFrameCtrl");var o,a=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__decorate||function(e,t,n,o){var a,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(i<3?a(r):i>3?a(t,n,r):a(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=e("../GameEventName111004401"),s=cc._decorator,c=s.ccclass,l=(s.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype.onLoad=function(){game.EventManager.getInstance().addEventListener(r.mouseEvent.PLAY_BURST_ANI_BEGAN,this.setLightOpacity,this)},t.prototype.start=function(){},t.prototype.setLightOpacity=function(){this.node.opacity=0},t.prototype.onDestroy=function(){},t.prototype.update=function(){game.EventManager.getInstance().addEventListener(r.mouseEvent.PLAY_BURST_ANI_BEGAN,this.setLightOpacity,this)},i([c],t)}(cc.Component));n.default=l,cc._RF.pop()},{"../GameEventName111004401":"GameEventName111004401"}],lineNodeCtrl:[function(e,t,n){"use strict";cc._RF.push(t,"964970RvfNK8Jmxh5HnMsH8","lineNodeCtrl");var o,a=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__decorate||function(e,t,n,o){var a,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(i<3?a(r):i>3?a(t,n,r):a(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=e("../GameEventName111004401"),s=cc._decorator,c=s.ccclass,l=(s.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype.start=function(){game.EventManager.getInstance().addEventListener(r.mouseEvent.ANIMATION_STOP_CALL_BACK,this.lineNodeCtrl,this)},t.prototype.lineNodeCtrl=function(){this.node.children.forEach(function(e){e.opacity=0})},t.prototype.onDestroy=function(){game.EventManager.getInstance().removeEventListener(r.mouseEvent.ANIMATION_STOP_CALL_BACK,this.lineNodeCtrl,this)},i([c],t)}(cc.Component));n.default=l,cc._RF.pop()},{"../GameEventName111004401":"GameEventName111004401"}],mouseBase:[function(e,t,n){"use strict";cc._RF.push(t,"30983zTFThPQZi6x0pI3ou9","mouseBase");var o,a=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__decorate||function(e,t,n,o){var a,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(i<3?a(r):i>3?a(t,n,r):a(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=e("../GameEventName111004401"),s=cc._decorator,c=s.ccclass,l=s.property,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.mouse=null,t.wild_move=null,t.light=null,t.wild_win=null,t.wild_win_front=null,t.mouseSkeleton=null,t.currentPos=0,t.currentRewardPos=0,t.rate=0,t.fastBtnState=2,t}return a(t,e),t.prototype.onLoad=function(){"zh"!=slot.GData.curLanguage&&(this.mouse.getComponent(sp.Skeleton).skeletonData=this.mouseSkeleton)},t.prototype.start=function(){},t.prototype.mouseMove=function(e,t,n,o,a){void 0===t&&(t=null),void 0===n&&(n=null),void 0===o&&(o=null),void 0===a&&(a=null);var i=slot.SlotMachineView.instance.getPosByIndex(e-1);if(i)if(1==this.fastBtnState)this.node.setPosition(i),game.EventManager.getInstance().raiseEvent(r.mouseEvent.MOUSE_BIG_MOVE_END),this.mouseSpineCtrl("idle",!1);else{"function"==typeof t&&t(),this.currentPos=e,this.currentRewardPos=e;var s=this.getAllCellNumber(Math.abs(i.x-this.node.x),Math.abs(i.y-this.node.y)),c=cc.delayTime(1),l=cc.callFunc(function(){"function"==typeof o&&o(s)}.bind(this)),p=cc.moveBy(this.getTimeByRate(Math.abs(i.x-this.node.x)),cc.v2(i.x-this.node.x,0)),h=cc.moveBy(this.getTimeByRate(Math.abs(i.y-this.node.y)),cc.v2(0,i.y-this.node.y)),_=cc.callFunc(function(){"function"==typeof n&&n()}.bind(this));this.node.runAction(cc.sequence(c,l,p,h,_))}else"function"==typeof t&&t(),console.log("ywb\u670d\u52a1\u7aef\u6570\u636e\u5f02\u5e38",e,i)},t.prototype.mouseLightSpineCtrl=function(e,t){var n=this;void 0===t&&(t=null);var o=this.light.getComponent(sp.Skeleton);this.light.active=!0,o.setAnimation(0,"wild_move_front",e),o.setCompleteListener(function(){n.light.active=!1,"function"==typeof t&&t()})},t.prototype.mouseBgSpineCtrl=function(e,t){var n=this,o=this.wild_move.getComponent(sp.Skeleton);this.wild_move.active=!0,o.setAnimation(0,e,t),o.setCompleteListener(function(){n.wild_move.active=!1})},t.prototype.mouseBgRotateSpineCtrl=function(e,t,n){void 0===n&&(n=null);var o=this.wild_win.getComponent(sp.Skeleton);this.wild_win.active=!0,o.setAnimation(0,e,t),o.setCompleteListener(function(){"function"==typeof n&&n()})},t.prototype.mouseBigPlistSpineCtrl=function(e,t,n){void 0===n&&(n=null);var o=this.wild_win_front.getComponent(sp.Skeleton);this.wild_win_front.active=!0,o.setAnimation(0,e,t),o.setCompleteListener(function(){"function"==typeof n&&n()})},t.prototype.mouseSpineCtrl=function(e,t,n){void 0===n&&(n=null);var o=this.mouse.getComponent(sp.Skeleton);o.setAnimation(0,e,t),o.setCompleteListener(function(){"function"==typeof n&&n()})},t.prototype.scaleAnimation=function(){var e=cc.scaleTo(.4,1.1),t=cc.scaleTo(.4,1),n=cc.sequence(e,t);this.mouse.runAction(cc.repeatForever(n))},t.prototype.stopScaleAnimation=function(){this.mouse.stopAllActions(),this.mouse.scale=1},t.prototype.getTimeByRate=function(e){return e/this.rate},t.prototype.getAllCellNumber=function(e,t){var n=e+t,o=Math.floor(n/106);return[o,this.getTimeByRate(n)/o]},t.prototype.onDestroy=function(){game.EventManager.getInstance().removeEventListener(r.mouseEvent.ROLL_ANI_END,this.rollAniEnd,this)},i([l(cc.Node)],t.prototype,"mouse",void 0),i([l(cc.Node)],t.prototype,"wild_move",void 0),i([l(cc.Node)],t.prototype,"light",void 0),i([l(cc.Node)],t.prototype,"wild_win",void 0),i([l(cc.Node)],t.prototype,"wild_win_front",void 0),i([l(sp.SkeletonData)],t.prototype,"mouseSkeleton",void 0),i([c],t)}(cc.Component);n.default=p,cc._RF.pop()},{"../GameEventName111004401":"GameEventName111004401"}],mouseCtrl:[function(e,t,n){"use strict";cc._RF.push(t,"f9852Dsc3FNToYg37MLc14i","mouseCtrl");var o,a=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__decorate||function(e,t,n,o){var a,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(i<3?a(r):i>3?a(t,n,r):a(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=e("../GameEventName111004401"),s=e("../tool/Tool"),c=e("./mouseBase"),l=cc._decorator,p=l.ccclass,h=l.property,_=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.baiDaLight=null,t.test=null,t.takeDataBool=!0,t.targetPos=null,t.isInRollSpeed=!1,t}return a(t,e),t.prototype.start=function(){game.EventManager.getInstance().addEventListener(r.mouseEvent.MOUSE_MOVE_POS,this.rollStartMouseMove,this),game.EventManager.getInstance().addEventListener(r.mouseEvent.INIT_MOUSE_MOVE_POS,this.initMouseCurrentPos,this),game.EventManager.getInstance().addEventListener(r.mouseEvent.INIT_MOUSE_MOVE_POS_REWARD,this.initMouseCurrentPosReward,this),game.EventManager.getInstance().addEventListener(r.mouseEvent.CLEAR_MOUSE_MOVE,this.clearMouseMove,this),game.EventManager.getInstance().addEventListener(r.mouseEvent.GET_REWARD_BEGAN,this.checkIsPrizeAndPlayAni,this),game.EventManager.getInstance().addEventListener(r.mouseEvent.GET_FREE_REWARD_BEGAN_MOUSE_BG,this.playInFreeAni,this),game.EventManager.getInstance().addEventListener(r.mouseEvent.ROLL_ANI_START_WHO,this.playRollAniEvent,this),game.EventManager.getInstance().addEventListener(r.mouseEvent.ROLL_ANI_END,this.rollAniEnd,this),game.EventManager.getInstance().addEventListener(r.mouseEvent.PLAY_ROLL_ANI_BEGAN,this.playRollAni,this),game.EventManager.getInstance().addEventListener(r.mouseEvent.PLAY_ROLL_ANI_END,this.stopRollAni,this),game.EventManager.getInstance().addEventListener(r.mouseEvent.NOT_HAVE_MONY_OPEN_ROLL,this.notHaveMonyRun,this),game.EventManager.getInstance().addEventListener(slot.GameEventNames.EVENT_STOP_SLOT_MACHINE_IMMEDIATELY,this.event_stop_slot_machine_immediately,this)},t.prototype.initMouseCurrentPos=function(e,t){this.currentPos=t},t.prototype.initMouseCurrentPosReward=function(e,t){this.currentRewardPos=t},t.prototype.playRollAniEvent=function(e,t){t>s.default.getLineNumberByPos(this.currentPos)&&!this.isInRollSpeed&&(this.playRollAni(),this.isInRollSpeed=!0),this.currentPos},t.prototype.playRollAni=function(){this.mouseBgRotateSpineCtrl("animation_back_loop",!0),this.mouseBigPlistSpineCtrl("animation_front_loop",!0),this.scaleAnimation()},t.prototype.stopRollAni=function(){this.stopScaleAnimation(),this.wild_win.active=!1,this.wild_win_front.active=!1},t.prototype.notHaveMonyRun=function(){this.node.stopAllActions(),this.rate=300;var e=!0,t=slot.SlotMachineView.instance.getPosByIndex(0),n=this.getTimeByRate(Math.abs(t.x-this.node.x))+this.getTimeByRate(Math.abs(t.y-this.node.y)),o=cc.delayTime(n+.4),a=cc.delayTime(2.2),i=cc.delayTime(2.2),r=cc.delayTime(2.2),s=cc.callFunc(function(){var t=this;this.baseMouseMove(1,function(){e&&(e=!1,t.wild_move.active=!0,t.baiDaLight.active=!0,t.mouseSpineCtrl("burrow_start",!1),t.mouseBgSpineCtrl("wild_fastmove_back",!1))})}.bind(this)),c=cc.callFunc(function(){this.moveToAct(7)}.bind(this)),l=cc.callFunc(function(){this.moveToAct(49)}.bind(this)),p=cc.callFunc(function(){this.moveToAct(43)}.bind(this)),h=cc.sequence(s,o,c,a,l,i,p,r);this.node.runAction(cc.repeatForever(h))},t.prototype.moveToAct=function(e){var t=slot.SlotMachineView.instance.getPosByIndex(e-1),n=cc.moveTo(2.12,cc.v2(t.x,t.y));this.node.runAction(n)},t.prototype.baseMouseMove=function(e,t,n){var o=this;void 0===t&&(t=null),void 0===n&&(n=null),this.mouseMove(e,function(){"function"==typeof t&&t()},function(){"function"==typeof n&&n()},function(e){for(var t=function(t){var n=cc.delayTime(e[1]+t*e[1]),a=cc.callFunc(function(){this.mouseBgSpineCtrl("wild_fastmove_back",!1),slot.SoundMger.instance.playEffect(r.SOUND_NAME.Role_Move,!1),t==e[0]-1&&(this.wild_move.active=!1)}.bind(o));o.node.runAction(cc.sequence(n,a))},n=0;n<e[0];n++)t(n)})},t.prototype.btnCloseCallBack=function(){var e=this;this.baseMouseMove(25,function(){e.node.stopAllActions()},function(){e.baiDaLight.active=!1,e.mouseLightSpineCtrl(!1),e.mouseSpineCtrl("burrow_exit",!1),game.EventManager.getInstance().raiseEvent(r.mouseEvent.MOUSE_BIG_MOVE_END)})},t.prototype.rollAniEnd=function(){this.stopScaleAnimation(),this.wild_win_front.active=!1,this.wild_win.active=!1,this.isInRollSpeed=!1},t.prototype.checkIsPrizeAndPlayAni=function(){var e=this;if(this.getMoveDataArrByResp(s.default.totalEliminateTime,9)!=this.currentRewardPos){var t=0;this.mouseSpineCtrl("win",!1,function(){if(0==t){var n=cc.delayTime(.2),o=cc.callFunc(function(){this.mouseSpineCtrl("win",!1),t++}.bind(e));e.mouse.runAction(cc.sequence(n,o))}})}},t.prototype.event_stop_slot_machine_immediately=function(){var e=this;this.scheduleOnce(function(){e.node.stopAllActions(),e.stopScaleAnimation(),e.wild_move.active=!1,e.baiDaLight.active=!1,game.EventManager.getInstance().raiseEvent(r.mouseEvent.MOUSE_BIG_MOVE_END);var t=slot.SlotMachineView.instance.getPosByIndex(e.targetPos-1);e.node.setPosition(t),e.rollAniEnd(),e.mouseSpineCtrl("idle",!1)},.1)},t.prototype.playInFreeAni=function(){var e=this;this.mouseBgRotateSpineCtrl("animation_back",!1,function(){e.wild_win.active=!1}),this.mouseBigPlistSpineCtrl("animation_front",!1,function(){e.wild_win_front.active=!1})},t.prototype.rollStartMouseMove=function(){var e=this,t=0;if(1==s.default.respData.state){for(var n=s.default.respData.updateList[0].value.handleState.game_10017.data.fixedGophersGrid,o=0;o<n.length;o++){var a=n[o];9==a.elem&&(t=a.pos)}this.mouseMoveInNormal(t)}else this.clearMouseMove("\u514d\u8d39\u79fb\u52a8",s.default.totalEliminateTime,function(){},function(){var t=cc.delayTime(.2),n=cc.callFunc(function(){game.EventManager.getInstance().raiseEvent(r.mouseEvent.MOUSE_BIG_MOVE_END)}.bind(e));e.node.runAction(cc.sequence(t,n))},!0)},t.prototype.mouseMoveInNormal=function(e){var t=this;this.rate=300,this.fastBtnState=slot.GameControlBase.instance.fastBtnState;var n=!1;this.targetPos=e,e==this.currentPos&&(n=!0),this.mouseMove(e,function(){t.node.stopAllActions(),t.wild_move.active=!0,t.baiDaLight.active=!0,t.mouseSpineCtrl("burrow_start",!1),t.mouseBgSpineCtrl("wild_fastmove_back",!1)},function(){if(n){var o,a=slot.MathUtil.getRandomRange(1,e-1,!0),i=slot.MathUtil.getRandomRange(e+1,49,!0);o=a==e?i:a,t.mouseMove(o,function(){},function(){t.mouseMove(e,function(){},function(){game.EventManager.getInstance().raiseEvent(r.mouseEvent.MOUSE_BIG_MOVE_END),t.baiDaLight.active=!1,t.mouseLightSpineCtrl(!1),t.mouseSpineCtrl("burrow_exit",!1)},function(e){for(var n=function(n){var o=cc.delayTime(e[1]+n*e[1]),a=cc.callFunc(function(){this.mouseBgSpineCtrl("wild_fastmove_back",!1),slot.SoundMger.instance.playEffect(r.SOUND_NAME.Role_Move,!1),n==e[0]-1&&(this.wild_move.active=!1)}.bind(t));t.node.runAction(cc.sequence(o,a))},o=0;o<e[0];o++)n(o)})},function(e){for(var n=function(n){var o=cc.delayTime(e[1]+n*e[1]),a=cc.callFunc(function(){this.mouseBgSpineCtrl("wild_fastmove_back",!1),slot.SoundMger.instance.playEffect(r.SOUND_NAME.Role_Move,!1),n==e[0]-1&&(this.wild_move.active=!1)}.bind(t));t.node.runAction(cc.sequence(o,a))},o=0;o<e[0];o++)n(o)})}else game.EventManager.getInstance().raiseEvent(r.mouseEvent.MOUSE_BIG_MOVE_END),t.baiDaLight.active=!1,t.mouseLightSpineCtrl(!1),t.mouseSpineCtrl("burrow_exit",!1)},function(e){for(var n=function(n){var o=cc.delayTime(e[1]+n*e[1]),a=cc.callFunc(function(){this.mouseBgSpineCtrl("wild_fastmove_back",!1),slot.SoundMger.instance.playEffect(r.SOUND_NAME.Role_Move,!1),n==e[0]-1&&(this.wild_move.active=!1)}.bind(t));t.node.runAction(cc.sequence(o,a))},o=0;o<e[0];o++)n(o)})},t.prototype.clearMouseMove=function(e,t,n,o,a){var i=this;void 0===n&&(n=null),void 0===o&&(o=null),void 0===a&&(a=null),this.rate=500,this.fastBtnState=2;var c;c=a?this.getMoveDataArrByRespForFree(t,9):this.getMoveDataArrByResp(t,9),this.targetPos=c,console.log("ywb\u516c\u5730\u9f20\u5f53\u524d\u79fb\u52a8\u4f4d\u7f6e\uff1a",this.currentPos,"\u79fb\u52a8\u76ee\u6807\u4f4d\u7f6e\uff1a",c),this.mouseMove(c,function(){"function"==typeof n&&n()},function(){var e=cc.delayTime(0),t=cc.delayTime(.2),n=cc.callFunc(function(){this.mouseLightSpineCtrl(!1),this.mouseBgSpineCtrl("wild_move_back",!1)}.bind(i)),a=cc.callFunc(function(){game.EventManager.getInstance().raiseEvent(r.mouseEvent.MOUSE_MOVE_END)}.bind(i));"function"==typeof o&&o(),i.node.runAction(cc.sequence(e,n,t,a))},function(e){s.default.addClearBgLight(c-1);for(var t=0;t<e[0];t++){var n=cc.delayTime(e[1]+t*e[1]),o=cc.callFunc(function(){slot.SoundMger.instance.playEffect(r.SOUND_NAME.Role_Win_Move,!1)}.bind(i));i.node.runAction(cc.sequence(n,o))}})},t.prototype.assignmentCellData=function(){if(this.takeDataBool){var e=slot.SlotMachineView.instance.scroller.getRenderByIndex(1);this.cellHight=e.height,this.cellWidth=e.width,this.takeDataBool=!1}},t.prototype.getMoveDataArrByResp=function(e,t){for(var n=null,o=s.default.respData.updateList[0].value.handleState.game_10017.data.resultList[e].crushMoveGrid,a=0;a<o.length;a++)if(o[a].elem==t){n=o[a].pos;break}return n},t.prototype.getMoveDataArrByRespForFree=function(e,t){for(var n=s.default.respData.updateList[0].value.handleState.game_10017.data.fixedGophersGrid,o=null,a=0;a<n.length;a++)if(n[a].elem==t){o=n[a].pos,this.test.string=String(a);break}return o},t.prototype.onDestroy=function(){game.EventManager.getInstance().removeEventListener(r.mouseEvent.MOUSE_MOVE_POS,this.rollStartMouseMove,this),game.EventManager.getInstance().removeEventListener(r.mouseEvent.INIT_MOUSE_MOVE_POS_REWARD,this.initMouseCurrentPosReward,this),game.EventManager.getInstance().removeEventListener(r.mouseEvent.INIT_MOUSE_MOVE_POS,this.initMouseCurrentPos,this),game.EventManager.getInstance().removeEventListener(r.mouseEvent.CLEAR_MOUSE_MOVE,this.clearMouseMove,this),game.EventManager.getInstance().removeEventListener(r.mouseEvent.GET_REWARD_BEGAN,this.checkIsPrizeAndPlayAni,this),game.EventManager.getInstance().removeEventListener(r.mouseEvent.GET_FREE_REWARD_BEGAN_MOUSE_BG,this.playInFreeAni,this),game.EventManager.getInstance().removeEventListener(r.mouseEvent.ROLL_ANI_START_WHO,this.playRollAniEvent,this),game.EventManager.getInstance().removeEventListener(r.mouseEvent.ROLL_ANI_END,this.rollAniEnd,this),game.EventManager.getInstance().removeEventListener(r.mouseEvent.PLAY_ROLL_ANI_BEGAN,this.playRollAni,this),game.EventManager.getInstance().removeEventListener(r.mouseEvent.PLAY_ROLL_ANI_END,this.stopRollAni,this),game.EventManager.getInstance().removeEventListener(r.mouseEvent.NOT_HAVE_MONY_OPEN_ROLL,this.notHaveMonyRun,this),game.EventManager.getInstance().removeEventListener(slot.GameEventNames.EVENT_STOP_SLOT_MACHINE_IMMEDIATELY,this.event_stop_slot_machine_immediately,this)},i([h(cc.Node)],t.prototype,"baiDaLight",void 0),i([h(cc.Label)],t.prototype,"test",void 0),i([p],t)}(c.default);n.default=_,cc._RF.pop()},{"../GameEventName111004401":"GameEventName111004401","../tool/Tool":"Tool","./mouseBase":"mouseBase"}],test:[function(e,t,n){"use strict";cc._RF.push(t,"e2cfdqRi7RPVoO6BRrRZHNa","test");var o,a=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__decorate||function(e,t,n,o){var a,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(i<3?a(r):i>3?a(t,n,r):a(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,c=r.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.prefab=null,t.spF=null,t.node_cocos=null,t}return a(t,e),t.prototype.start=function(){},t.prototype.btn=function(){this.node_cocos.x=-500,this.node_cocos.getComponent(cc.Sprite).spriteFrame=this.spF,this.putNodeToPlayAction(this.node_cocos)},t.prototype.btn2=function(){},t.prototype.putNodeToPlayAction=function(e){var t=cc.moveTo(2,cc.v2(1e3,0)),n=cc.moveTo(2,cc.v2(-100,0)),o=cc.sequence(t,n);e.runAction(o)},t.checkOneDataWithSelfLine=function(e,t){var n=this,o=[!1,!1,!1,!1],a=[];t.forEach(function(t){var a=t.low;e+7===a?o[2]=!0:e-7===a?o[1]=!0:e-1===a&&n.otherTwoDataHandle(e)?o[0]=!0:e+1===a&&n.otherOneDataHandle(e)&&(o[3]=!0)});var i=slot.SlotMachineView.instance.scroller.getRenderByIndex(e);return a.push(i),o[0]?o[3]||(o[1]||o[2]?(o[1]||a.push("downLeft"),o[2]||a.push("downRight")):a.push("specialDownRight","specialDownLeft")):o[1]||o[2]?(!o[1]&&o[3]?a.push("topLeft"):o[1]||o[3]||a.push("specialTopLeft2","specialDownLeft2"),!o[2]&&o[3]?a.push("topRight"):o[2]||o[3]||a.push("specialTopRight2","specialDownRight2")):a.push("specialTopLeft","specialTopRight"),o[0]||o[1]&&o[2]&&a.push("top"),o[3]||o[1]&&o[2]&&a.push("down"),o[0]&&o[3]&&(o[1]||a.push("left"),o[2]||a.push("right")),a},i([c(cc.Prefab)],t.prototype,"prefab",void 0),i([c(cc.SpriteFrame)],t.prototype,"spF",void 0),i([c(cc.Node)],t.prototype,"node_cocos",void 0),i([s],t)}(cc.Component);n.default=l,cc._RF.pop()},{}],winscoreCtrl:[function(e,t,n){"use strict";cc._RF.push(t,"2b129MBJo1Fe4CHOJ57wVRH","winscoreCtrl");var o,a=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__decorate||function(e,t,n,o){var a,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(i<3?a(r):i>3?a(t,n,r):a(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=e("../NumAtlasLabel111004401"),s=cc._decorator,c=s.ccclass,l=s.property,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.label=null,t.text="hello",t}return a(t,e),t.prototype.start=function(){},t.prototype.setScoeNumer=function(e){this.node.getChildByName("winScore").getComponent(r.default).string=e.string()},i([l(cc.Label)],t.prototype,"label",void 0),i([l],t.prototype,"text",void 0),i([c],t)}(cc.Component);n.default=p,cc._RF.pop()},{"../NumAtlasLabel111004401":"NumAtlasLabel111004401"}]},{},["ParticleSpriteFramesRefresh","Banner111004401","GameEventName111004401","NumAtlasLabel111004401","BonusGame111004401","FreeGameResult","GameBg111004401","Btn111004401","CommonNumAtlas111004401","LanguageInfo111004401","LanguageInfoTest","Main111004401","Adaptive111004401","BearCtrl","GameLayer111004401","GameRoller111004401","ShowCandyCtrl","SpinSlotViewExtend111004401","TitleCtral","WinAnimanager111004401","WinIamageNodeCtral","_slotFrameAniViewNodeCtrl","boardCtrl","carImageCtrl","coreCote","femaleMouseCtrl","freeAddTimeNodeCtrl","horseLightCtrl","imgeffectCtral","lineNodeCtrl","mouseBase","mouseCtrl","Cannon","JTChildManager111004401","JTLayerManager111004401","JTLogicFactroy111004401","JTMixElem111004401","JTTest111004401","winscoreCtrl","test","Tool","animationCallBack","blastationCallBack","lightFrameCtrl"]);